{"ast":null,"code":"import _regenerator from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _toConsumableArray from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport { mapGetters } from 'vuex';\nimport * as bootstrap from 'bootstrap';\nimport SystemHealthMonitor from '../../components/admin/SystemHealthMonitor.vue';\nexport default {\n  name: 'AdminDashboard',\n  components: {\n    SystemHealthMonitor: SystemHealthMonitor\n  },\n  data: function data() {\n    return {\n      users: [],\n      systemLogs: [{\n        time: '2025-07-12 00:45:23',\n        user: 'admin@example.com',\n        action: 'User login',\n        ip: '192.168.1.1'\n      }, {\n        time: '2025-07-12 00:30:12',\n        user: 'lecturer1@example.com',\n        action: 'Added new assessment',\n        ip: '192.168.1.2'\n      }, {\n        time: '2025-07-11 23:15:45',\n        user: 'admin@example.com',\n        action: 'Reset password for student2@example.com',\n        ip: '192.168.1.1'\n      }, {\n        time: '2025-07-11 22:05:33',\n        user: 'advisor1@example.com',\n        action: 'User login',\n        ip: '192.168.1.3'\n      }, {\n        time: '2025-07-11 21:45:12',\n        user: 'student1@example.com',\n        action: 'Submitted remark request',\n        ip: '192.168.1.4'\n      }],\n      stats: {\n        courses: 0,\n        activeCourses: 0,\n        currentSemesterCourses: 0,\n        assessments: 0,\n        upcomingAssessments: 0,\n        completedAssessments: 0,\n        totalMarks: 0,\n        totalRemarkRequests: 0,\n        atRiskStudents: 0\n      },\n      searchQuery: '',\n      roleFilter: 'all',\n      userForm: {\n        name: '',\n        email: '',\n        role: 'student',\n        password: '',\n        matricNumber: '',\n        active: true\n      },\n      editingUser: false,\n      selectedUser: null,\n      loading: true\n    };\n  },\n  computed: _objectSpread(_objectSpread(_objectSpread({}, mapGetters(['isLoading'])), mapGetters('auth', ['getUser'])), {}, {\n    userInfo: function userInfo() {\n      return this.getUser || {\n        name: 'Admin'\n      };\n    },\n    userStats: function userStats() {\n      return {\n        total: this.users.length,\n        lecturers: this.users.filter(function (u) {\n          return u.role === 'lecturer';\n        }).length,\n        students: this.users.filter(function (u) {\n          return u.role === 'student';\n        }).length,\n        advisors: this.users.filter(function (u) {\n          return u.role === 'advisor';\n        }).length,\n        admins: this.users.filter(function (u) {\n          return u.role === 'admin';\n        }).length\n      };\n    },\n    filteredUsers: function filteredUsers() {\n      var _this = this;\n      return this.users.filter(function (user) {\n        // Role filter\n        if (_this.roleFilter !== 'all' && user.role !== _this.roleFilter) {\n          return false;\n        }\n\n        // Search query\n        if (_this.searchQuery && !user.name.toLowerCase().includes(_this.searchQuery.toLowerCase()) && !user.email.toLowerCase().includes(_this.searchQuery.toLowerCase())) {\n          return false;\n        }\n        return true;\n      });\n    }\n  }),\n  methods: {\n    getRoleBadgeClass: function getRoleBadgeClass(role) {\n      switch (role) {\n        case 'admin':\n          return 'bg-danger';\n        case 'lecturer':\n          return 'bg-primary';\n        case 'student':\n          return 'bg-info';\n        case 'advisor':\n          return 'bg-success';\n        default:\n          return 'bg-secondary';\n      }\n    },\n    openAddUserModal: function openAddUserModal() {\n      this.editingUser = false;\n      this.userForm = {\n        name: '',\n        email: '',\n        role: 'student',\n        password: '',\n        matricNumber: '',\n        active: true\n      };\n\n      // Open modal\n      var modal = new bootstrap.Modal(document.getElementById('userModal'));\n      modal.show();\n    },\n    editUser: function editUser(user) {\n      this.editingUser = true;\n      this.userForm = _objectSpread({}, user);\n\n      // Open modal\n      var modal = new bootstrap.Modal(document.getElementById('userModal'));\n      modal.show();\n    },\n    saveUser: function saveUser() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var index, newUser, modalElement, modal;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              try {\n                // In a real app, this would make an API call\n                console.log('Saving user:', _this2.userForm);\n                if (_this2.editingUser) {\n                  // Update existing user\n                  index = _this2.users.findIndex(function (u) {\n                    return u.id === _this2.userForm.id;\n                  });\n                  if (index !== -1) {\n                    _this2.users[index] = _objectSpread({}, _this2.userForm);\n                  }\n                } else {\n                  // Add new user with ID\n                  newUser = _objectSpread(_objectSpread({}, _this2.userForm), {}, {\n                    id: Math.max.apply(Math, _toConsumableArray(_this2.users.map(function (u) {\n                      return u.id;\n                    }))) + 1\n                  });\n                  _this2.users.push(newUser);\n                }\n\n                // Close modal\n                modalElement = document.getElementById('userModal');\n                modal = bootstrap.Modal.getInstance(modalElement);\n                modal.hide();\n\n                // Show success message\n                alert(\"User \".concat(_this2.editingUser ? 'updated' : 'added', \" successfully\"));\n              } catch (error) {\n                console.error('Error saving user:', error);\n                alert('Failed to save user. Please try again.');\n              }\n            case 1:\n              return _context.a(2);\n          }\n        }, _callee);\n      }))();\n    },\n    resetPassword: function resetPassword(user) {\n      this.selectedUser = user;\n\n      // Open confirmation modal\n      var modal = new bootstrap.Modal(document.getElementById('resetPasswordModal'));\n      modal.show();\n    },\n    confirmResetPassword: function confirmResetPassword() {\n      var _this3 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var modalElement, modal;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              try {\n                // In a real app, this would make an API call\n                console.log(\"Resetting password for user \".concat(_this3.selectedUser.id, \": \").concat(_this3.selectedUser.email));\n\n                // Close modal\n                modalElement = document.getElementById('resetPasswordModal');\n                modal = bootstrap.Modal.getInstance(modalElement);\n                modal.hide();\n\n                // Show success message\n                alert(\"Password reset for \".concat(_this3.selectedUser.name, \". A temporary password has been sent to their email.\"));\n              } catch (error) {\n                console.error('Error resetting password:', error);\n                alert('Failed to reset password. Please try again.');\n              }\n            case 1:\n              return _context2.a(2);\n          }\n        }, _callee2);\n      }))();\n    },\n    toggleUserStatus: function toggleUserStatus(user) {\n      var _this4 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3() {\n        var index;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.n) {\n            case 0:\n              try {\n                // In a real app, this would make an API call\n                console.log(\"Toggling status for user \".concat(user.id, \": \").concat(user.email));\n\n                // Update user status\n                index = _this4.users.findIndex(function (u) {\n                  return u.id === user.id;\n                });\n                if (index !== -1) {\n                  _this4.users[index].active = !user.active;\n                }\n\n                // Show success message\n                alert(\"User \".concat(user.name, \" has been \").concat(user.active ? 'deactivated' : 'activated', \".\"));\n              } catch (error) {\n                console.error('Error toggling user status:', error);\n                alert('Failed to update user status. Please try again.');\n              }\n            case 1:\n              return _context3.a(2);\n          }\n        }, _callee3);\n      }))();\n    },\n    openBatchUploadModal: function openBatchUploadModal() {\n      alert('Batch Upload Users feature would open here');\n    },\n    openAssignLecturersModal: function openAssignLecturersModal() {\n      alert('Assign Lecturers to Courses feature would open here');\n    },\n    openBackupModal: function openBackupModal() {\n      alert('Database Backup feature would open here');\n    },\n    openSystemSettingsModal: function openSystemSettingsModal() {\n      alert('System Settings feature would open here');\n    },\n    logout: function logout() {\n      var _this5 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4() {\n        return _regenerator().w(function (_context4) {\n          while (1) switch (_context4.n) {\n            case 0:\n              if (!confirm('Are you sure you want to logout?')) {\n                _context4.n = 2;\n                break;\n              }\n              _context4.n = 1;\n              return _this5.$store.dispatch('auth/logout');\n            case 1:\n              _this5.$router.push('/login');\n            case 2:\n              return _context4.a(2);\n          }\n        }, _callee4);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","bootstrap","SystemHealthMonitor","name","components","data","users","systemLogs","time","user","action","ip","stats","courses","activeCourses","currentSemesterCourses","assessments","upcomingAssessments","completedAssessments","totalMarks","totalRemarkRequests","atRiskStudents","searchQuery","roleFilter","userForm","email","role","password","matricNumber","active","editingUser","selectedUser","loading","computed","_objectSpread","userInfo","getUser","userStats","total","length","lecturers","filter","u","students","advisors","admins","filteredUsers","_this","toLowerCase","includes","methods","getRoleBadgeClass","openAddUserModal","modal","Modal","document","getElementById","show","editUser","saveUser","_this2","_asyncToGenerator","_regenerator","m","_callee","index","newUser","modalElement","w","_context","n","console","log","findIndex","id","Math","max","apply","_toConsumableArray","map","push","getInstance","hide","alert","concat","error","a","resetPassword","confirmResetPassword","_this3","_callee2","_context2","toggleUserStatus","_this4","_callee3","_context3","openBatchUploadModal","openAssignLecturersModal","openBackupModal","openSystemSettingsModal","logout","_this5","_callee4","_context4","confirm","$store","dispatch","$router"],"sources":["C:\\Users\\ansmu\\Desktop\\Web\\NEW\\course-mark-management\\frontend\\src\\views\\admin\\Dashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"admin-dashboard\">\r\n    <!-- Dashboard Header -->\r\n    <div class=\"dashboard-header d-flex justify-content-between align-items-center mb-4\">\r\n      <h1 class=\"mb-0\">Admin Dashboard</h1>\r\n      <div class=\"user-info d-flex align-items-center\">\r\n        <span class=\"me-3\">Welcome, {{ userInfo.name }}</span>\r\n        <button class=\"btn btn-outline-danger btn-sm\" @click=\"logout\">\r\n          <i class=\"fas fa-sign-out-alt me-1\"></i>\r\n          Logout\r\n        </button>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"row mb-4\">\r\n      <div class=\"col-md-3\">\r\n        <div class=\"card h-100 bg-primary text-white dashboard-stat\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Users</h5>\r\n            <div class=\"d-flex align-items-center\">\r\n              <div class=\"dashboard-stat-icon\">\r\n                <i class=\"fas fa-users\"></i>\r\n              </div>\r\n              <div class=\"dashboard-stat-number\">\r\n                {{ userStats.total }}\r\n              </div>\r\n            </div>\r\n            <div class=\"dashboard-stat-details\">\r\n              <div>Lecturers: {{ userStats.lecturers }}</div>\r\n              <div>Students: {{ userStats.students }}</div>\r\n              <div>Advisors: {{ userStats.advisors }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"col-md-3\">\r\n        <div class=\"card h-100 bg-success text-white dashboard-stat\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Courses</h5>\r\n            <div class=\"d-flex align-items-center\">\r\n              <div class=\"dashboard-stat-icon\">\r\n                <i class=\"fas fa-book\"></i>\r\n              </div>\r\n              <div class=\"dashboard-stat-number\">\r\n                {{ stats.courses }}\r\n              </div>\r\n            </div>\r\n            <div class=\"dashboard-stat-details\">\r\n              <div>Active: {{ stats.activeCourses }}</div>\r\n              <div>This Semester: {{ stats.currentSemesterCourses }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"col-md-3\">\r\n        <div class=\"card h-100 bg-warning text-white dashboard-stat\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Assessments</h5>\r\n            <div class=\"d-flex align-items-center\">\r\n              <div class=\"dashboard-stat-icon\">\r\n                <i class=\"fas fa-tasks\"></i>\r\n              </div>\r\n              <div class=\"dashboard-stat-number\">\r\n                {{ stats.assessments }}\r\n              </div>\r\n            </div>\r\n            <div class=\"dashboard-stat-details\">\r\n              <div>Upcoming: {{ stats.upcomingAssessments }}</div>\r\n              <div>Completed: {{ stats.completedAssessments }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"col-md-3\">\r\n        <div class=\"card h-100 bg-danger text-white dashboard-stat\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">System</h5>\r\n            <div class=\"d-flex align-items-center\">\r\n              <div class=\"dashboard-stat-icon\">\r\n                <i class=\"fas fa-server\"></i>\r\n              </div>\r\n              <div class=\"dashboard-stat-number\">\r\n                <i class=\"fas fa-check-circle\"></i>\r\n              </div>\r\n            </div>\r\n            <div class=\"dashboard-stat-details\">\r\n              <div>Database: Online</div>\r\n              <div>Last Backup: 2 hours ago</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"row\">\r\n      <div class=\"col-md-8\">\r\n        <!-- System Health Component -->\r\n        <system-health-monitor />\r\n        \r\n        <div class=\"card mb-4\">\r\n          <div class=\"card-body\">\r\n            <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n              <h5 class=\"card-title mb-0\">User Management</h5>\r\n              <button class=\"btn btn-primary btn-sm\" @click=\"openAddUserModal\">\r\n                <i class=\"fas fa-plus-circle me-2\"></i>\r\n                Add User\r\n              </button>\r\n            </div>\r\n            \r\n            <div class=\"mb-3 d-flex justify-content-between align-items-center\">\r\n              <div class=\"input-group\" style=\"width: 300px;\">\r\n                <span class=\"input-group-text bg-white border-end-0\">\r\n                  <i class=\"fas fa-search text-muted\"></i>\r\n                </span>\r\n                <input \r\n                  type=\"text\" \r\n                  class=\"form-control border-start-0\"\r\n                  placeholder=\"Search users...\"\r\n                  v-model=\"searchQuery\"\r\n                >\r\n              </div>\r\n              \r\n              <div class=\"btn-group\">\r\n                <button \r\n                  class=\"btn\" \r\n                  :class=\"roleFilter === 'all' ? 'btn-primary' : 'btn-outline-primary'\" \r\n                  @click=\"roleFilter = 'all'\"\r\n                >\r\n                  All\r\n                </button>\r\n                <button \r\n                  class=\"btn\" \r\n                  :class=\"roleFilter === 'lecturer' ? 'btn-primary' : 'btn-outline-primary'\" \r\n                  @click=\"roleFilter = 'lecturer'\"\r\n                >\r\n                  Lecturers\r\n                </button>\r\n                <button \r\n                  class=\"btn\" \r\n                  :class=\"roleFilter === 'student' ? 'btn-primary' : 'btn-outline-primary'\" \r\n                  @click=\"roleFilter = 'student'\"\r\n                >\r\n                  Students\r\n                </button>\r\n                <button \r\n                  class=\"btn\" \r\n                  :class=\"roleFilter === 'advisor' ? 'btn-primary' : 'btn-outline-primary'\" \r\n                  @click=\"roleFilter = 'advisor'\"\r\n                >\r\n                  Advisors\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"table-responsive\">\r\n              <table class=\"table table-hover\">\r\n                <thead class=\"table-light\">\r\n                  <tr>\r\n                    <th>Name</th>\r\n                    <th>Email</th>\r\n                    <th>Role</th>\r\n                    <th>Status</th>\r\n                    <th>Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"user in filteredUsers\" :key=\"user.id\">\r\n                    <td>{{ user.name }}</td>\r\n                    <td>{{ user.email }}</td>\r\n                    <td>\r\n                      <span class=\"badge\" :class=\"getRoleBadgeClass(user.role)\">\r\n                        {{ user.role.toUpperCase() }}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <span class=\"badge\" :class=\"user.active ? 'bg-success' : 'bg-danger'\">\r\n                        {{ user.active ? 'Active' : 'Inactive' }}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <div class=\"btn-group btn-group-sm\">\r\n                        <button \r\n                          class=\"btn btn-outline-primary\" \r\n                          @click=\"editUser(user)\"\r\n                          title=\"Edit User\"\r\n                        >\r\n                          <i class=\"fas fa-edit\"></i>\r\n                        </button>\r\n                        <button \r\n                          class=\"btn btn-outline-warning\" \r\n                          @click=\"resetPassword(user)\"\r\n                          title=\"Reset Password\"\r\n                        >\r\n                          <i class=\"fas fa-key\"></i>\r\n                        </button>\r\n                        <button \r\n                          class=\"btn\" \r\n                          :class=\"user.active ? 'btn-outline-danger' : 'btn-outline-success'\"\r\n                          @click=\"toggleUserStatus(user)\"\r\n                          :title=\"user.active ? 'Deactivate User' : 'Activate User'\"\r\n                        >\r\n                          <i class=\"fas\" :class=\"user.active ? 'fa-user-slash' : 'fa-user-check'\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            \r\n            <div class=\"d-flex justify-content-between align-items-center mt-3\">\r\n              <div>\r\n                <span class=\"text-muted\">Showing {{ filteredUsers.length }} of {{ users.length }} users</span>\r\n              </div>\r\n              <nav aria-label=\"Page navigation\">\r\n                <ul class=\"pagination pagination-sm mb-0\">\r\n                  <li class=\"page-item\"><a class=\"page-link\" href=\"#\">Previous</a></li>\r\n                  <li class=\"page-item active\"><a class=\"page-link\" href=\"#\">1</a></li>\r\n                  <li class=\"page-item\"><a class=\"page-link\" href=\"#\">2</a></li>\r\n                  <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\r\n                  <li class=\"page-item\"><a class=\"page-link\" href=\"#\">Next</a></li>\r\n                </ul>\r\n              </nav>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n              <h5 class=\"card-title mb-0\">System Logs</h5>\r\n              <div>\r\n                <button class=\"btn btn-outline-secondary btn-sm me-2\">\r\n                  <i class=\"fas fa-filter me-1\"></i>\r\n                  Filter\r\n                </button>\r\n                <button class=\"btn btn-outline-primary btn-sm\">\r\n                  <i class=\"fas fa-download me-1\"></i>\r\n                  Export\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"table-responsive\">\r\n              <table class=\"table table-sm\">\r\n                <thead class=\"table-light\">\r\n                  <tr>\r\n                    <th>Time</th>\r\n                    <th>User</th>\r\n                    <th>Action</th>\r\n                    <th>IP Address</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"(log, index) in systemLogs\" :key=\"index\">\r\n                    <td>{{ log.time }}</td>\r\n                    <td>{{ log.user }}</td>\r\n                    <td>{{ log.action }}</td>\r\n                    <td>{{ log.ip }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"col-md-4\">\r\n        <div class=\"card mb-4\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Quick Actions</h5>\r\n            \r\n            <div class=\"list-group\">\r\n              <router-link to=\"/admin/enrollments\" class=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\">\r\n                <div>\r\n                  <i class=\"fas fa-users text-info me-3\"></i>\r\n                  Manage Student Enrollments\r\n                </div>\r\n                <i class=\"fas fa-chevron-right text-muted\"></i>\r\n              </router-link>\r\n              <button class=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\" @click=\"openBatchUploadModal\">\r\n                <div>\r\n                  <i class=\"fas fa-upload text-primary me-3\"></i>\r\n                  Batch Upload Users\r\n                </div>\r\n                <i class=\"fas fa-chevron-right text-muted\"></i>\r\n              </button>\r\n              <button class=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\" @click=\"openAssignLecturersModal\">\r\n                <div>\r\n                  <i class=\"fas fa-chalkboard-teacher text-success me-3\"></i>\r\n                  Assign Lecturers to Courses\r\n                </div>\r\n                <i class=\"fas fa-chevron-right text-muted\"></i>\r\n              </button>\r\n              <button class=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\" @click=\"openBackupModal\">\r\n                <div>\r\n                  <i class=\"fas fa-database text-warning me-3\"></i>\r\n                  Backup Database\r\n                </div>\r\n                <i class=\"fas fa-chevron-right text-muted\"></i>\r\n              </button>\r\n              <button class=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\" @click=\"openSystemSettingsModal\">\r\n                <div>\r\n                  <i class=\"fas fa-cog text-secondary me-3\"></i>\r\n                  System Settings\r\n                </div>\r\n                <i class=\"fas fa-chevron-right text-muted\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"card mb-4\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">System Health</h5>\r\n            \r\n            <div class=\"mb-3\">\r\n              <label class=\"form-label d-flex justify-content-between\">\r\n                <span>Database Storage</span>\r\n                <span>65%</span>\r\n              </label>\r\n              <div class=\"progress\">\r\n                <div class=\"progress-bar bg-success\" role=\"progressbar\" style=\"width: 65%\" aria-valuenow=\"65\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"mb-3\">\r\n              <label class=\"form-label d-flex justify-content-between\">\r\n                <span>File Storage</span>\r\n                <span>42%</span>\r\n              </label>\r\n              <div class=\"progress\">\r\n                <div class=\"progress-bar bg-success\" role=\"progressbar\" style=\"width: 42%\" aria-valuenow=\"42\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"mb-3\">\r\n              <label class=\"form-label d-flex justify-content-between\">\r\n                <span>CPU Usage</span>\r\n                <span>28%</span>\r\n              </label>\r\n              <div class=\"progress\">\r\n                <div class=\"progress-bar bg-success\" role=\"progressbar\" style=\"width: 28%\" aria-valuenow=\"28\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"alert alert-success mb-0\">\r\n              <i class=\"fas fa-check-circle me-2\"></i>\r\n              All systems operating normally\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Upcoming Maintenance</h5>\r\n            <div class=\"d-flex align-items-center mb-3\">\r\n              <div class=\"maintenance-date bg-light rounded p-2 me-3 text-center\">\r\n                <div class=\"fw-bold\">15</div>\r\n                <div class=\"small\">Jul</div>\r\n              </div>\r\n              <div>\r\n                <div class=\"fw-bold\">Database Optimization</div>\r\n                <div class=\"text-muted small\">Scheduled: 02:00 - 04:00 AM</div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"d-flex align-items-center\">\r\n              <div class=\"maintenance-date bg-light rounded p-2 me-3 text-center\">\r\n                <div class=\"fw-bold\">22</div>\r\n                <div class=\"small\">Jul</div>\r\n              </div>\r\n              <div>\r\n                <div class=\"fw-bold\">System Upgrade</div>\r\n                <div class=\"text-muted small\">Scheduled: 01:00 - 03:00 AM</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Add/Edit User Modal -->\r\n    <div class=\"modal fade\" id=\"userModal\" tabindex=\"-1\" aria-labelledby=\"userModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"userModalLabel\">{{ editingUser ? 'Edit User' : 'Add New User' }}</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <form @submit.prevent=\"saveUser\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"userName\" class=\"form-label\">Name</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"userName\" v-model=\"userForm.name\" required>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"userEmail\" class=\"form-label\">Email</label>\r\n                <input type=\"email\" class=\"form-control\" id=\"userEmail\" v-model=\"userForm.email\" required>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"userRole\" class=\"form-label\">Role</label>\r\n                <select class=\"form-select\" id=\"userRole\" v-model=\"userForm.role\" required>\r\n                  <option value=\"lecturer\">Lecturer</option>\r\n                  <option value=\"student\">Student</option>\r\n                  <option value=\"advisor\">Advisor</option>\r\n                  <option value=\"admin\">Admin</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div class=\"mb-3\" v-if=\"userForm.role === 'student'\">\r\n                <label for=\"matricNumber\" class=\"form-label\">Matric Number</label>\r\n                <input type=\"text\" class=\"form-control\" id=\"matricNumber\" v-model=\"userForm.matricNumber\">\r\n              </div>\r\n              \r\n              <div v-if=\"!editingUser\" class=\"mb-3\">\r\n                <label for=\"userPassword\" class=\"form-label\">Password</label>\r\n                <input type=\"password\" class=\"form-control\" id=\"userPassword\" v-model=\"userForm.password\" required>\r\n              </div>\r\n              \r\n              <div class=\"form-check form-switch mb-3\">\r\n                <input class=\"form-check-input\" type=\"checkbox\" id=\"userActive\" v-model=\"userForm.active\">\r\n                <label class=\"form-check-label\" for=\"userActive\">Active Account</label>\r\n              </div>\r\n              \r\n              <div class=\"d-flex justify-content-end\">\r\n                <button type=\"button\" class=\"btn btn-secondary me-2\" data-bs-dismiss=\"modal\">Cancel</button>\r\n                <button type=\"submit\" class=\"btn btn-primary\">Save</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Reset Password Confirmation Modal -->\r\n    <div class=\"modal fade\" id=\"resetPasswordModal\" tabindex=\"-1\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">Reset User Password</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <p>Are you sure you want to reset the password for <strong>{{ selectedUser ? selectedUser.name : '' }}</strong>?</p>\r\n            <p>A new temporary password will be generated and sent to their email address.</p>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n            <button type=\"button\" class=\"btn btn-warning\" @click=\"confirmResetPassword\">Reset Password</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport * as bootstrap from 'bootstrap';\r\nimport SystemHealthMonitor from '../../components/admin/SystemHealthMonitor.vue';\r\n\r\nexport default {\r\n  name: 'AdminDashboard',\r\n  components: {\r\n    SystemHealthMonitor\r\n  },\r\n  data() {\r\n    return {\r\n      users: [],\r\n      systemLogs: [\r\n        { time: '2025-07-12 00:45:23', user: 'admin@example.com', action: 'User login', ip: '192.168.1.1' },\r\n        { time: '2025-07-12 00:30:12', user: 'lecturer1@example.com', action: 'Added new assessment', ip: '192.168.1.2' },\r\n        { time: '2025-07-11 23:15:45', user: 'admin@example.com', action: 'Reset password for student2@example.com', ip: '192.168.1.1' },\r\n        { time: '2025-07-11 22:05:33', user: 'advisor1@example.com', action: 'User login', ip: '192.168.1.3' },\r\n        { time: '2025-07-11 21:45:12', user: 'student1@example.com', action: 'Submitted remark request', ip: '192.168.1.4' }\r\n      ],\r\n      stats: {\r\n        courses: 0,\r\n        activeCourses: 0,\r\n        currentSemesterCourses: 0,\r\n        assessments: 0,\r\n        upcomingAssessments: 0,\r\n        completedAssessments: 0,\r\n        totalMarks: 0,\r\n        totalRemarkRequests: 0,\r\n        atRiskStudents: 0\r\n      },\r\n      searchQuery: '',\r\n      roleFilter: 'all',\r\n      userForm: {\r\n        name: '',\r\n        email: '',\r\n        role: 'student',\r\n        password: '',\r\n        matricNumber: '',\r\n        active: true\r\n      },\r\n      editingUser: false,\r\n      selectedUser: null,\r\n      loading: true\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(['isLoading']),\r\n    ...mapGetters('auth', ['getUser']),\r\n    \r\n    userInfo() {\r\n      return this.getUser || { name: 'Admin' };\r\n    },\r\n    \r\n    userStats() {\r\n      return {\r\n        total: this.users.length,\r\n        lecturers: this.users.filter(u => u.role === 'lecturer').length,\r\n        students: this.users.filter(u => u.role === 'student').length,\r\n        advisors: this.users.filter(u => u.role === 'advisor').length,\r\n        admins: this.users.filter(u => u.role === 'admin').length\r\n      };\r\n    },\r\n    \r\n    filteredUsers() {\r\n      return this.users.filter(user => {\r\n        // Role filter\r\n        if (this.roleFilter !== 'all' && user.role !== this.roleFilter) {\r\n          return false;\r\n        }\r\n        \r\n        // Search query\r\n        if (this.searchQuery && \r\n            !user.name.toLowerCase().includes(this.searchQuery.toLowerCase()) && \r\n            !user.email.toLowerCase().includes(this.searchQuery.toLowerCase())) {\r\n          return false;\r\n        }\r\n        \r\n        return true;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    getRoleBadgeClass(role) {\r\n      switch (role) {\r\n        case 'admin': return 'bg-danger';\r\n        case 'lecturer': return 'bg-primary';\r\n        case 'student': return 'bg-info';\r\n        case 'advisor': return 'bg-success';\r\n        default: return 'bg-secondary';\r\n      }\r\n    },\r\n    \r\n    openAddUserModal() {\r\n      this.editingUser = false;\r\n      this.userForm = {\r\n        name: '',\r\n        email: '',\r\n        role: 'student',\r\n        password: '',\r\n        matricNumber: '',\r\n        active: true\r\n      };\r\n      \r\n      // Open modal\r\n      const modal = new bootstrap.Modal(document.getElementById('userModal'));\r\n      modal.show();\r\n    },\r\n    \r\n    editUser(user) {\r\n      this.editingUser = true;\r\n      this.userForm = { ...user };\r\n      \r\n      // Open modal\r\n      const modal = new bootstrap.Modal(document.getElementById('userModal'));\r\n      modal.show();\r\n    },\r\n    \r\n    async saveUser() {\r\n      try {\r\n        // In a real app, this would make an API call\r\n        console.log('Saving user:', this.userForm);\r\n        \r\n        if (this.editingUser) {\r\n          // Update existing user\r\n          const index = this.users.findIndex(u => u.id === this.userForm.id);\r\n          if (index !== -1) {\r\n            this.users[index] = { ...this.userForm };\r\n          }\r\n        } else {\r\n          // Add new user with ID\r\n          const newUser = {\r\n            ...this.userForm,\r\n            id: Math.max(...this.users.map(u => u.id)) + 1\r\n          };\r\n          this.users.push(newUser);\r\n        }\r\n        \r\n        // Close modal\r\n        const modalElement = document.getElementById('userModal');\r\n        const modal = bootstrap.Modal.getInstance(modalElement);\r\n        modal.hide();\r\n        \r\n        // Show success message\r\n        alert(`User ${this.editingUser ? 'updated' : 'added'} successfully`);\r\n      } catch (error) {\r\n        console.error('Error saving user:', error);\r\n        alert('Failed to save user. Please try again.');\r\n      }\r\n    },\r\n    \r\n    resetPassword(user) {\r\n      this.selectedUser = user;\r\n      \r\n      // Open confirmation modal\r\n      const modal = new bootstrap.Modal(document.getElementById('resetPasswordModal'));\r\n      modal.show();\r\n    },\r\n    \r\n    async confirmResetPassword() {\r\n      try {\r\n        // In a real app, this would make an API call\r\n        console.log(`Resetting password for user ${this.selectedUser.id}: ${this.selectedUser.email}`);\r\n        \r\n        // Close modal\r\n        const modalElement = document.getElementById('resetPasswordModal');\r\n        const modal = bootstrap.Modal.getInstance(modalElement);\r\n        modal.hide();\r\n        \r\n        // Show success message\r\n        alert(`Password reset for ${this.selectedUser.name}. A temporary password has been sent to their email.`);\r\n      } catch (error) {\r\n        console.error('Error resetting password:', error);\r\n        alert('Failed to reset password. Please try again.');\r\n      }\r\n    },\r\n    \r\n    async toggleUserStatus(user) {\r\n      try {\r\n        // In a real app, this would make an API call\r\n        console.log(`Toggling status for user ${user.id}: ${user.email}`);\r\n        \r\n        // Update user status\r\n        const index = this.users.findIndex(u => u.id === user.id);\r\n        if (index !== -1) {\r\n          this.users[index].active = !user.active;\r\n        }\r\n        \r\n        // Show success message\r\n        alert(`User ${user.name} has been ${user.active ? 'deactivated' : 'activated'}.`);\r\n      } catch (error) {\r\n        console.error('Error toggling user status:', error);\r\n        alert('Failed to update user status. Please try again.');\r\n      }\r\n    },\r\n    \r\n    openBatchUploadModal() {\r\n      alert('Batch Upload Users feature would open here');\r\n    },\r\n    \r\n    openAssignLecturersModal() {\r\n      alert('Assign Lecturers to Courses feature would open here');\r\n    },\r\n    \r\n    openBackupModal() {\r\n      alert('Database Backup feature would open here');\r\n    },\r\n    \r\n    openSystemSettingsModal() {\r\n      alert('System Settings feature would open here');\r\n    },\r\n\r\n    async logout() {\r\n      if (confirm('Are you sure you want to logout?')) {\r\n        await this.$store.dispatch('auth/logout');\r\n        this.$router.push('/login');\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.admin-dashboard h1 {\r\n  color: #2c3e50;\r\n  font-weight: 700;\r\n}\r\n\r\n.card {\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  border: none;\r\n  border-radius: 10px;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.dashboard-stat {\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.dashboard-stat-icon {\r\n  font-size: 2.5rem;\r\n  opacity: 0.7;\r\n  margin-right: 1rem;\r\n}\r\n\r\n.dashboard-stat-number {\r\n  font-size: 2.5rem;\r\n  font-weight: 700;\r\n}\r\n\r\n.dashboard-stat-details {\r\n  margin-top: 0.5rem;\r\n  opacity: 0.8;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.table th {\r\n  font-weight: 600;\r\n}\r\n\r\n.badge {\r\n  padding: 0.5em 0.85em;\r\n  font-weight: 500;\r\n  text-transform: capitalize;\r\n}\r\n\r\n.maintenance-date {\r\n  min-width: 50px;\r\n}\r\n\r\n.form-check-input:checked {\r\n  background-color: #2c3e50;\r\n  border-color: #2c3e50;\r\n}\r\n\r\n.list-group-item {\r\n  border-left: 0;\r\n  border-right: 0;\r\n  padding: 0.75rem 1rem;\r\n}\r\n\r\n.list-group-item:first-child {\r\n  border-top: 0;\r\n}\r\n\r\n.list-group-item:last-child {\r\n  border-bottom: 0;\r\n}\r\n\r\n.pagination .page-link {\r\n  color: #2c3e50;\r\n}\r\n\r\n.pagination .active .page-link {\r\n  background-color: #2c3e50;\r\n  border-color: #2c3e50;\r\n}\r\n\r\n.progress {\r\n  height: 0.5rem;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}