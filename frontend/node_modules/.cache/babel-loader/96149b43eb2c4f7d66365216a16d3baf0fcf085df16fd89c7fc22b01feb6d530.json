{"ast":null,"code":"import _toConsumableArray from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, renderList as _renderList, Fragment as _Fragment, vModelText as _vModelText, withDirectives as _withDirectives, vModelCheckbox as _vModelCheckbox } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"student-detail\"\n};\nvar _hoisted_2 = {\n  \"class\": \"d-flex justify-content-between align-items-center mb-4\"\n};\nvar _hoisted_3 = {\n  \"aria-label\": \"breadcrumb\"\n};\nvar _hoisted_4 = {\n  \"class\": \"breadcrumb\"\n};\nvar _hoisted_5 = {\n  \"class\": \"breadcrumb-item\"\n};\nvar _hoisted_6 = {\n  key: 0,\n  \"class\": \"breadcrumb-item\"\n};\nvar _hoisted_7 = {\n  \"class\": \"breadcrumb-item active\",\n  \"aria-current\": \"page\"\n};\nvar _hoisted_8 = {\n  \"class\": \"mb-2\"\n};\nvar _hoisted_9 = {\n  key: 0\n};\nvar _hoisted_10 = {\n  key: 1\n};\nvar _hoisted_11 = {\n  key: 0,\n  \"class\": \"text-muted\"\n};\nvar _hoisted_12 = {\n  \"class\": \"btn-group\"\n};\nvar _hoisted_13 = {\n  key: 0,\n  \"class\": \"text-center my-5\"\n};\nvar _hoisted_14 = {\n  \"class\": \"mt-3\"\n};\nvar _hoisted_15 = {\n  key: 1,\n  \"class\": \"alert alert-info mb-3\"\n};\nvar _hoisted_16 = {\n  key: 0\n};\nvar _hoisted_17 = {\n  key: 2,\n  \"class\": \"alert alert-danger\"\n};\nvar _hoisted_18 = {\n  key: 3,\n  \"class\": \"alert alert-warning\"\n};\nvar _hoisted_19 = {\n  key: 4,\n  \"class\": \"row\"\n};\nvar _hoisted_20 = {\n  \"class\": \"col-md-4 mb-4\"\n};\nvar _hoisted_21 = {\n  \"class\": \"card h-100\"\n};\nvar _hoisted_22 = {\n  \"class\": \"card-body\"\n};\nvar _hoisted_23 = {\n  \"class\": \"text-center mb-4\"\n};\nvar _hoisted_24 = {\n  \"class\": \"mt-3\"\n};\nvar _hoisted_25 = {\n  \"class\": \"text-muted mb-1\"\n};\nvar _hoisted_26 = {\n  \"class\": \"badge bg-primary\"\n};\nvar _hoisted_27 = {\n  \"class\": \"table table-sm\"\n};\nvar _hoisted_28 = {\n  \"class\": \"col-md-8 mb-4\"\n};\nvar _hoisted_29 = {\n  \"class\": \"card mb-4\"\n};\nvar _hoisted_30 = {\n  \"class\": \"card-header bg-light d-flex justify-content-between align-items-center\"\n};\nvar _hoisted_31 = {\n  key: 0\n};\nvar _hoisted_32 = {\n  \"class\": \"card-body\"\n};\nvar _hoisted_33 = {\n  key: 0,\n  \"class\": \"text-center py-3\"\n};\nvar _hoisted_34 = {\n  key: 1,\n  \"class\": \"text-center py-3\"\n};\nvar _hoisted_35 = {\n  key: 2\n};\nvar _hoisted_36 = {\n  \"class\": \"mb-4\"\n};\nvar _hoisted_37 = {\n  \"class\": \"d-flex justify-content-between mb-1\"\n};\nvar _hoisted_38 = {\n  \"class\": \"progress\",\n  style: {\n    \"height\": \"20px\"\n  }\n};\nvar _hoisted_39 = [\"aria-valuenow\"];\nvar _hoisted_40 = {\n  \"class\": \"table-responsive\"\n};\nvar _hoisted_41 = {\n  \"class\": \"table table-hover\"\n};\nvar _hoisted_42 = {\n  \"class\": \"small text-muted\"\n};\nvar _hoisted_43 = [\"onClick\"];\nvar _hoisted_44 = {\n  \"class\": \"card\"\n};\nvar _hoisted_45 = {\n  \"class\": \"card-header bg-light d-flex justify-content-between align-items-center\"\n};\nvar _hoisted_46 = {\n  \"class\": \"card-body\"\n};\nvar _hoisted_47 = {\n  key: 0,\n  \"class\": \"text-center py-3\"\n};\nvar _hoisted_48 = {\n  key: 1,\n  \"class\": \"timeline\"\n};\nvar _hoisted_49 = {\n  \"class\": \"timeline-item-icon\"\n};\nvar _hoisted_50 = {\n  \"class\": \"timeline-item-content\"\n};\nvar _hoisted_51 = {\n  \"class\": \"d-flex justify-content-between align-items-start\"\n};\nvar _hoisted_52 = {\n  \"class\": \"btn-group btn-group-sm\"\n};\nvar _hoisted_53 = [\"onClick\"];\nvar _hoisted_54 = [\"onClick\"];\nvar _hoisted_55 = {\n  \"class\": \"text-muted\"\n};\nvar _hoisted_56 = {\n  \"class\": \"modal fade\",\n  id: \"editMarkModal\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"editMarkModalLabel\",\n  \"aria-hidden\": \"true\"\n};\nvar _hoisted_57 = {\n  \"class\": \"modal-dialog\"\n};\nvar _hoisted_58 = {\n  \"class\": \"modal-content\"\n};\nvar _hoisted_59 = {\n  \"class\": \"modal-body\"\n};\nvar _hoisted_60 = {\n  key: 0\n};\nvar _hoisted_61 = {\n  \"class\": \"mb-3\"\n};\nvar _hoisted_62 = {\n  \"for\": \"markInput\",\n  \"class\": \"form-label\"\n};\nvar _hoisted_63 = {\n  \"class\": \"input-group\"\n};\nvar _hoisted_64 = [\"max\"];\nvar _hoisted_65 = {\n  \"class\": \"input-group-text\"\n};\nvar _hoisted_66 = {\n  \"class\": \"mb-3\"\n};\nvar _hoisted_67 = {\n  \"class\": \"modal-footer\"\n};\nvar _hoisted_68 = {\n  \"class\": \"modal fade\",\n  id: \"noteModal\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"noteModalLabel\",\n  \"aria-hidden\": \"true\"\n};\nvar _hoisted_69 = {\n  \"class\": \"modal-dialog\"\n};\nvar _hoisted_70 = {\n  \"class\": \"modal-content\"\n};\nvar _hoisted_71 = {\n  \"class\": \"modal-header\"\n};\nvar _hoisted_72 = {\n  \"class\": \"modal-title\",\n  id: \"noteModalLabel\"\n};\nvar _hoisted_73 = {\n  \"class\": \"modal-body\"\n};\nvar _hoisted_74 = {\n  \"class\": \"mb-3\"\n};\nvar _hoisted_75 = {\n  \"class\": \"mb-3\"\n};\nvar _hoisted_76 = {\n  \"class\": \"mb-3 form-check\"\n};\nvar _hoisted_77 = {\n  \"class\": \"modal-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", null, [_createElementVNode(\"nav\", _hoisted_3, [_createElementVNode(\"ol\", _hoisted_4, [_createElementVNode(\"li\", _hoisted_5, [_createVNode(_component_router_link, {\n    to: \"/lecturer/dashboard\"\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[9] || (_cache[9] = [_createTextVNode(\"Dashboard\")]);\n    }),\n    _: 1 /* STABLE */,\n    __: [9]\n  })]), _ctx.course ? (_openBlock(), _createElementBlock(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    to: \"/lecturer/course/\".concat(_ctx.course.id)\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createTextVNode(_toDisplayString(_ctx.course.code) + \" - \" + _toDisplayString(_ctx.course.name), 1 /* TEXT */)];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"li\", _hoisted_7, _toDisplayString(_ctx.student ? _ctx.student.name : 'Student Details'), 1 /* TEXT */)])]), _createElementVNode(\"h1\", _hoisted_8, [_ctx.student ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, _toDisplayString(_ctx.student.name), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_10, \"Student Details\"))]), _ctx.student ? (_openBlock(), _createElementBlock(\"p\", _hoisted_11, _toDisplayString(_ctx.student.email) + \" | Student ID: \" + _toDisplayString(_ctx.student.matric_number || _ctx.student.student_id || 'N/A'), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n    \"class\": \"btn btn-outline-primary\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.exportStudentData && $options.exportStudentData.apply($options, arguments);\n    })\n  }, _cache[10] || (_cache[10] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-file-export me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" Export Data \")]))])]), _ctx.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n    \"class\": \"spinner-border text-primary\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    \"class\": \"visually-hidden\"\n  }, \"Loading...\")], -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_14, \"Loading student details... (ID: \" + _toDisplayString($data.studentId) + \")\", 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Debug Information \"), !_ctx.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_cache[18] || (_cache[18] = _createElementVNode(\"h6\", null, \"Debug Info:\", -1 /* CACHED */)), _createElementVNode(\"p\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"strong\", null, \"Student ID:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($data.studentId), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"strong\", null, \"Course ID:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($data.courseId || 'None'), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[14] || (_cache[14] = _createElementVNode(\"strong\", null, \"Student Data:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(_ctx.student ? 'Loaded' : 'Not loaded'), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"strong\", null, \"User Role:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(_ctx.$store.getters['auth/userRole']), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[16] || (_cache[16] = _createElementVNode(\"strong\", null, \"Is Authenticated:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(_ctx.$store.getters['auth/isAuthenticated']), 1 /* TEXT */)]), $data.error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_16, [_cache[17] || (_cache[17] = _createElementVNode(\"strong\", null, \"Error:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($data.error), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)])) : $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_cache[19] || (_cache[19] = _createElementVNode(\"strong\", null, \"Error:\", -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($data.error), 1 /* TEXT */)])) : !_ctx.student ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_cache[20] || (_cache[20] = _createTextVNode(\" Student not found or you don't have access to this student's information. \")), _cache[21] || (_cache[21] = _createElementVNode(\"br\", null, null, -1 /* CACHED */)), _createElementVNode(\"small\", null, \"Attempted to load student ID: \" + _toDisplayString($data.studentId), 1 /* TEXT */)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_cache[28] || (_cache[28] = _createElementVNode(\"div\", {\n    \"class\": \"card-header bg-light\"\n  }, [_createElementVNode(\"h5\", {\n    \"class\": \"mb-0\"\n  }, \"Student Information\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_cache[22] || (_cache[22] = _createElementVNode(\"div\", {\n    \"class\": \"avatar-placeholder\"\n  }, [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-user fa-3x text-muted\"\n  })], -1 /* CACHED */)), _createElementVNode(\"h4\", _hoisted_24, _toDisplayString(_ctx.student.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_25, _toDisplayString(_ctx.student.email), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_26, _toDisplayString(_ctx.student.role), 1 /* TEXT */)]), _createElementVNode(\"table\", _hoisted_27, [_createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_cache[23] || (_cache[23] = _createElementVNode(\"th\", null, \"Student ID:\", -1 /* CACHED */)), _createElementVNode(\"td\", null, _toDisplayString(_ctx.student.matric_number || _ctx.student.student_id || 'Not specified'), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_cache[24] || (_cache[24] = _createElementVNode(\"th\", null, \"Department:\", -1 /* CACHED */)), _createElementVNode(\"td\", null, _toDisplayString(_ctx.student.department || 'Not specified'), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_cache[25] || (_cache[25] = _createElementVNode(\"th\", null, \"Year:\", -1 /* CACHED */)), _createElementVNode(\"td\", null, _toDisplayString(_ctx.student.year || 'Not specified'), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_cache[26] || (_cache[26] = _createElementVNode(\"th\", null, \"Advisor:\", -1 /* CACHED */)), _createElementVNode(\"td\", null, _toDisplayString($options.advisorName || 'Not assigned'), 1 /* TEXT */)]), _createElementVNode(\"tr\", null, [_cache[27] || (_cache[27] = _createElementVNode(\"th\", null, \"Joined:\", -1 /* CACHED */)), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(_ctx.student.created_at)), 1 /* TEXT */)])])])])])]), _createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", _hoisted_30, [_cache[30] || (_cache[30] = _createElementVNode(\"h5\", {\n    \"class\": \"mb-0\"\n  }, \"Course Progress\", -1 /* CACHED */)), _ctx.course ? (_openBlock(), _createElementBlock(\"div\", _hoisted_31, [_cache[29] || (_cache[29] = _createElementVNode(\"span\", {\n    \"class\": \"text-muted\"\n  }, \"Course: \", -1 /* CACHED */)), _createElementVNode(\"strong\", null, _toDisplayString(_ctx.course.code) + \" - \" + _toDisplayString(_ctx.course.name), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_32, [!_ctx.course ? (_openBlock(), _createElementBlock(\"div\", _hoisted_33, _cache[31] || (_cache[31] = [_createElementVNode(\"p\", null, \"No specific course selected. Showing overall performance.\", -1 /* CACHED */)]))) : _createCommentVNode(\"v-if\", true), $options.studentMarks.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_34, _cache[32] || (_cache[32] = [_createElementVNode(\"p\", null, \"No assessment marks recorded for this student yet.\", -1 /* CACHED */)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_35, [_createElementVNode(\"div\", _hoisted_36, [_cache[34] || (_cache[34] = _createElementVNode(\"h6\", null, \"Overall Progress\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_37, [_createElementVNode(\"span\", null, [_cache[33] || (_cache[33] = _createTextVNode(\"Current Mark: \")), _createElementVNode(\"strong\", null, _toDisplayString($options.overallMark) + \"%\", 1 /* TEXT */)]), _createElementVNode(\"span\", null, _toDisplayString($options.completedAssessments) + \" of \" + _toDisplayString($options.totalAssessments) + \" assessments completed\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_38, [_createElementVNode(\"div\", {\n    \"class\": _normalizeClass([\"progress-bar\", $options.getProgressBarClass($options.overallMark)]),\n    role: \"progressbar\",\n    style: _normalizeStyle(\"width: \".concat($options.overallMark, \"%\")),\n    \"aria-valuenow\": $options.overallMark,\n    \"aria-valuemin\": \"0\",\n    \"aria-valuemax\": \"100\"\n  }, _toDisplayString($options.overallMark) + \"% \", 15 /* TEXT, CLASS, STYLE, PROPS */, _hoisted_39)])]), _createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"table\", _hoisted_41, [_cache[36] || (_cache[36] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Assessment\"), _createElementVNode(\"th\", null, \"Type\"), _createElementVNode(\"th\", null, \"Weight\"), _createElementVNode(\"th\", null, \"Mark\"), _createElementVNode(\"th\", null, \"Grade\"), _createElementVNode(\"th\", null, \"Actions\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.studentMarks, function (mark) {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: mark.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(mark.assessment_name), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      \"class\": _normalizeClass([\"badge\", $options.getAssessmentTypeBadgeClass(mark.assessment_type)])\n    }, _toDisplayString(mark.assessment_type), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", null, _toDisplayString(mark.weightage) + \"%\", 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"strong\", null, _toDisplayString(mark.mark), 1 /* TEXT */), _createTextVNode(\" / \" + _toDisplayString(mark.max_mark) + \" \", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_42, \" (\" + _toDisplayString($options.calculatePercentage(mark.mark, mark.max_mark)) + \"%) \", 1 /* TEXT */)]), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      \"class\": _normalizeClass($options.getGradeClass($options.calculatePercentage(mark.mark, mark.max_mark)))\n    }, _toDisplayString($options.calculateGrade($options.calculatePercentage(mark.mark, mark.max_mark))), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      \"class\": \"btn btn-sm btn-outline-primary\",\n      onClick: function onClick($event) {\n        return $options.editMark(mark);\n      }\n    }, _toConsumableArray(_cache[35] || (_cache[35] = [_createElementVNode(\"i\", {\n      \"class\": \"fas fa-edit\"\n    }, null, -1 /* CACHED */), _createTextVNode(\" Edit \")])), 8 /* PROPS */, _hoisted_43)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]))])]), _createElementVNode(\"div\", _hoisted_44, [_createElementVNode(\"div\", _hoisted_45, [_cache[38] || (_cache[38] = _createElementVNode(\"h5\", {\n    \"class\": \"mb-0\"\n  }, \"Feedback & Notes\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    \"class\": \"btn btn-sm btn-primary\",\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $options.openAddNoteModal && $options.openAddNoteModal.apply($options, arguments);\n    })\n  }, _cache[37] || (_cache[37] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-plus-circle me-1\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" Add Note \")]))]), _createElementVNode(\"div\", _hoisted_46, [$data.studentNotes.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_47, _cache[39] || (_cache[39] = [_createElementVNode(\"p\", null, \"No feedback or notes have been added for this student yet.\", -1 /* CACHED */)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_48, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.studentNotes, function (note, index) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      \"class\": \"timeline-item\",\n      key: index\n    }, [_createElementVNode(\"div\", _hoisted_49, [_createElementVNode(\"i\", {\n      \"class\": _normalizeClass(note.icon || 'fas fa-comment-alt')\n    }, null, 2 /* CLASS */)]), _createElementVNode(\"div\", _hoisted_50, [_createElementVNode(\"div\", _hoisted_51, [_createElementVNode(\"h6\", null, _toDisplayString(note.title || 'Feedback'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_52, [_createElementVNode(\"button\", {\n      \"class\": \"btn btn-link text-secondary p-0\",\n      onClick: function onClick($event) {\n        return $options.editNote(note);\n      }\n    }, _toConsumableArray(_cache[40] || (_cache[40] = [_createElementVNode(\"i\", {\n      \"class\": \"fas fa-edit\"\n    }, null, -1 /* CACHED */)])), 8 /* PROPS */, _hoisted_53), _createElementVNode(\"button\", {\n      \"class\": \"btn btn-link text-danger p-0 ms-2\",\n      onClick: function onClick($event) {\n        return $options.deleteNote(note);\n      }\n    }, _toConsumableArray(_cache[41] || (_cache[41] = [_createElementVNode(\"i\", {\n      \"class\": \"fas fa-trash\"\n    }, null, -1 /* CACHED */)])), 8 /* PROPS */, _hoisted_54)])]), _createElementVNode(\"p\", null, _toDisplayString(note.content), 1 /* TEXT */), _createElementVNode(\"small\", _hoisted_55, _toDisplayString(note.author || 'You') + \" - \" + _toDisplayString($options.formatDate(note.created_at)), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))]))])])])])), _createCommentVNode(\" Edit Mark Modal \"), _createElementVNode(\"div\", _hoisted_56, [_createElementVNode(\"div\", _hoisted_57, [_createElementVNode(\"div\", _hoisted_58, [_cache[44] || (_cache[44] = _createElementVNode(\"div\", {\n    \"class\": \"modal-header\"\n  }, [_createElementVNode(\"h5\", {\n    \"class\": \"modal-title\",\n    id: \"editMarkModalLabel\"\n  }, \"Edit Mark\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    \"class\": \"btn-close\",\n    \"data-bs-dismiss\": \"modal\",\n    \"aria-label\": \"Close\"\n  })], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_59, [$data.selectedMark ? (_openBlock(), _createElementBlock(\"div\", _hoisted_60, [_createElementVNode(\"div\", _hoisted_61, [_createElementVNode(\"label\", _hoisted_62, \"Mark for \" + _toDisplayString($data.selectedMark.assessment_name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_63, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"class\": \"form-control\",\n    id: \"markInput\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $data.editMarkForm.mark = $event;\n    }),\n    min: 0,\n    max: $data.selectedMark.max_mark\n  }, null, 8 /* PROPS */, _hoisted_64), [[_vModelText, $data.editMarkForm.mark, void 0, {\n    number: true\n  }]]), _createElementVNode(\"span\", _hoisted_65, \"/ \" + _toDisplayString($data.selectedMark.max_mark), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_66, [_cache[42] || (_cache[42] = _createElementVNode(\"label\", {\n    \"for\": \"remarkInput\",\n    \"class\": \"form-label\"\n  }, \"Feedback (optional)\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"class\": \"form-control\",\n    id: \"remarkInput\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n      return $data.editMarkForm.remarks = $event;\n    }),\n    rows: \"3\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editMarkForm.remarks]])])])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_67, [_cache[43] || (_cache[43] = _createElementVNode(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-secondary\",\n    \"data-bs-dismiss\": \"modal\"\n  }, \"Cancel\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-primary\",\n    onClick: _cache[4] || (_cache[4] = function () {\n      return $options.saveMarkChanges && $options.saveMarkChanges.apply($options, arguments);\n    })\n  }, \"Save Changes\")])])])]), _createCommentVNode(\" Add/Edit Note Modal \"), _createElementVNode(\"div\", _hoisted_68, [_createElementVNode(\"div\", _hoisted_69, [_createElementVNode(\"div\", _hoisted_70, [_createElementVNode(\"div\", _hoisted_71, [_createElementVNode(\"h5\", _hoisted_72, _toDisplayString($data.editingNote ? 'Edit Note' : 'Add Note'), 1 /* TEXT */), _cache[45] || (_cache[45] = _createElementVNode(\"button\", {\n    type: \"button\",\n    \"class\": \"btn-close\",\n    \"data-bs-dismiss\": \"modal\",\n    \"aria-label\": \"Close\"\n  }, null, -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_73, [_createElementVNode(\"div\", _hoisted_74, [_cache[46] || (_cache[46] = _createElementVNode(\"label\", {\n    \"for\": \"noteTitle\",\n    \"class\": \"form-label\"\n  }, \"Title\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"class\": \"form-control\",\n    id: \"noteTitle\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = function ($event) {\n      return $data.noteForm.title = $event;\n    }),\n    placeholder: \"e.g., Attendance Issue, Good Progress\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.noteForm.title]])]), _createElementVNode(\"div\", _hoisted_75, [_cache[47] || (_cache[47] = _createElementVNode(\"label\", {\n    \"for\": \"noteContent\",\n    \"class\": \"form-label\"\n  }, \"Content\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"class\": \"form-control\",\n    id: \"noteContent\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = function ($event) {\n      return $data.noteForm.content = $event;\n    }),\n    rows: \"4\",\n    placeholder: \"Enter your note or feedback here...\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.noteForm.content]])]), _createElementVNode(\"div\", _hoisted_76, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"class\": \"form-check-input\",\n    id: \"notifyStudent\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = function ($event) {\n      return $data.noteForm.notify_student = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.noteForm.notify_student]]), _cache[48] || (_cache[48] = _createElementVNode(\"label\", {\n    \"class\": \"form-check-label\",\n    \"for\": \"notifyStudent\"\n  }, \"Notify student\", -1 /* CACHED */)), _cache[49] || (_cache[49] = _createElementVNode(\"small\", {\n    \"class\": \"text-muted d-block\"\n  }, \"If checked, the student will be notified about this note.\", -1 /* CACHED */))])]), _createElementVNode(\"div\", _hoisted_77, [_cache[50] || (_cache[50] = _createElementVNode(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-secondary\",\n    \"data-bs-dismiss\": \"modal\"\n  }, \"Cancel\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-primary\",\n    onClick: _cache[8] || (_cache[8] = function () {\n      return $options.saveNoteChanges && $options.saveNoteChanges.apply($options, arguments);\n    })\n  }, \"Save\")])])])])]);\n}","map":{"version":3,"names":["style","id","tabindex","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_router_link","to","_cache","_ctx","course","_hoisted_6","concat","code","_toDisplayString","name","_hoisted_7","student","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","email","matric_number","student_id","_hoisted_12","onClick","$options","exportStudentData","apply","arguments","isLoading","_hoisted_13","role","_hoisted_14","$data","studentId","_createCommentVNode","_hoisted_15","courseId","$store","getters","error","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","department","year","advisorName","formatDate","created_at","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","studentMarks","length","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","overallMark","completedAssessments","totalAssessments","_hoisted_38","_normalizeClass","getProgressBarClass","_normalizeStyle","_hoisted_39","_hoisted_40","_hoisted_41","_Fragment","_renderList","mark","key","assessment_name","getAssessmentTypeBadgeClass","assessment_type","weightage","max_mark","_hoisted_42","calculatePercentage","getGradeClass","calculateGrade","$event","editMark","_hoisted_44","_hoisted_45","openAddNoteModal","_hoisted_46","studentNotes","_hoisted_47","_hoisted_48","note","index","_hoisted_49","icon","_hoisted_50","_hoisted_51","title","_hoisted_52","editNote","deleteNote","content","_hoisted_55","author","_hoisted_56","_hoisted_57","_hoisted_58","type","_hoisted_59","selectedMark","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","editMarkForm","min","max","number","_hoisted_65","_hoisted_66","remarks","rows","_hoisted_67","saveMarkChanges","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","editingNote","_hoisted_73","_hoisted_74","noteForm","placeholder","_hoisted_75","_hoisted_76","notify_student","_hoisted_77","saveNoteChanges"],"sources":["C:\\Users\\ansmu\\Desktop\\Web\\NEW\\course-mark-management\\frontend\\src\\views\\lecturer\\StudentDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"student-detail\">\r\n    <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n      <div>\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n              <router-link to=\"/lecturer/dashboard\">Dashboard</router-link>\r\n            </li>\r\n            <li class=\"breadcrumb-item\" v-if=\"course\">\r\n              <router-link :to=\"`/lecturer/course/${course.id}`\">\r\n                {{ course.code }} - {{ course.name }}\r\n              </router-link>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">\r\n              {{ student ? student.name : 'Student Details' }}\r\n            </li>\r\n          </ol>\r\n        </nav>\r\n        <h1 class=\"mb-2\">\r\n          <span v-if=\"student\">{{ student.name }}</span>\r\n          <span v-else>Student Details</span>\r\n        </h1>\r\n        <p class=\"text-muted\" v-if=\"student\">\r\n          {{ student.email }} | Student ID: {{ student.matric_number || student.student_id || 'N/A' }}\r\n        </p>\r\n      </div>\r\n      <div class=\"btn-group\">\r\n        <button class=\"btn btn-outline-primary\" @click=\"exportStudentData\">\r\n          <i class=\"fas fa-file-export me-2\"></i> Export Data\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"isLoading\" class=\"text-center my-5\">\r\n      <div class=\"spinner-border text-primary\" role=\"status\">\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n      <p class=\"mt-3\">Loading student details... (ID: {{ studentId }})</p>\r\n    </div>\r\n\r\n    <!-- Debug Information -->\r\n    <div v-if=\"!isLoading\" class=\"alert alert-info mb-3\">\r\n      <h6>Debug Info:</h6>\r\n      <p><strong>Student ID:</strong> {{ studentId }}</p>\r\n      <p><strong>Course ID:</strong> {{ courseId || 'None' }}</p>\r\n      <p><strong>Student Data:</strong> {{ student ? 'Loaded' : 'Not loaded' }}</p>\r\n      <p><strong>User Role:</strong> {{ $store.getters['auth/userRole'] }}</p>\r\n      <p><strong>Is Authenticated:</strong> {{ $store.getters['auth/isAuthenticated'] }}</p>\r\n      <p v-if=\"error\"><strong>Error:</strong> {{ error }}</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"error\" class=\"alert alert-danger\">\r\n      <strong>Error:</strong> {{ error }}\r\n    </div>\r\n\r\n    <div v-else-if=\"!student\" class=\"alert alert-warning\">\r\n      Student not found or you don't have access to this student's information.\r\n      <br><small>Attempted to load student ID: {{ studentId }}</small>\r\n    </div>\r\n\r\n    <div v-else class=\"row\">\r\n      <div class=\"col-md-4 mb-4\">\r\n        <div class=\"card h-100\">\r\n          <div class=\"card-header bg-light\">\r\n            <h5 class=\"mb-0\">Student Information</h5>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"text-center mb-4\">\r\n              <div class=\"avatar-placeholder\">\r\n                <i class=\"fas fa-user fa-3x text-muted\"></i>\r\n              </div>\r\n              <h4 class=\"mt-3\">{{ student.name }}</h4>\r\n              <p class=\"text-muted mb-1\">{{ student.email }}</p>\r\n              <p class=\"badge bg-primary\">{{ student.role }}</p>\r\n            </div>\r\n\r\n            <table class=\"table table-sm\">\r\n              <tbody>\r\n                <tr>\r\n                  <th>Student ID:</th>\r\n                  <td>{{ student.matric_number || student.student_id || 'Not specified' }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Department:</th>\r\n                  <td>{{ student.department || 'Not specified' }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Year:</th>\r\n                  <td>{{ student.year || 'Not specified' }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Advisor:</th>\r\n                  <td>{{ advisorName || 'Not assigned' }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>Joined:</th>\r\n                  <td>{{ formatDate(student.created_at) }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-md-8 mb-4\">\r\n        <div class=\"card mb-4\">\r\n          <div class=\"card-header bg-light d-flex justify-content-between align-items-center\">\r\n            <h5 class=\"mb-0\">Course Progress</h5>\r\n            <div v-if=\"course\">\r\n              <span class=\"text-muted\">Course: </span>\r\n              <strong>{{ course.code }} - {{ course.name }}</strong>\r\n            </div>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div v-if=\"!course\" class=\"text-center py-3\">\r\n              <p>No specific course selected. Showing overall performance.</p>\r\n            </div>\r\n            \r\n            <div v-if=\"studentMarks.length === 0\" class=\"text-center py-3\">\r\n              <p>No assessment marks recorded for this student yet.</p>\r\n            </div>\r\n            <div v-else>\r\n              <div class=\"mb-4\">\r\n                <h6>Overall Progress</h6>\r\n                <div class=\"d-flex justify-content-between mb-1\">\r\n                  <span>Current Mark: <strong>{{ overallMark }}%</strong></span>\r\n                  <span>{{ completedAssessments }} of {{ totalAssessments }} assessments completed</span>\r\n                </div>\r\n                <div class=\"progress\" style=\"height: 20px;\">\r\n                  <div \r\n                    class=\"progress-bar\" \r\n                    :class=\"getProgressBarClass(overallMark)\"\r\n                    role=\"progressbar\" \r\n                    :style=\"`width: ${overallMark}%`\"\r\n                    :aria-valuenow=\"overallMark\" \r\n                    aria-valuemin=\"0\" \r\n                    aria-valuemax=\"100\">\r\n                    {{ overallMark }}%\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"table-responsive\">\r\n                <table class=\"table table-hover\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Assessment</th>\r\n                      <th>Type</th>\r\n                      <th>Weight</th>\r\n                      <th>Mark</th>\r\n                      <th>Grade</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"mark in studentMarks\" :key=\"mark.id\">\r\n                      <td>{{ mark.assessment_name }}</td>\r\n                      <td>\r\n                        <span class=\"badge\" :class=\"getAssessmentTypeBadgeClass(mark.assessment_type)\">\r\n                          {{ mark.assessment_type }}\r\n                        </span>\r\n                      </td>\r\n                      <td>{{ mark.weightage }}%</td>\r\n                      <td>\r\n                        <strong>{{ mark.mark }}</strong> / {{ mark.max_mark }}\r\n                        <div class=\"small text-muted\">\r\n                          ({{ calculatePercentage(mark.mark, mark.max_mark) }}%)\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <span :class=\"getGradeClass(calculatePercentage(mark.mark, mark.max_mark))\">\r\n                          {{ calculateGrade(calculatePercentage(mark.mark, mark.max_mark)) }}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <button \r\n                          class=\"btn btn-sm btn-outline-primary\" \r\n                          @click=\"editMark(mark)\"\r\n                        >\r\n                          <i class=\"fas fa-edit\"></i> Edit\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"card\">\r\n          <div class=\"card-header bg-light d-flex justify-content-between align-items-center\">\r\n            <h5 class=\"mb-0\">Feedback & Notes</h5>\r\n            <button class=\"btn btn-sm btn-primary\" @click=\"openAddNoteModal\">\r\n              <i class=\"fas fa-plus-circle me-1\"></i> Add Note\r\n            </button>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div v-if=\"studentNotes.length === 0\" class=\"text-center py-3\">\r\n              <p>No feedback or notes have been added for this student yet.</p>\r\n            </div>\r\n            <div v-else class=\"timeline\">\r\n              <div class=\"timeline-item\" v-for=\"(note, index) in studentNotes\" :key=\"index\">\r\n                <div class=\"timeline-item-icon\">\r\n                  <i :class=\"note.icon || 'fas fa-comment-alt'\"></i>\r\n                </div>\r\n                <div class=\"timeline-item-content\">\r\n                  <div class=\"d-flex justify-content-between align-items-start\">\r\n                    <h6>{{ note.title || 'Feedback' }}</h6>\r\n                    <div class=\"btn-group btn-group-sm\">\r\n                      <button class=\"btn btn-link text-secondary p-0\" @click=\"editNote(note)\">\r\n                        <i class=\"fas fa-edit\"></i>\r\n                      </button>\r\n                      <button class=\"btn btn-link text-danger p-0 ms-2\" @click=\"deleteNote(note)\">\r\n                        <i class=\"fas fa-trash\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <p>{{ note.content }}</p>\r\n                  <small class=\"text-muted\">\r\n                    {{ note.author || 'You' }} - {{ formatDate(note.created_at) }}\r\n                  </small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Edit Mark Modal -->\r\n    <div class=\"modal fade\" id=\"editMarkModal\" tabindex=\"-1\" aria-labelledby=\"editMarkModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"editMarkModalLabel\">Edit Mark</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div v-if=\"selectedMark\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"markInput\" class=\"form-label\">Mark for {{ selectedMark.assessment_name }}</label>\r\n                <div class=\"input-group\">\r\n                  <input \r\n                    type=\"number\" \r\n                    class=\"form-control\" \r\n                    id=\"markInput\" \r\n                    v-model.number=\"editMarkForm.mark\" \r\n                    :min=\"0\" \r\n                    :max=\"selectedMark.max_mark\"\r\n                  >\r\n                  <span class=\"input-group-text\">/ {{ selectedMark.max_mark }}</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"remarkInput\" class=\"form-label\">Feedback (optional)</label>\r\n                <textarea \r\n                  class=\"form-control\" \r\n                  id=\"remarkInput\" \r\n                  v-model=\"editMarkForm.remarks\" \r\n                  rows=\"3\"\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"saveMarkChanges\">Save Changes</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Add/Edit Note Modal -->\r\n    <div class=\"modal fade\" id=\"noteModal\" tabindex=\"-1\" aria-labelledby=\"noteModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"noteModalLabel\">{{ editingNote ? 'Edit Note' : 'Add Note' }}</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"noteTitle\" class=\"form-label\">Title</label>\r\n              <input \r\n                type=\"text\" \r\n                class=\"form-control\" \r\n                id=\"noteTitle\" \r\n                v-model=\"noteForm.title\" \r\n                placeholder=\"e.g., Attendance Issue, Good Progress\"\r\n              >\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"noteContent\" class=\"form-label\">Content</label>\r\n              <textarea \r\n                class=\"form-control\" \r\n                id=\"noteContent\" \r\n                v-model=\"noteForm.content\" \r\n                rows=\"4\"\r\n                placeholder=\"Enter your note or feedback here...\"\r\n              ></textarea>\r\n            </div>\r\n            <div class=\"mb-3 form-check\">\r\n              <input type=\"checkbox\" class=\"form-check-input\" id=\"notifyStudent\" v-model=\"noteForm.notify_student\">\r\n              <label class=\"form-check-label\" for=\"notifyStudent\">Notify student</label>\r\n              <small class=\"text-muted d-block\">If checked, the student will be notified about this note.</small>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"saveNoteChanges\">Save</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'StudentDetail',\r\n  data() {\r\n    return {\r\n      studentId: null,\r\n      courseId: null,\r\n      studentNotes: [],\r\n      selectedMark: null,\r\n      error: null,\r\n      editMarkForm: {\r\n        mark: 0,\r\n        remarks: ''\r\n      },\r\n      noteForm: {\r\n        title: '',\r\n        content: '',\r\n        notify_student: false\r\n      },\r\n      editingNote: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      isLoading: state => state.loading,\r\n      course: state => state.courses.course,\r\n      student: state => state.users.user,\r\n      assessments: state => state.assessments.assessments,\r\n      marks: state => state.marks.marks\r\n    }),\r\n    ...mapGetters({\r\n      getCourseAssessments: 'assessments/getCourseAssessments'\r\n    }),\r\n    courseAssessments() {\r\n      if (!this.courseId) return [];\r\n      return this.getCourseAssessments(this.courseId) || [];\r\n    },\r\n    studentMarks() {\r\n      if (!this.student) return [];\r\n      \r\n      return this.marks.filter(mark => \r\n        mark.student_id === this.studentId && \r\n        (!this.courseId || mark.course_id === parseInt(this.courseId))\r\n      );\r\n    },\r\n    totalAssessments() {\r\n      return this.courseAssessments.length;\r\n    },\r\n    completedAssessments() {\r\n      return this.studentMarks.length;\r\n    },\r\n    overallMark() {\r\n      if (!this.studentMarks.length) return 0;\r\n      \r\n      let weightedSum = 0;\r\n      let totalWeight = 0;\r\n      \r\n      this.studentMarks.forEach(mark => {\r\n        const percentage = this.calculatePercentage(mark.mark, mark.max_mark);\r\n        weightedSum += percentage * mark.weightage;\r\n        totalWeight += parseInt(mark.weightage);\r\n      });\r\n      \r\n      if (totalWeight === 0) return 0;\r\n      return Math.round(weightedSum / totalWeight);\r\n    },\r\n    advisorName() {\r\n      return this.student?.advisor_name || 'Not assigned';\r\n    }\r\n  },\r\n  async created() {\r\n    this.studentId = parseInt(this.$route.params.id);\r\n    this.courseId = this.$route.query.courseId;\r\n    \r\n    console.log('StudentDetail created:', { studentId: this.studentId, courseId: this.courseId });\r\n    \r\n    try {\r\n      // Fetch student details\r\n      console.log('Fetching user:', this.studentId);\r\n      await this.fetchUser(this.studentId);\r\n      console.log('User fetched:', this.student);\r\n      \r\n      if (this.courseId) {\r\n        // Fetch course details if a specific course is selected\r\n        console.log('Fetching course:', this.courseId);\r\n        await this.fetchCourse(this.courseId);\r\n      }\r\n      \r\n      // Fetch marks for this student\r\n      console.log('Fetching marks for student:', this.studentId);\r\n      await this.fetchMarks({ \r\n        studentId: this.studentId,\r\n        courseId: this.courseId\r\n      });\r\n      \r\n      // Fetch notes for this student\r\n      await this.fetchStudentNotes();\r\n    } catch (error) {\r\n      console.error('Error loading student details:', error);\r\n      this.error = error.message || 'Failed to load student details';\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      fetchUser: 'users/fetchUser',\r\n      fetchCourse: 'courses/fetchCourse',\r\n      fetchAssessments: 'assessments/fetchAssessments',\r\n      fetchMarks: 'marks/fetchMarks',\r\n      updateMark: 'marks/updateMark'\r\n    }),\r\n    formatDate(dateString) {\r\n      if (!dateString) return 'Not specified';\r\n      return new Date(dateString).toLocaleDateString();\r\n    },\r\n    calculatePercentage(mark, maxMark) {\r\n      if (!maxMark) return 0;\r\n      return Math.round((mark / maxMark) * 100);\r\n    },\r\n    getProgressBarClass(percentage) {\r\n      if (percentage >= 70) return 'bg-success';\r\n      if (percentage >= 50) return 'bg-warning';\r\n      return 'bg-danger';\r\n    },\r\n    getAssessmentTypeBadgeClass(type) {\r\n      const types = {\r\n        'exam': 'bg-danger',\r\n        'midterm': 'bg-warning',\r\n        'quiz': 'bg-info',\r\n        'assignment': 'bg-success',\r\n        'project': 'bg-primary',\r\n        'lab': 'bg-secondary'\r\n      };\r\n      return types[type.toLowerCase()] || 'bg-secondary';\r\n    },\r\n    calculateGrade(percentage) {\r\n      if (percentage >= 90) return 'A+';\r\n      if (percentage >= 80) return 'A';\r\n      if (percentage >= 75) return 'B+';\r\n      if (percentage >= 70) return 'B';\r\n      if (percentage >= 65) return 'C+';\r\n      if (percentage >= 60) return 'C';\r\n      if (percentage >= 55) return 'D+';\r\n      if (percentage >= 50) return 'D';\r\n      return 'F';\r\n    },\r\n    getGradeClass(percentage) {\r\n      if (percentage >= 70) return 'text-success fw-bold';\r\n      if (percentage >= 50) return 'text-warning';\r\n      return 'text-danger';\r\n    },\r\n    editMark(mark) {\r\n      this.selectedMark = mark;\r\n      this.editMarkForm = {\r\n        mark: mark.mark,\r\n        remarks: mark.remarks || ''\r\n      };\r\n      \r\n      // In a real implementation, we would use Bootstrap's modal methods\r\n      // $('#editMarkModal').modal('show');\r\n    },\r\n    async saveMarkChanges() {\r\n      if (!this.selectedMark) return;\r\n      \r\n      try {\r\n        await this.updateMark({\r\n          id: this.selectedMark.id,\r\n          mark: this.editMarkForm.mark,\r\n          remarks: this.editMarkForm.remarks\r\n        });\r\n        \r\n        // Close modal\r\n        // $('#editMarkModal').modal('hide');\r\n        \r\n        this.$store.dispatch('showToast', {\r\n          message: 'Mark updated successfully',\r\n          type: 'success'\r\n        });\r\n        \r\n        this.selectedMark = null;\r\n      } catch (error) {\r\n        console.error('Error updating mark:', error);\r\n      }\r\n    },\r\n    async fetchStudentNotes() {\r\n      try {\r\n        // This would be replaced with an actual API call in a complete implementation\r\n        // For now, we'll use some sample data\r\n        this.studentNotes = [\r\n          {\r\n            id: 1,\r\n            title: 'Excellent Progress',\r\n            content: 'Student has shown significant improvement in recent assessments.',\r\n            author: 'Dr. Smith',\r\n            created_at: '2023-07-15',\r\n            icon: 'fas fa-thumbs-up'\r\n          },\r\n          {\r\n            id: 2,\r\n            title: 'Attendance Concern',\r\n            content: 'Student has missed multiple lab sessions. Please follow up.',\r\n            author: 'Prof. Johnson',\r\n            created_at: '2023-07-10',\r\n            icon: 'fas fa-exclamation-triangle'\r\n          }\r\n        ];\r\n      } catch (error) {\r\n        console.error('Error fetching student notes:', error);\r\n      }\r\n    },\r\n    openAddNoteModal() {\r\n      this.editingNote = null;\r\n      this.noteForm = {\r\n        title: '',\r\n        content: '',\r\n        notify_student: false\r\n      };\r\n      \r\n      // In a real implementation, we would use Bootstrap's modal methods\r\n      // $('#noteModal').modal('show');\r\n    },\r\n    editNote(note) {\r\n      this.editingNote = note;\r\n      this.noteForm = {\r\n        title: note.title,\r\n        content: note.content,\r\n        notify_student: false\r\n      };\r\n      \r\n      // In a real implementation, we would use Bootstrap's modal methods\r\n      // $('#noteModal').modal('show');\r\n    },\r\n    async saveNoteChanges() {\r\n      try {\r\n        if (this.editingNote) {\r\n          // Update existing note\r\n          const index = this.studentNotes.findIndex(note => note.id === this.editingNote.id);\r\n          if (index !== -1) {\r\n            this.studentNotes[index] = {\r\n              ...this.editingNote,\r\n              title: this.noteForm.title,\r\n              content: this.noteForm.content,\r\n              updated_at: new Date().toISOString().split('T')[0]\r\n            };\r\n          }\r\n          \r\n          this.$store.dispatch('showToast', {\r\n            message: 'Note updated successfully',\r\n            type: 'success'\r\n          });\r\n        } else {\r\n          // Add new note\r\n          const newNote = {\r\n            id: Date.now(), // Temporary ID for demo\r\n            title: this.noteForm.title,\r\n            content: this.noteForm.content,\r\n            author: 'You',\r\n            created_at: new Date().toISOString().split('T')[0],\r\n            icon: 'fas fa-comment-alt'\r\n          };\r\n          \r\n          this.studentNotes.unshift(newNote);\r\n          \r\n          this.$store.dispatch('showToast', {\r\n            message: 'Note added successfully',\r\n            type: 'success'\r\n          });\r\n        }\r\n        \r\n        // Close modal\r\n        // $('#noteModal').modal('hide');\r\n        \r\n        this.editingNote = null;\r\n      } catch (error) {\r\n        console.error('Error saving note:', error);\r\n      }\r\n    },\r\n    async deleteNote(note) {\r\n      if (!confirm(`Are you sure you want to delete the note \"${note.title}\"?`)) return;\r\n      \r\n      try {\r\n        this.studentNotes = this.studentNotes.filter(n => n.id !== note.id);\r\n        \r\n        this.$store.dispatch('showToast', {\r\n          message: 'Note deleted successfully',\r\n          type: 'success'\r\n        });\r\n      } catch (error) {\r\n        console.error('Error deleting note:', error);\r\n      }\r\n    },\r\n    exportStudentData() {\r\n      // This would initiate a download of student data in CSV format\r\n      // Implementation would need to call an API endpoint\r\n      this.$store.dispatch('showToast', {\r\n        message: 'Exporting student data...',\r\n        type: 'info'\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.student-detail h1 {\r\n  font-size: 1.75rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.card {\r\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\r\n}\r\n\r\n.avatar-placeholder {\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 50%;\r\n  background-color: #f8f9fa;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 auto;\r\n  border: 1px solid #dee2e6;\r\n}\r\n\r\n/* Timeline styling for notes */\r\n.timeline {\r\n  position: relative;\r\n  padding-left: 40px;\r\n}\r\n\r\n.timeline-item {\r\n  position: relative;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 20px;\r\n  border-bottom: 1px solid #e9ecef;\r\n}\r\n\r\n.timeline-item:last-child {\r\n  border-bottom: none;\r\n  padding-bottom: 0;\r\n}\r\n\r\n.timeline-item:before {\r\n  content: \"\";\r\n  position: absolute;\r\n  left: -30px;\r\n  top: 0;\r\n  height: 100%;\r\n  width: 2px;\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.timeline-item:last-child:before {\r\n  height: 50%;\r\n}\r\n\r\n.timeline-item-icon {\r\n  position: absolute;\r\n  left: -38px;\r\n  top: 0;\r\n  width: 16px;\r\n  height: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #fff;\r\n  border: 2px solid #007bff;\r\n  border-radius: 50%;\r\n}\r\n\r\n.timeline-item-icon i {\r\n  font-size: 8px;\r\n  color: #007bff;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}