{"ast":null,"code":"import _regenerator from \"C:/Users/ansmu/Desktop/Web/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"C:/Users/ansmu/Desktop/Web/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"C:/Users/ansmu/Desktop/Web/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'Login',\n  data: function data() {\n    return {\n      staffLogin: {\n        email: '',\n        password: ''\n      },\n      studentLogin: {\n        matricNumber: '',\n        pin: ''\n      },\n      staffError: '',\n      studentError: ''\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['isLoading'])),\n  methods: {\n    handleStaffLogin: function handleStaffLogin() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var user, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              _this.staffError = '';\n              _context.p = 1;\n              _context.n = 2;\n              return _this.$store.dispatch('auth/login', _this.staffLogin);\n            case 2:\n              user = _context.v;\n              // Redirect based on user role\n              if (user.role === 'lecturer') {\n                _this.$router.push('/lecturer/dashboard');\n              } else if (user.role === 'advisor') {\n                _this.$router.push('/advisor/dashboard');\n              } else if (user.role === 'admin') {\n                _this.$router.push('/admin/dashboard');\n              } else {\n                _this.staffError = 'Invalid role for staff login';\n              }\n              _context.n = 4;\n              break;\n            case 3:\n              _context.p = 3;\n              _t = _context.v;\n              _this.staffError = _t.message || 'Invalid login credentials';\n            case 4:\n              return _context.a(2);\n          }\n        }, _callee, null, [[1, 3]]);\n      }))();\n    },\n    handleStudentLogin: function handleStudentLogin() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var user, _t2;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              _this2.studentError = '';\n              _context2.p = 1;\n              _context2.n = 2;\n              return _this2.$store.dispatch('auth/studentLogin', _this2.studentLogin);\n            case 2:\n              user = _context2.v;\n              if (user.role === 'student') {\n                _this2.$router.push('/student/dashboard');\n              } else {\n                _this2.studentError = 'Invalid student credentials';\n              }\n              _context2.n = 4;\n              break;\n            case 3:\n              _context2.p = 3;\n              _t2 = _context2.v;\n              _this2.studentError = _t2.message || 'Invalid matric number or PIN';\n            case 4:\n              return _context2.a(2);\n          }\n        }, _callee2, null, [[1, 3]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","name","data","staffLogin","email","password","studentLogin","matricNumber","pin","staffError","studentError","computed","_objectSpread","methods","handleStaffLogin","_this","_asyncToGenerator","_regenerator","m","_callee","user","_t","w","_context","n","p","$store","dispatch","v","role","$router","push","message","a","handleStudentLogin","_this2","_callee2","_t2","_context2"],"sources":["C:\\Users\\ansmu\\Desktop\\Web\\course-mark-management\\frontend\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-md-6 col-lg-5\">\r\n        <div class=\"card login-card\">\r\n          <div class=\"card-body\">\r\n            <h2 class=\"text-center mb-4\">Course Mark Management</h2>\r\n            \r\n            <ul class=\"nav nav-tabs mb-4\" id=\"loginTabs\" role=\"tablist\">\r\n              <li class=\"nav-item\" role=\"presentation\">\r\n                <button \r\n                  class=\"nav-link active\" \r\n                  id=\"staff-tab\" \r\n                  data-bs-toggle=\"tab\" \r\n                  data-bs-target=\"#staff-login\" \r\n                  type=\"button\" \r\n                  role=\"tab\" \r\n                  aria-controls=\"staff-login\" \r\n                  aria-selected=\"true\"\r\n                >\r\n                  Staff Login\r\n                </button>\r\n              </li>\r\n              <li class=\"nav-item\" role=\"presentation\">\r\n                <button \r\n                  class=\"nav-link\" \r\n                  id=\"student-tab\" \r\n                  data-bs-toggle=\"tab\" \r\n                  data-bs-target=\"#student-login\" \r\n                  type=\"button\" \r\n                  role=\"tab\" \r\n                  aria-controls=\"student-login\" \r\n                  aria-selected=\"false\"\r\n                >\r\n                  Student Login\r\n                </button>\r\n              </li>\r\n            </ul>\r\n            \r\n            <div class=\"tab-content\" id=\"loginTabsContent\">\r\n              <!-- Staff Login Form -->\r\n              <div \r\n                class=\"tab-pane fade show active\" \r\n                id=\"staff-login\" \r\n                role=\"tabpanel\" \r\n                aria-labelledby=\"staff-tab\"\r\n              >\r\n                <form @submit.prevent=\"handleStaffLogin\">\r\n                  <div class=\"alert alert-danger\" v-if=\"staffError\">\r\n                    {{ staffError }}\r\n                  </div>\r\n                  \r\n                  <div class=\"mb-3\">\r\n                    <label for=\"email\" class=\"form-label\">Email Address</label>\r\n                    <input \r\n                      type=\"email\" \r\n                      class=\"form-control\" \r\n                      id=\"email\" \r\n                      v-model=\"staffLogin.email\" \r\n                      required\r\n                      autocomplete=\"email\"\r\n                    >\r\n                  </div>\r\n                  \r\n                  <div class=\"mb-3\">\r\n                    <label for=\"password\" class=\"form-label\">Password</label>\r\n                    <input \r\n                      type=\"password\" \r\n                      class=\"form-control\" \r\n                      id=\"password\" \r\n                      v-model=\"staffLogin.password\" \r\n                      required\r\n                      autocomplete=\"current-password\"\r\n                    >\r\n                  </div>\r\n                  \r\n                  <div class=\"d-grid gap-2\">\r\n                    <button \r\n                      type=\"submit\" \r\n                      class=\"btn btn-primary\"\r\n                      :disabled=\"isLoading\"\r\n                    >\r\n                      <span v-if=\"isLoading\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n                      Login\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n              \r\n              <!-- Student Login Form -->\r\n              <div \r\n                class=\"tab-pane fade\" \r\n                id=\"student-login\" \r\n                role=\"tabpanel\" \r\n                aria-labelledby=\"student-tab\"\r\n              >\r\n                <form @submit.prevent=\"handleStudentLogin\">\r\n                  <div class=\"alert alert-danger\" v-if=\"studentError\">\r\n                    {{ studentError }}\r\n                  </div>\r\n                  \r\n                  <div class=\"mb-3\">\r\n                    <label for=\"matricNumber\" class=\"form-label\">Matric Number</label>\r\n                    <input \r\n                      type=\"text\" \r\n                      class=\"form-control\" \r\n                      id=\"matricNumber\" \r\n                      v-model=\"studentLogin.matricNumber\" \r\n                      required\r\n                      autocomplete=\"username\"\r\n                    >\r\n                  </div>\r\n                  \r\n                  <div class=\"mb-3\">\r\n                    <label for=\"pin\" class=\"form-label\">PIN</label>\r\n                    <input \r\n                      type=\"password\" \r\n                      class=\"form-control\" \r\n                      id=\"pin\" \r\n                      v-model=\"studentLogin.pin\" \r\n                      required\r\n                      autocomplete=\"current-password\"\r\n                    >\r\n                  </div>\r\n                  \r\n                  <div class=\"d-grid gap-2\">\r\n                    <button \r\n                      type=\"submit\" \r\n                      class=\"btn btn-primary\"\r\n                      :disabled=\"isLoading\"\r\n                    >\r\n                      <span v-if=\"isLoading\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n                      Login\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    return {\r\n      staffLogin: {\r\n        email: '',\r\n        password: ''\r\n      },\r\n      studentLogin: {\r\n        matricNumber: '',\r\n        pin: ''\r\n      },\r\n      staffError: '',\r\n      studentError: ''\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(['isLoading'])\r\n  },\r\n  methods: {\r\n    async handleStaffLogin() {\r\n      this.staffError = '';\r\n      \r\n      try {\r\n        const user = await this.$store.dispatch('auth/login', this.staffLogin);\r\n        \r\n        // Redirect based on user role\r\n        if (user.role === 'lecturer') {\r\n          this.$router.push('/lecturer/dashboard');\r\n        } else if (user.role === 'advisor') {\r\n          this.$router.push('/advisor/dashboard');\r\n        } else if (user.role === 'admin') {\r\n          this.$router.push('/admin/dashboard');\r\n        } else {\r\n          this.staffError = 'Invalid role for staff login';\r\n        }\r\n      } catch (error) {\r\n        this.staffError = error.message || 'Invalid login credentials';\r\n      }\r\n    },\r\n    \r\n    async handleStudentLogin() {\r\n      this.studentError = '';\r\n      \r\n      try {\r\n        const user = await this.$store.dispatch('auth/studentLogin', this.studentLogin);\r\n        \r\n        if (user.role === 'student') {\r\n          this.$router.push('/student/dashboard');\r\n        } else {\r\n          this.studentError = 'Invalid student credentials';\r\n        }\r\n      } catch (error) {\r\n        this.studentError = error.message || 'Invalid matric number or PIN';\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  display: flex;\r\n  min-height: 100vh;\r\n  align-items: center;\r\n  background-color: #f8f9fa;\r\n  padding: 20px;\r\n}\r\n\r\n.login-card {\r\n  border: none;\r\n  border-radius: 10px;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\r\n  overflow: hidden;\r\n  padding: 30px;\r\n}\r\n\r\n.login-card h2 {\r\n  color: #2c3e50;\r\n  font-weight: 700;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.nav-tabs {\r\n  border-bottom: 1px solid #dee2e6;\r\n}\r\n\r\n.nav-tabs .nav-link {\r\n  color: #6c757d;\r\n  font-weight: 500;\r\n  border: none;\r\n  border-bottom: 2px solid transparent;\r\n  padding: 10px 15px;\r\n}\r\n\r\n.nav-tabs .nav-link.active {\r\n  color: #3498db;\r\n  border-bottom: 2px solid #3498db;\r\n  background-color: transparent;\r\n}\r\n\r\n.btn-primary {\r\n  padding: 12px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 1px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.form-control {\r\n  padding: 12px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.form-control:focus {\r\n  border-color: #3498db;\r\n  box-shadow: 0 0 0 0.25rem rgba(52, 152, 219, 0.25);\r\n}\r\n</style>\r\n"],"mappings":";;;;AAkJA,SAASA,UAAS,QAAS,MAAM;AAEjC,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE;QACVC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE;MACZ,CAAC;MACDC,YAAY,EAAE;QACZC,YAAY,EAAE,EAAE;QAChBC,GAAG,EAAE;MACP,CAAC;MACDC,UAAU,EAAE,EAAE;MACdC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAAC,aAAA,KACHZ,UAAU,CAAC,CAAC,WAAW,CAAC,EAC5B;EACDa,OAAO,EAAE;IACDC,gBAAgB,WAAhBA,gBAAgBA,CAAA,EAAG;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAAC,QAAA;QAAA,IAAAC,IAAA,EAAAC,EAAA;QAAA,OAAAJ,YAAA,GAAAK,CAAA,WAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,CAAA;YAAA;cACvBT,KAAI,CAACN,UAAS,GAAI,EAAE;cAAAc,QAAA,CAAAE,CAAA;cAAAF,QAAA,CAAAC,CAAA;cAAA,OAGCT,KAAI,CAACW,MAAM,CAACC,QAAQ,CAAC,YAAY,EAAEZ,KAAI,CAACZ,UAAU,CAAC;YAAA;cAAhEiB,IAAG,GAAAG,QAAA,CAAAK,CAAA;cAET;cACA,IAAIR,IAAI,CAACS,IAAG,KAAM,UAAU,EAAE;gBAC5Bd,KAAI,CAACe,OAAO,CAACC,IAAI,CAAC,qBAAqB,CAAC;cAC1C,OAAO,IAAIX,IAAI,CAACS,IAAG,KAAM,SAAS,EAAE;gBAClCd,KAAI,CAACe,OAAO,CAACC,IAAI,CAAC,oBAAoB,CAAC;cACzC,OAAO,IAAIX,IAAI,CAACS,IAAG,KAAM,OAAO,EAAE;gBAChCd,KAAI,CAACe,OAAO,CAACC,IAAI,CAAC,kBAAkB,CAAC;cACvC,OAAO;gBACLhB,KAAI,CAACN,UAAS,GAAI,8BAA8B;cAClD;cAAAc,QAAA,CAAAC,CAAA;cAAA;YAAA;cAAAD,QAAA,CAAAE,CAAA;cAAAJ,EAAA,GAAAE,QAAA,CAAAK,CAAA;cAEAb,KAAI,CAACN,UAAS,GAAIY,EAAA,CAAMW,OAAM,IAAK,2BAA2B;YAAA;cAAA,OAAAT,QAAA,CAAAU,CAAA;UAAA;QAAA,GAAAd,OAAA;MAAA;IAElE,CAAC;IAEKe,kBAAkB,WAAlBA,kBAAkBA,CAAA,EAAG;MAAA,IAAAC,MAAA;MAAA,OAAAnB,iBAAA,cAAAC,YAAA,GAAAC,CAAA,UAAAkB,SAAA;QAAA,IAAAhB,IAAA,EAAAiB,GAAA;QAAA,OAAApB,YAAA,GAAAK,CAAA,WAAAgB,SAAA;UAAA,kBAAAA,SAAA,CAAAd,CAAA;YAAA;cACzBW,MAAI,CAACzB,YAAW,GAAI,EAAE;cAAA4B,SAAA,CAAAb,CAAA;cAAAa,SAAA,CAAAd,CAAA;cAAA,OAGDW,MAAI,CAACT,MAAM,CAACC,QAAQ,CAAC,mBAAmB,EAAEQ,MAAI,CAAC7B,YAAY,CAAC;YAAA;cAAzEc,IAAG,GAAAkB,SAAA,CAAAV,CAAA;cAET,IAAIR,IAAI,CAACS,IAAG,KAAM,SAAS,EAAE;gBAC3BM,MAAI,CAACL,OAAO,CAACC,IAAI,CAAC,oBAAoB,CAAC;cACzC,OAAO;gBACLI,MAAI,CAACzB,YAAW,GAAI,6BAA6B;cACnD;cAAA4B,SAAA,CAAAd,CAAA;cAAA;YAAA;cAAAc,SAAA,CAAAb,CAAA;cAAAY,GAAA,GAAAC,SAAA,CAAAV,CAAA;cAEAO,MAAI,CAACzB,YAAW,GAAI2B,GAAA,CAAML,OAAM,IAAK,8BAA8B;YAAA;cAAA,OAAAM,SAAA,CAAAL,CAAA;UAAA;QAAA,GAAAG,QAAA;MAAA;IAEvE;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}