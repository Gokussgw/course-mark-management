{"ast":null,"code":"import { mapGetters } from 'vuex';\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      staffLogin: {\n        email: '',\n        password: ''\n      },\n      studentLogin: {\n        matricNumber: '',\n        pin: ''\n      },\n      staffError: '',\n      studentError: ''\n    };\n  },\n  computed: {\n    ...mapGetters(['isLoading'])\n  },\n  methods: {\n    async handleStaffLogin() {\n      this.staffError = '';\n      try {\n        const user = await this.$store.dispatch('auth/login', this.staffLogin);\n\n        // Redirect based on user role\n        if (user.role === 'lecturer') {\n          this.$router.push('/lecturer/dashboard');\n        } else if (user.role === 'advisor') {\n          this.$router.push('/advisor/dashboard');\n        } else if (user.role === 'admin') {\n          this.$router.push('/admin/dashboard');\n        } else {\n          this.staffError = 'Invalid role for staff login';\n        }\n      } catch (error) {\n        this.staffError = error.message || 'Invalid login credentials';\n      }\n    },\n    async handleStudentLogin() {\n      this.studentError = '';\n      try {\n        const user = await this.$store.dispatch('auth/studentLogin', this.studentLogin);\n        if (user.role === 'student') {\n          this.$router.push('/student/dashboard');\n        } else {\n          this.studentError = 'Invalid student credentials';\n        }\n      } catch (error) {\n        this.studentError = error.message || 'Invalid matric number or PIN';\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","name","data","staffLogin","email","password","studentLogin","matricNumber","pin","staffError","studentError","computed","methods","handleStaffLogin","user","$store","dispatch","role","$router","push","error","message","handleStudentLogin"],"sources":["C:\\Users\\ansmu\\Desktop\\Web\\course-mark-management\\frontend\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-md-6 col-lg-5\">\r\n        <div class=\"card login-card\">\r\n          <div class=\"card-body\">\r\n            <h2 class=\"text-center mb-4\">Course Mark Management</h2>\r\n            \r\n            <ul class=\"nav nav-tabs mb-4\" id=\"loginTabs\" role=\"tablist\">\r\n              <li class=\"nav-item\" role=\"presentation\">\r\n                <button \r\n                  class=\"nav-link active\" \r\n                  id=\"staff-tab\" \r\n                  data-bs-toggle=\"tab\" \r\n                  data-bs-target=\"#staff-login\" \r\n                  type=\"button\" \r\n                  role=\"tab\" \r\n                  aria-controls=\"staff-login\" \r\n                  aria-selected=\"true\"\r\n                >\r\n                  Staff Login\r\n                </button>\r\n              </li>\r\n              <li class=\"nav-item\" role=\"presentation\">\r\n                <button \r\n                  class=\"nav-link\" \r\n                  id=\"student-tab\" \r\n                  data-bs-toggle=\"tab\" \r\n                  data-bs-target=\"#student-login\" \r\n                  type=\"button\" \r\n                  role=\"tab\" \r\n                  aria-controls=\"student-login\" \r\n                  aria-selected=\"false\"\r\n                >\r\n                  Student Login\r\n                </button>\r\n              </li>\r\n            </ul>\r\n            \r\n            <div class=\"tab-content\" id=\"loginTabsContent\">\r\n              <!-- Staff Login Form -->\r\n              <div \r\n                class=\"tab-pane fade show active\" \r\n                id=\"staff-login\" \r\n                role=\"tabpanel\" \r\n                aria-labelledby=\"staff-tab\"\r\n              >\r\n                <form @submit.prevent=\"handleStaffLogin\">\r\n                  <div class=\"alert alert-danger\" v-if=\"staffError\">\r\n                    {{ staffError }}\r\n                  </div>\r\n                  \r\n                  <div class=\"mb-3\">\r\n                    <label for=\"email\" class=\"form-label\">Email Address</label>\r\n                    <input \r\n                      type=\"email\" \r\n                      class=\"form-control\" \r\n                      id=\"email\" \r\n                      v-model=\"staffLogin.email\" \r\n                      required\r\n                      autocomplete=\"email\"\r\n                    >\r\n                  </div>\r\n                  \r\n                  <div class=\"mb-3\">\r\n                    <label for=\"password\" class=\"form-label\">Password</label>\r\n                    <input \r\n                      type=\"password\" \r\n                      class=\"form-control\" \r\n                      id=\"password\" \r\n                      v-model=\"staffLogin.password\" \r\n                      required\r\n                      autocomplete=\"current-password\"\r\n                    >\r\n                  </div>\r\n                  \r\n                  <div class=\"d-grid gap-2\">\r\n                    <button \r\n                      type=\"submit\" \r\n                      class=\"btn btn-primary\"\r\n                      :disabled=\"isLoading\"\r\n                    >\r\n                      <span v-if=\"isLoading\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n                      Login\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n              \r\n              <!-- Student Login Form -->\r\n              <div \r\n                class=\"tab-pane fade\" \r\n                id=\"student-login\" \r\n                role=\"tabpanel\" \r\n                aria-labelledby=\"student-tab\"\r\n              >\r\n                <form @submit.prevent=\"handleStudentLogin\">\r\n                  <div class=\"alert alert-danger\" v-if=\"studentError\">\r\n                    {{ studentError }}\r\n                  </div>\r\n                  \r\n                  <div class=\"mb-3\">\r\n                    <label for=\"matricNumber\" class=\"form-label\">Matric Number</label>\r\n                    <input \r\n                      type=\"text\" \r\n                      class=\"form-control\" \r\n                      id=\"matricNumber\" \r\n                      v-model=\"studentLogin.matricNumber\" \r\n                      required\r\n                      autocomplete=\"username\"\r\n                    >\r\n                  </div>\r\n                  \r\n                  <div class=\"mb-3\">\r\n                    <label for=\"pin\" class=\"form-label\">PIN</label>\r\n                    <input \r\n                      type=\"password\" \r\n                      class=\"form-control\" \r\n                      id=\"pin\" \r\n                      v-model=\"studentLogin.pin\" \r\n                      required\r\n                      autocomplete=\"current-password\"\r\n                    >\r\n                  </div>\r\n                  \r\n                  <div class=\"d-grid gap-2\">\r\n                    <button \r\n                      type=\"submit\" \r\n                      class=\"btn btn-primary\"\r\n                      :disabled=\"isLoading\"\r\n                    >\r\n                      <span v-if=\"isLoading\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\r\n                      Login\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    return {\r\n      staffLogin: {\r\n        email: '',\r\n        password: ''\r\n      },\r\n      studentLogin: {\r\n        matricNumber: '',\r\n        pin: ''\r\n      },\r\n      staffError: '',\r\n      studentError: ''\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(['isLoading'])\r\n  },\r\n  methods: {\r\n    async handleStaffLogin() {\r\n      this.staffError = '';\r\n      \r\n      try {\r\n        const user = await this.$store.dispatch('auth/login', this.staffLogin);\r\n        \r\n        // Redirect based on user role\r\n        if (user.role === 'lecturer') {\r\n          this.$router.push('/lecturer/dashboard');\r\n        } else if (user.role === 'advisor') {\r\n          this.$router.push('/advisor/dashboard');\r\n        } else if (user.role === 'admin') {\r\n          this.$router.push('/admin/dashboard');\r\n        } else {\r\n          this.staffError = 'Invalid role for staff login';\r\n        }\r\n      } catch (error) {\r\n        this.staffError = error.message || 'Invalid login credentials';\r\n      }\r\n    },\r\n    \r\n    async handleStudentLogin() {\r\n      this.studentError = '';\r\n      \r\n      try {\r\n        const user = await this.$store.dispatch('auth/studentLogin', this.studentLogin);\r\n        \r\n        if (user.role === 'student') {\r\n          this.$router.push('/student/dashboard');\r\n        } else {\r\n          this.studentError = 'Invalid student credentials';\r\n        }\r\n      } catch (error) {\r\n        this.studentError = error.message || 'Invalid matric number or PIN';\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  display: flex;\r\n  min-height: 100vh;\r\n  align-items: center;\r\n  background-color: #f8f9fa;\r\n  padding: 20px;\r\n}\r\n\r\n.login-card {\r\n  border: none;\r\n  border-radius: 10px;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\r\n  overflow: hidden;\r\n  padding: 30px;\r\n}\r\n\r\n.login-card h2 {\r\n  color: #2c3e50;\r\n  font-weight: 700;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.nav-tabs {\r\n  border-bottom: 1px solid #dee2e6;\r\n}\r\n\r\n.nav-tabs .nav-link {\r\n  color: #6c757d;\r\n  font-weight: 500;\r\n  border: none;\r\n  border-bottom: 2px solid transparent;\r\n  padding: 10px 15px;\r\n}\r\n\r\n.nav-tabs .nav-link.active {\r\n  color: #3498db;\r\n  border-bottom: 2px solid #3498db;\r\n  background-color: transparent;\r\n}\r\n\r\n.btn-primary {\r\n  padding: 12px;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  letter-spacing: 1px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.form-control {\r\n  padding: 12px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.form-control:focus {\r\n  border-color: #3498db;\r\n  box-shadow: 0 0 0 0.25rem rgba(52, 152, 219, 0.25);\r\n}\r\n</style>\r\n"],"mappings":"AAkJA,SAASA,UAAS,QAAS,MAAM;AAEjC,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE;QACVC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE;MACZ,CAAC;MACDC,YAAY,EAAE;QACZC,YAAY,EAAE,EAAE;QAChBC,GAAG,EAAE;MACP,CAAC;MACDC,UAAU,EAAE,EAAE;MACdC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGX,UAAU,CAAC,CAAC,WAAW,CAAC;EAC7B,CAAC;EACDY,OAAO,EAAE;IACP,MAAMC,gBAAgBA,CAAA,EAAG;MACvB,IAAI,CAACJ,UAAS,GAAI,EAAE;MAEpB,IAAI;QACF,MAAMK,IAAG,GAAI,MAAM,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,YAAY,EAAE,IAAI,CAACb,UAAU,CAAC;;QAEtE;QACA,IAAIW,IAAI,CAACG,IAAG,KAAM,UAAU,EAAE;UAC5B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,qBAAqB,CAAC;QAC1C,OAAO,IAAIL,IAAI,CAACG,IAAG,KAAM,SAAS,EAAE;UAClC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,oBAAoB,CAAC;QACzC,OAAO,IAAIL,IAAI,CAACG,IAAG,KAAM,OAAO,EAAE;UAChC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,kBAAkB,CAAC;QACvC,OAAO;UACL,IAAI,CAACV,UAAS,GAAI,8BAA8B;QAClD;MACF,EAAE,OAAOW,KAAK,EAAE;QACd,IAAI,CAACX,UAAS,GAAIW,KAAK,CAACC,OAAM,IAAK,2BAA2B;MAChE;IACF,CAAC;IAED,MAAMC,kBAAkBA,CAAA,EAAG;MACzB,IAAI,CAACZ,YAAW,GAAI,EAAE;MAEtB,IAAI;QACF,MAAMI,IAAG,GAAI,MAAM,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,mBAAmB,EAAE,IAAI,CAACV,YAAY,CAAC;QAE/E,IAAIQ,IAAI,CAACG,IAAG,KAAM,SAAS,EAAE;UAC3B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,oBAAoB,CAAC;QACzC,OAAO;UACL,IAAI,CAACT,YAAW,GAAI,6BAA6B;QACnD;MACF,EAAE,OAAOU,KAAK,EAAE;QACd,IAAI,CAACV,YAAW,GAAIU,KAAK,CAACC,OAAM,IAAK,8BAA8B;MACrE;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}