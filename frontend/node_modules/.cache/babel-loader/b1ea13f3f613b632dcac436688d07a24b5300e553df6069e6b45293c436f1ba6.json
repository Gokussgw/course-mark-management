{"ast":null,"code":"import _regenerator from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _toConsumableArray from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { mapState, mapActions } from 'vuex';\nexport default {\n  name: 'AdviseeList',\n  data: function data() {\n    return {\n      searchQuery: '',\n      programFilter: '',\n      loading: true\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapState('users', ['advisees'])), {}, {\n    programs: function programs() {\n      // Extract unique programs from advisees\n      if (!this.advisees || !Array.isArray(this.advisees)) return [];\n      return _toConsumableArray(new Set(this.advisees.map(function (advisee) {\n        return advisee.program;\n      }).filter(Boolean)));\n    },\n    filteredAdvisees: function filteredAdvisees() {\n      var _this = this;\n      if (!this.advisees || !Array.isArray(this.advisees)) return [];\n      return this.advisees.filter(function (advisee) {\n        var _advisee$fullName, _advisee$studentId, _advisee$email;\n        var matchesSearch = ((_advisee$fullName = advisee.fullName) === null || _advisee$fullName === void 0 ? void 0 : _advisee$fullName.toLowerCase().includes(_this.searchQuery.toLowerCase())) || ((_advisee$studentId = advisee.studentId) === null || _advisee$studentId === void 0 ? void 0 : _advisee$studentId.toLowerCase().includes(_this.searchQuery.toLowerCase())) || ((_advisee$email = advisee.email) === null || _advisee$email === void 0 ? void 0 : _advisee$email.toLowerCase().includes(_this.searchQuery.toLowerCase()));\n        var matchesProgram = _this.programFilter === '' || advisee.program === _this.programFilter;\n        return matchesSearch && matchesProgram;\n      });\n    }\n  }),\n  methods: _objectSpread({}, mapActions('users', ['fetchAdvisees'])),\n  created: function created() {\n    var _this2 = this;\n    return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n      var _t;\n      return _regenerator().w(function (_context) {\n        while (1) switch (_context.n) {\n          case 0:\n            _context.p = 0;\n            _context.n = 1;\n            return _this2.fetchAdvisees();\n          case 1:\n            _context.n = 3;\n            break;\n          case 2:\n            _context.p = 2;\n            _t = _context.v;\n            _this2.$toast.error('Failed to load advisees.');\n            console.error('Error fetching advisees:', _t);\n          case 3:\n            _context.p = 3;\n            _this2.loading = false;\n            return _context.f(3);\n          case 4:\n            return _context.a(2);\n        }\n      }, _callee, null, [[0, 2, 3, 4]]);\n    }))();\n  }\n};","map":{"version":3,"names":["mapState","mapActions","name","data","searchQuery","programFilter","loading","computed","_objectSpread","programs","advisees","Array","isArray","_toConsumableArray","Set","map","advisee","program","filter","Boolean","filteredAdvisees","_this","_advisee$fullName","_advisee$studentId","_advisee$email","matchesSearch","fullName","toLowerCase","includes","studentId","email","matchesProgram","methods","created","_this2","_asyncToGenerator","_regenerator","m","_callee","_t","w","_context","n","p","fetchAdvisees","v","$toast","error","console","f","a"],"sources":["C:\\Users\\ansmu\\Desktop\\Web\\NEW\\course-mark-management\\frontend\\src\\views\\advisor\\AdviseeList.vue"],"sourcesContent":["<template>\r\n  <div class=\"advisee-list-container\">\r\n    <h1 class=\"mb-4\">My Advisees</h1>\r\n\r\n    <div class=\"card mb-4\">\r\n      <div class=\"card-body\">\r\n        <div class=\"d-flex justify-content-between align-items-center mb-3\">\r\n          <div class=\"search-wrapper\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Search advisees...\"\r\n              v-model=\"searchQuery\"\r\n            />\r\n          </div>\r\n          <div class=\"filter-wrapper\">\r\n            <select class=\"form-select\" v-model=\"programFilter\">\r\n              <option value=\"\">All Programs</option>\r\n              <option v-for=\"program in programs\" :key=\"program\" :value=\"program\">\r\n                {{ program }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"loading\" class=\"text-center my-5\">\r\n      <div class=\"spinner-border text-primary\" role=\"status\">\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n      <p class=\"mt-2\">Loading your advisees...</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"error\" class=\"alert alert-danger\">\r\n      <i class=\"fas fa-exclamation-triangle me-2\"></i>\r\n      {{ error }}\r\n    </div>\r\n\r\n    <div v-else-if=\"filteredAdvisees.length === 0 && advisees.length === 0\" class=\"alert alert-info\">\r\n      <i class=\"fas fa-info-circle me-2\"></i>\r\n      No advisees have been assigned to you yet.\r\n    </div>\r\n\r\n    <div v-else-if=\"filteredAdvisees.length === 0\" class=\"alert alert-warning\">\r\n      <i class=\"fas fa-search me-2\"></i>\r\n      No advisees match your current search criteria.\r\n    </div>\r\n\r\n    <div v-else class=\"row\">\r\n      <div\r\n        v-for=\"advisee in filteredAdvisees\"\r\n        :key=\"advisee.id\"\r\n        class=\"col-md-6 col-lg-4 mb-4\"\r\n      >\r\n        <div class=\"card h-100\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">{{ advisee.fullName }}</h5>\r\n            <p class=\"card-text text-muted\">{{ advisee.studentId }}</p>\r\n            <div class=\"mb-2\">\r\n              <span class=\"badge bg-secondary\">{{ advisee.program }}</span>\r\n            </div>\r\n            <p class=\"card-text\">\r\n              <small class=\"text-muted\">{{ advisee.email }}</small>\r\n            </p>\r\n          </div>\r\n          <div class=\"card-footer bg-white border-0\">\r\n            <router-link\r\n              :to=\"`/advisor/advisee/${advisee.id}`\"\r\n              class=\"btn btn-primary btn-sm w-100\"\r\n            >\r\n              View Details\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'AdviseeList',\r\n  data() {\r\n    return {\r\n      searchQuery: '',\r\n      programFilter: '',\r\n      loading: true\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('users', ['advisees']),\r\n    programs() {\r\n      // Extract unique programs from advisees\r\n      if (!this.advisees || !Array.isArray(this.advisees)) return [];\r\n      return [...new Set(this.advisees.map(advisee => advisee.program).filter(Boolean))];\r\n    },\r\n    filteredAdvisees() {\r\n      if (!this.advisees || !Array.isArray(this.advisees)) return [];\r\n      return this.advisees.filter(advisee => {\r\n        const matchesSearch = advisee.fullName?.toLowerCase().includes(this.searchQuery.toLowerCase()) ||\r\n          advisee.studentId?.toLowerCase().includes(this.searchQuery.toLowerCase()) ||\r\n          advisee.email?.toLowerCase().includes(this.searchQuery.toLowerCase());\r\n        \r\n        const matchesProgram = this.programFilter === '' || advisee.program === this.programFilter;\r\n        \r\n        return matchesSearch && matchesProgram;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('users', ['fetchAdvisees'])\r\n  },\r\n  async created() {\r\n    try {\r\n      await this.fetchAdvisees();\r\n    } catch (error) {\r\n      this.$toast.error('Failed to load advisees.');\r\n      console.error('Error fetching advisees:', error);\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.advisee-list-container {\r\n  padding: 2rem 0;\r\n}\r\n\r\n.card {\r\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n  border: none;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.search-wrapper {\r\n  flex: 1;\r\n  max-width: 300px;\r\n  margin-right: 1rem;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .d-flex {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .search-wrapper,\r\n  .filter-wrapper {\r\n    width: 100%;\r\n    max-width: none;\r\n    margin-right: 0;\r\n    margin-bottom: 1rem;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}