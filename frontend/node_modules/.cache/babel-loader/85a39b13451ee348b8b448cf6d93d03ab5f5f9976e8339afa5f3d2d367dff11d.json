{"ast":null,"code":"import _toConsumableArray from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport { createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, normalizeClass as _normalizeClass, createStaticVNode as _createStaticVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"marks-management\"\n};\nvar _hoisted_2 = {\n  \"class\": \"d-flex justify-content-between align-items-center mb-4\"\n};\nvar _hoisted_3 = {\n  \"aria-label\": \"breadcrumb\"\n};\nvar _hoisted_4 = {\n  \"class\": \"breadcrumb\"\n};\nvar _hoisted_5 = {\n  \"class\": \"breadcrumb-item\"\n};\nvar _hoisted_6 = {\n  \"class\": \"breadcrumb-item\"\n};\nvar _hoisted_7 = {\n  \"class\": \"text-muted\"\n};\nvar _hoisted_8 = {\n  \"class\": \"btn-group\"\n};\nvar _hoisted_9 = [\"disabled\"];\nvar _hoisted_10 = [\"disabled\"];\nvar _hoisted_11 = {\n  \"class\": \"card mb-4\"\n};\nvar _hoisted_12 = {\n  \"class\": \"card-body\"\n};\nvar _hoisted_13 = {\n  \"class\": \"row\"\n};\nvar _hoisted_14 = {\n  \"class\": \"col-md-6\"\n};\nvar _hoisted_15 = [\"value\"];\nvar _hoisted_16 = {\n  key: 0,\n  \"class\": \"text-center my-5\"\n};\nvar _hoisted_17 = {\n  key: 1,\n  \"class\": \"text-center my-5\"\n};\nvar _hoisted_18 = {\n  key: 2,\n  \"class\": \"text-center my-5\"\n};\nvar _hoisted_19 = {\n  \"class\": \"card\"\n};\nvar _hoisted_20 = {\n  \"class\": \"card-header bg-light\"\n};\nvar _hoisted_21 = {\n  \"class\": \"d-flex justify-content-between align-items-center\"\n};\nvar _hoisted_22 = {\n  \"class\": \"d-flex gap-2\"\n};\nvar _hoisted_23 = {\n  \"class\": \"card-body p-0\"\n};\nvar _hoisted_24 = {\n  \"class\": \"table-responsive\"\n};\nvar _hoisted_25 = {\n  \"class\": \"table table-hover mb-0\"\n};\nvar _hoisted_26 = {\n  \"class\": \"d-flex align-items-center\"\n};\nvar _hoisted_27 = {\n  \"class\": \"avatar avatar-sm me-3\"\n};\nvar _hoisted_28 = {\n  \"class\": \"text-muted\"\n};\nvar _hoisted_29 = [\"onUpdate:modelValue\", \"onInput\"];\nvar _hoisted_30 = [\"onUpdate:modelValue\", \"onInput\"];\nvar _hoisted_31 = [\"onUpdate:modelValue\", \"onInput\"];\nvar _hoisted_32 = [\"onUpdate:modelValue\", \"onInput\"];\nvar _hoisted_33 = {\n  \"class\": \"badge bg-success fs-6\"\n};\nvar _hoisted_34 = {\n  \"class\": \"btn-group btn-group-sm\"\n};\nvar _hoisted_35 = [\"onClick\"];\nvar _hoisted_36 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _$data$course2, _$data$course3, _$data$course4;\n  var _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", null, [_createElementVNode(\"nav\", _hoisted_3, [_createElementVNode(\"ol\", _hoisted_4, [_createElementVNode(\"li\", _hoisted_5, [_createVNode(_component_router_link, {\n    to: \"/lecturer/dashboard\"\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[6] || (_cache[6] = [_createTextVNode(\"Dashboard\")]);\n    }),\n    _: 1 /* STABLE */,\n    __: [6]\n  })]), _createElementVNode(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    to: \"/lecturer/course/\".concat($data.courseId)\n  }, {\n    \"default\": _withCtx(function () {\n      var _$data$course;\n      return [_createTextVNode(_toDisplayString((_$data$course = $data.course) === null || _$data$course === void 0 ? void 0 : _$data$course.code), 1 /* TEXT */)];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])]), _cache[7] || (_cache[7] = _createElementVNode(\"li\", {\n    \"class\": \"breadcrumb-item active\",\n    \"aria-current\": \"page\"\n  }, \"Marks Management\", -1 /* CACHED */))])]), _cache[8] || (_cache[8] = _createElementVNode(\"h1\", {\n    \"class\": \"mb-2\"\n  }, \"Marks Management\", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_7, _toDisplayString((_$data$course2 = $data.course) === null || _$data$course2 === void 0 ? void 0 : _$data$course2.code) + \" - \" + _toDisplayString((_$data$course3 = $data.course) === null || _$data$course3 === void 0 ? void 0 : _$data$course3.name) + \" | \" + _toDisplayString((_$data$course4 = $data.course) === null || _$data$course4 === void 0 ? void 0 : _$data$course4.semester), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"button\", {\n    \"class\": \"btn btn-success\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.saveAllMarks && $options.saveAllMarks.apply($options, arguments);\n    }),\n    disabled: $data.isLoading\n  }, _cache[9] || (_cache[9] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-save me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"Save All Changes \")]), 8 /* PROPS */, _hoisted_9), _createElementVNode(\"button\", {\n    \"class\": \"btn btn-outline-primary\",\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $options.exportMarksCSV && $options.exportMarksCSV.apply($options, arguments);\n    }),\n    disabled: $data.isLoading || !$data.courseId\n  }, _cache[10] || (_cache[10] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-file-export me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"Export Marks CSV \")]), 8 /* PROPS */, _hoisted_10)])]), _createCommentVNode(\" Course Selection \"), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    \"for\": \"courseSelect\",\n    \"class\": \"form-label\"\n  }, \"Select Course:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"courseSelect\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $data.courseId = $event;\n    }),\n    onChange: _cache[3] || (_cache[3] = function () {\n      return $options.loadCourseData && $options.loadCourseData.apply($options, arguments);\n    }),\n    \"class\": \"form-select\"\n  }, [_cache[11] || (_cache[11] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Select a course...\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.lecturerCourses, function (course) {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: course.id,\n      value: course.id\n    }, _toDisplayString(course.code) + \" - \" + _toDisplayString(course.name), 9 /* TEXT, PROPS */, _hoisted_15);\n  }), 128 /* KEYED_FRAGMENT */))], 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $data.courseId]])]), _cache[13] || (_cache[13] = _createStaticVNode(\"<div class=\\\"col-md-6\\\" data-v-80072c70><label class=\\\"form-label\\\" data-v-80072c70>Assessment Breakdown:</label><div class=\\\"d-flex gap-3\\\" data-v-80072c70><div class=\\\"badge bg-primary p-2\\\" data-v-80072c70><i class=\\\"fas fa-tasks me-2\\\" data-v-80072c70></i>Components: 70% </div><div class=\\\"badge bg-warning p-2\\\" data-v-80072c70><i class=\\\"fas fa-graduation-cap me-2\\\" data-v-80072c70></i>Final Exam: 30% </div></div></div>\", 1))])])]), $data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, _cache[14] || (_cache[14] = [_createElementVNode(\"div\", {\n    \"class\": \"spinner-border text-primary\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    \"class\": \"visually-hidden\"\n  }, \"Loading...\")], -1 /* CACHED */)]))) : !$data.courseId ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, _cache[15] || (_cache[15] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-book-open text-muted mb-3\",\n    style: {\n      \"font-size\": \"3rem\"\n    }\n  }, null, -1 /* CACHED */), _createElementVNode(\"h5\", {\n    \"class\": \"text-muted\"\n  }, \"Select a Course\", -1 /* CACHED */), _createElementVNode(\"p\", {\n    \"class\": \"text-muted\"\n  }, \"Choose a course from the dropdown above to manage student marks.\", -1 /* CACHED */)]))) : $data.students.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, _cache[16] || (_cache[16] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-users text-muted mb-3\",\n    style: {\n      \"font-size\": \"3rem\"\n    }\n  }, null, -1 /* CACHED */), _createElementVNode(\"h5\", {\n    \"class\": \"text-muted\"\n  }, \"No Students Enrolled\", -1 /* CACHED */), _createElementVNode(\"p\", {\n    \"class\": \"text-muted\"\n  }, \"There are no students enrolled in this course yet.\", -1 /* CACHED */)]))) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 3\n  }, [_createCommentVNode(\" Marks Table \"), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_cache[19] || (_cache[19] = _createElementVNode(\"h5\", {\n    \"class\": \"mb-0\"\n  }, \"Student Marks\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"button\", {\n    \"class\": \"btn btn-sm btn-outline-success\",\n    onClick: _cache[4] || (_cache[4] = function () {\n      return $options.calculateAllFinalMarks && $options.calculateAllFinalMarks.apply($options, arguments);\n    })\n  }, _cache[17] || (_cache[17] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-calculator me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"Calculate Final Marks \")])), _createElementVNode(\"button\", {\n    \"class\": \"btn btn-sm btn-outline-info\",\n    onClick: _cache[5] || (_cache[5] = function () {\n      return $options.showMarkingGuide && $options.showMarkingGuide.apply($options, arguments);\n    })\n  }, _cache[18] || (_cache[18] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-info-circle me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"Marking Guide \")]))])])]), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"table\", _hoisted_25, [_cache[23] || (_cache[23] = _createElementVNode(\"thead\", {\n    \"class\": \"table-light\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    rowspan: \"2\",\n    \"class\": \"align-middle\"\n  }, \"Student\"), _createElementVNode(\"th\", {\n    rowspan: \"2\",\n    \"class\": \"align-middle\"\n  }, \"Matric No.\"), _createElementVNode(\"th\", {\n    colspan: \"3\",\n    \"class\": \"text-center bg-primary text-white\"\n  }, \"Components (70%)\"), _createElementVNode(\"th\", {\n    rowspan: \"2\",\n    \"class\": \"align-middle bg-warning text-dark\"\n  }, \"Final Exam (30%)\"), _createElementVNode(\"th\", {\n    rowspan: \"2\",\n    \"class\": \"align-middle bg-success text-white\"\n  }, \"Final Mark\"), _createElementVNode(\"th\", {\n    rowspan: \"2\",\n    \"class\": \"align-middle\"\n  }, \"Grade\"), _createElementVNode(\"th\", {\n    rowspan: \"2\",\n    \"class\": \"align-middle\"\n  }, \"Actions\")]), _createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    \"class\": \"bg-primary text-white\"\n  }, \"Assignment\"), _createElementVNode(\"th\", {\n    \"class\": \"bg-primary text-white\"\n  }, \"Quiz\"), _createElementVNode(\"th\", {\n    \"class\": \"bg-primary text-white\"\n  }, \"Test\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.students, function (student) {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: student.id\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, _toDisplayString($options.getStudentInitials(student.name)), 1 /* TEXT */), _createElementVNode(\"div\", null, [_createElementVNode(\"strong\", null, _toDisplayString(student.name), 1 /* TEXT */), _cache[20] || (_cache[20] = _createElementVNode(\"br\", null, null, -1 /* CACHED */)), _createElementVNode(\"small\", _hoisted_28, _toDisplayString(student.email), 1 /* TEXT */)])])]), _createElementVNode(\"td\", null, _toDisplayString(student.matric_number || 'N/A'), 1 /* TEXT */), _createCommentVNode(\" Component Marks (70%) \"), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"class\": \"form-control form-control-sm\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return student.marks.assignment = $event;\n      },\n      onInput: function onInput($event) {\n        return $options.calculateFinalMark(student);\n      },\n      min: \"0\",\n      max: \"100\",\n      placeholder: \"0-100\"\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_29), [[_vModelText, student.marks.assignment, void 0, {\n      number: true\n    }]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"class\": \"form-control form-control-sm\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return student.marks.quiz = $event;\n      },\n      onInput: function onInput($event) {\n        return $options.calculateFinalMark(student);\n      },\n      min: \"0\",\n      max: \"100\",\n      placeholder: \"0-100\"\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_30), [[_vModelText, student.marks.quiz, void 0, {\n      number: true\n    }]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"class\": \"form-control form-control-sm\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return student.marks.test = $event;\n      },\n      onInput: function onInput($event) {\n        return $options.calculateFinalMark(student);\n      },\n      min: \"0\",\n      max: \"100\",\n      placeholder: \"0-100\"\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_31), [[_vModelText, student.marks.test, void 0, {\n      number: true\n    }]])]), _createCommentVNode(\" Final Exam (30%) \"), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"class\": \"form-control form-control-sm\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return student.marks.final_exam = $event;\n      },\n      onInput: function onInput($event) {\n        return $options.calculateFinalMark(student);\n      },\n      min: \"0\",\n      max: \"100\",\n      placeholder: \"0-100\"\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_32), [[_vModelText, student.marks.final_exam, void 0, {\n      number: true\n    }]])]), _createCommentVNode(\" Final Mark \"), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", _hoisted_33, _toDisplayString(student.marks.final_mark ? student.marks.final_mark.toFixed(1) : 'N/A'), 1 /* TEXT */)]), _createCommentVNode(\" Grade \"), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      \"class\": _normalizeClass([\"badge\", $options.getGradeBadgeClass(student.marks.grade)])\n    }, _toDisplayString(student.marks.grade || 'N/A'), 3 /* TEXT, CLASS */)]), _createCommentVNode(\" Actions \"), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_34, [_createElementVNode(\"button\", {\n      \"class\": \"btn btn-outline-primary\",\n      onClick: function onClick($event) {\n        return $options.viewStudentDetails(student);\n      },\n      title: \"View Details\"\n    }, _toConsumableArray(_cache[21] || (_cache[21] = [_createElementVNode(\"i\", {\n      \"class\": \"fas fa-eye\"\n    }, null, -1 /* CACHED */)])), 8 /* PROPS */, _hoisted_35), _createElementVNode(\"button\", {\n      \"class\": \"btn btn-outline-success\",\n      onClick: function onClick($event) {\n        return $options.saveStudentMarks(student);\n      },\n      title: \"Save Marks\"\n    }, _toConsumableArray(_cache[22] || (_cache[22] = [_createElementVNode(\"i\", {\n      \"class\": \"fas fa-save\"\n    }, null, -1 /* CACHED */)])), 8 /* PROPS */, _hoisted_36)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" Marking Guide Modal \"), _cache[24] || (_cache[24] = _createStaticVNode(\"<div class=\\\"modal fade\\\" id=\\\"markingGuideModal\\\" tabindex=\\\"-1\\\" aria-labelledby=\\\"markingGuideModalLabel\\\" aria-hidden=\\\"true\\\" data-v-80072c70><div class=\\\"modal-dialog modal-lg\\\" data-v-80072c70><div class=\\\"modal-content\\\" data-v-80072c70><div class=\\\"modal-header\\\" data-v-80072c70><h5 class=\\\"modal-title\\\" id=\\\"markingGuideModalLabel\\\" data-v-80072c70>Marking Guide</h5><button type=\\\"button\\\" class=\\\"btn-close\\\" data-bs-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\" data-v-80072c70></button></div><div class=\\\"modal-body\\\" data-v-80072c70><div class=\\\"row\\\" data-v-80072c70><div class=\\\"col-md-6\\\" data-v-80072c70><h6 data-v-80072c70>Assessment Breakdown</h6><ul class=\\\"list-group list-group-flush\\\" data-v-80072c70><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>Assignment</span><span class=\\\"badge bg-primary\\\" data-v-80072c70>25%</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>Quiz</span><span class=\\\"badge bg-primary\\\" data-v-80072c70>20%</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>Test</span><span class=\\\"badge bg-primary\\\" data-v-80072c70>25%</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70><strong data-v-80072c70>Components Total</strong></span><span class=\\\"badge bg-primary\\\" data-v-80072c70><strong data-v-80072c70>70%</strong></span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70><strong data-v-80072c70>Final Exam</strong></span><span class=\\\"badge bg-warning text-dark\\\" data-v-80072c70><strong data-v-80072c70>30%</strong></span></li></ul></div><div class=\\\"col-md-6\\\" data-v-80072c70><h6 data-v-80072c70>Grading Scale</h6><ul class=\\\"list-group list-group-flush\\\" data-v-80072c70><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>A</span><span data-v-80072c70>80-100</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>B</span><span data-v-80072c70>70-79</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>C</span><span data-v-80072c70>60-69</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>D</span><span data-v-80072c70>50-59</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>F</span><span data-v-80072c70>0-49</span></li></ul></div></div><div class=\\\"mt-3\\\" data-v-80072c70><h6 data-v-80072c70>Calculation Formula</h6><div class=\\\"alert alert-info\\\" data-v-80072c70><strong data-v-80072c70>Final Grade = (Assignment × 25%) + (Quiz × 20%) + (Test × 25%) + (Final Exam × 30%)</strong><br data-v-80072c70><small class=\\\"text-muted\\\" data-v-80072c70>Components (Assignment + Quiz + Test) contribute 70% total, Final Exam contributes 30%</small></div></div></div><div class=\\\"modal-footer\\\" data-v-80072c70><button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-bs-dismiss=\\\"modal\\\" data-v-80072c70>Close</button></div></div></div></div>\", 1))]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_router_link","to","_cache","_hoisted_6","concat","$data","courseId","_$data$course","course","code","_hoisted_7","_toDisplayString","_$data$course2","_$data$course3","name","_$data$course4","semester","_hoisted_8","onClick","$options","saveAllMarks","apply","arguments","disabled","isLoading","exportMarksCSV","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","id","$event","onChange","loadCourseData","value","_Fragment","_renderList","lecturerCourses","key","_hoisted_15","_hoisted_16","role","_hoisted_17","style","students","length","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","calculateAllFinalMarks","showMarkingGuide","_hoisted_23","_hoisted_24","_hoisted_25","rowspan","colspan","student","_hoisted_26","_hoisted_27","getStudentInitials","_hoisted_28","email","matric_number","type","marks","assignment","onInput","calculateFinalMark","min","max","placeholder","number","quiz","test","final_exam","_hoisted_33","final_mark","toFixed","_normalizeClass","getGradeBadgeClass","grade","_hoisted_34","viewStudentDetails","title","saveStudentMarks"],"sources":["C:\\Users\\ansmu\\Desktop\\Web\\NEW\\course-mark-management\\frontend\\src\\views\\lecturer\\MarksManagement.vue"],"sourcesContent":["<template>\r\n  <div class=\"marks-management\">\r\n    <!-- Header -->\r\n    <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n      <div>\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n              <router-link to=\"/lecturer/dashboard\">Dashboard</router-link>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n              <router-link :to=\"`/lecturer/course/${courseId}`\">{{ course?.code }}</router-link>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">Marks Management</li>\r\n          </ol>\r\n        </nav>\r\n        <h1 class=\"mb-2\">Marks Management</h1>\r\n        <p class=\"text-muted\">\r\n          {{ course?.code }} - {{ course?.name }} | {{ course?.semester }}\r\n        </p>\r\n      </div>\r\n      <div class=\"btn-group\">\r\n        <button class=\"btn btn-success\" @click=\"saveAllMarks\" :disabled=\"isLoading\">\r\n          <i class=\"fas fa-save me-2\"></i>Save All Changes\r\n        </button>\r\n        <button class=\"btn btn-outline-primary\" @click=\"exportMarksCSV\" :disabled=\"isLoading || !courseId\">\r\n          <i class=\"fas fa-file-export me-2\"></i>Export Marks CSV\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Course Selection -->\r\n    <div class=\"card mb-4\">\r\n      <div class=\"card-body\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6\">\r\n            <label for=\"courseSelect\" class=\"form-label\">Select Course:</label>\r\n            <select \r\n              id=\"courseSelect\" \r\n              v-model=\"courseId\" \r\n              @change=\"loadCourseData\"\r\n              class=\"form-select\"\r\n            >\r\n              <option value=\"\">Select a course...</option>\r\n              <option \r\n                v-for=\"course in lecturerCourses\" \r\n                :key=\"course.id\" \r\n                :value=\"course.id\"\r\n              >\r\n                {{ course.code }} - {{ course.name }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <label class=\"form-label\">Assessment Breakdown:</label>\r\n            <div class=\"d-flex gap-3\">\r\n              <div class=\"badge bg-primary p-2\">\r\n                <i class=\"fas fa-tasks me-2\"></i>Components: 70%\r\n              </div>\r\n              <div class=\"badge bg-warning p-2\">\r\n                <i class=\"fas fa-graduation-cap me-2\"></i>Final Exam: 30%\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"isLoading\" class=\"text-center my-5\">\r\n      <div class=\"spinner-border text-primary\" role=\"status\">\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else-if=\"!courseId\" class=\"text-center my-5\">\r\n      <i class=\"fas fa-book-open text-muted mb-3\" style=\"font-size: 3rem;\"></i>\r\n      <h5 class=\"text-muted\">Select a Course</h5>\r\n      <p class=\"text-muted\">Choose a course from the dropdown above to manage student marks.</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"students.length === 0\" class=\"text-center my-5\">\r\n      <i class=\"fas fa-users text-muted mb-3\" style=\"font-size: 3rem;\"></i>\r\n      <h5 class=\"text-muted\">No Students Enrolled</h5>\r\n      <p class=\"text-muted\">There are no students enrolled in this course yet.</p>\r\n    </div>\r\n\r\n    <!-- Marks Table -->\r\n    <div v-else class=\"card\">\r\n      <div class=\"card-header bg-light\">\r\n        <div class=\"d-flex justify-content-between align-items-center\">\r\n          <h5 class=\"mb-0\">Student Marks</h5>\r\n          <div class=\"d-flex gap-2\">\r\n            <button class=\"btn btn-sm btn-outline-success\" @click=\"calculateAllFinalMarks\">\r\n              <i class=\"fas fa-calculator me-2\"></i>Calculate Final Marks\r\n            </button>\r\n            <button class=\"btn btn-sm btn-outline-info\" @click=\"showMarkingGuide\">\r\n              <i class=\"fas fa-info-circle me-2\"></i>Marking Guide\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"card-body p-0\">\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-hover mb-0\">\r\n            <thead class=\"table-light\">\r\n              <tr>\r\n                <th rowspan=\"2\" class=\"align-middle\">Student</th>\r\n                <th rowspan=\"2\" class=\"align-middle\">Matric No.</th>\r\n                <th colspan=\"3\" class=\"text-center bg-primary text-white\">Components (70%)</th>\r\n                <th rowspan=\"2\" class=\"align-middle bg-warning text-dark\">Final Exam (30%)</th>\r\n                <th rowspan=\"2\" class=\"align-middle bg-success text-white\">Final Mark</th>\r\n                <th rowspan=\"2\" class=\"align-middle\">Grade</th>\r\n                <th rowspan=\"2\" class=\"align-middle\">Actions</th>\r\n              </tr>\r\n              <tr>\r\n                <th class=\"bg-primary text-white\">Assignment</th>\r\n                <th class=\"bg-primary text-white\">Quiz</th>\r\n                <th class=\"bg-primary text-white\">Test</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"student in students\" :key=\"student.id\">\r\n                <td>\r\n                  <div class=\"d-flex align-items-center\">\r\n                    <div class=\"avatar avatar-sm me-3\">\r\n                      {{ getStudentInitials(student.name) }}\r\n                    </div>\r\n                    <div>\r\n                      <strong>{{ student.name }}</strong>\r\n                      <br>\r\n                      <small class=\"text-muted\">{{ student.email }}</small>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td>{{ student.matric_number || 'N/A' }}</td>\r\n                \r\n                <!-- Component Marks (70%) -->\r\n                <td>\r\n                  <input \r\n                    type=\"number\" \r\n                    class=\"form-control form-control-sm\"\r\n                    v-model.number=\"student.marks.assignment\"\r\n                    @input=\"calculateFinalMark(student)\"\r\n                    min=\"0\" \r\n                    max=\"100\"\r\n                    placeholder=\"0-100\"\r\n                  >\r\n                </td>\r\n                <td>\r\n                  <input \r\n                    type=\"number\" \r\n                    class=\"form-control form-control-sm\"\r\n                    v-model.number=\"student.marks.quiz\"\r\n                    @input=\"calculateFinalMark(student)\"\r\n                    min=\"0\" \r\n                    max=\"100\"\r\n                    placeholder=\"0-100\"\r\n                  >\r\n                </td>\r\n                <td>\r\n                  <input \r\n                    type=\"number\" \r\n                    class=\"form-control form-control-sm\"\r\n                    v-model.number=\"student.marks.test\"\r\n                    @input=\"calculateFinalMark(student)\"\r\n                    min=\"0\" \r\n                    max=\"100\"\r\n                    placeholder=\"0-100\"\r\n                  >\r\n                </td>\r\n                \r\n                <!-- Final Exam (30%) -->\r\n                <td>\r\n                  <input \r\n                    type=\"number\" \r\n                    class=\"form-control form-control-sm\"\r\n                    v-model.number=\"student.marks.final_exam\"\r\n                    @input=\"calculateFinalMark(student)\"\r\n                    min=\"0\" \r\n                    max=\"100\"\r\n                    placeholder=\"0-100\"\r\n                  >\r\n                </td>\r\n                \r\n                <!-- Final Mark -->\r\n                <td>\r\n                  <span class=\"badge bg-success fs-6\">\r\n                    {{ student.marks.final_mark ? student.marks.final_mark.toFixed(1) : 'N/A' }}\r\n                  </span>\r\n                </td>\r\n                \r\n                <!-- Grade -->\r\n                <td>\r\n                  <span class=\"badge\" :class=\"getGradeBadgeClass(student.marks.grade)\">\r\n                    {{ student.marks.grade || 'N/A' }}\r\n                  </span>\r\n                </td>\r\n                \r\n                <!-- Actions -->\r\n                <td>\r\n                  <div class=\"btn-group btn-group-sm\">\r\n                    <button \r\n                      class=\"btn btn-outline-primary\"\r\n                      @click=\"viewStudentDetails(student)\"\r\n                      title=\"View Details\"\r\n                    >\r\n                      <i class=\"fas fa-eye\"></i>\r\n                    </button>\r\n                    <button \r\n                      class=\"btn btn-outline-success\"\r\n                      @click=\"saveStudentMarks(student)\"\r\n                      title=\"Save Marks\"\r\n                    >\r\n                      <i class=\"fas fa-save\"></i>\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Marking Guide Modal -->\r\n    <div class=\"modal fade\" id=\"markingGuideModal\" tabindex=\"-1\" aria-labelledby=\"markingGuideModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"markingGuideModalLabel\">Marking Guide</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-6\">\r\n                <h6>Assessment Breakdown</h6>\r\n                <ul class=\"list-group list-group-flush\">\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>Assignment</span>\r\n                    <span class=\"badge bg-primary\">25%</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>Quiz</span>\r\n                    <span class=\"badge bg-primary\">20%</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>Test</span>\r\n                    <span class=\"badge bg-primary\">25%</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span><strong>Components Total</strong></span>\r\n                    <span class=\"badge bg-primary\"><strong>70%</strong></span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span><strong>Final Exam</strong></span>\r\n                    <span class=\"badge bg-warning text-dark\"><strong>30%</strong></span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n                <h6>Grading Scale</h6>\r\n                <ul class=\"list-group list-group-flush\">\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>A</span>\r\n                    <span>80-100</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>B</span>\r\n                    <span>70-79</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>C</span>\r\n                    <span>60-69</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>D</span>\r\n                    <span>50-59</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>F</span>\r\n                    <span>0-49</span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            <div class=\"mt-3\">\r\n              <h6>Calculation Formula</h6>\r\n              <div class=\"alert alert-info\">\r\n                <strong>Final Grade = (Assignment × 25%) + (Quiz × 20%) + (Test × 25%) + (Final Exam × 30%)</strong>\r\n                <br><small class=\"text-muted\">Components (Assignment + Quiz + Test) contribute 70% total, Final Exam contributes 30%</small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport * as bootstrap from 'bootstrap';\r\n\r\nexport default {\r\n  name: 'MarksManagement',\r\n  data() {\r\n    return {\r\n      courseId: this.$route.params.courseId || '',\r\n      course: null,\r\n      students: [],\r\n      lecturerCourses: [],\r\n      isLoading: false,\r\n      unsavedChanges: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('auth', ['getUser', 'userId']),\r\n    currentUser() {\r\n      return this.getUser;\r\n    }\r\n  },\r\n  async created() {\r\n    console.log('MarksManagement component created');\r\n    console.log('Initial auth state:', {\r\n      user: this.getUser,\r\n      userId: this.userId,\r\n      isAuthenticated: this.$store.getters['auth/isAuthenticated']\r\n    });\r\n    \r\n    // Wait a bit for auth to be initialized if needed\r\n    await this.$nextTick();\r\n    \r\n    await this.loadLecturerCourses();\r\n    if (this.courseId) {\r\n      await this.loadCourseData();\r\n    }\r\n  },\r\n  methods: {\r\n    async loadLecturerCourses() {\r\n      try {\r\n        console.log('Loading lecturer courses...');\r\n        console.log('User ID:', this.userId);\r\n        console.log('Current user:', this.currentUser);\r\n        \r\n        if (!this.userId) {\r\n          throw new Error('User not authenticated');\r\n        }\r\n        \r\n        const lecturerId = this.userId;\r\n        \r\n        const response = await fetch(`http://localhost:3000/marks-api.php?action=lecturer_courses&lecturer_id=${lecturerId}`, {\r\n          method: 'GET',\r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n\r\n        console.log('API Response status:', response.status);\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        console.log('API Response data:', data);\r\n        \r\n        if (data.error) {\r\n          throw new Error(data.error);\r\n        }\r\n\r\n        this.lecturerCourses = data.courses || [];\r\n        console.log('Loaded lecturer courses:', this.lecturerCourses);\r\n\r\n      } catch (error) {\r\n        console.error('Error loading lecturer courses:', error);\r\n        this.$store.dispatch('showToast', {\r\n          message: 'Error loading courses: ' + error.message,\r\n          type: 'error'\r\n        });\r\n        this.lecturerCourses = [];\r\n      }\r\n    },\r\n\r\n    async loadCourseData() {\r\n      if (!this.courseId) return;\r\n      \r\n      this.isLoading = true;\r\n      try {\r\n        // Find the selected course\r\n        this.course = this.lecturerCourses.find(c => c.id == this.courseId);\r\n        \r\n        // Load students for this course with their marks\r\n        await this.loadStudentsWithMarks();\r\n        \r\n      } catch (error) {\r\n        console.error('Error loading course data:', error);\r\n        this.$store.dispatch('showToast', {\r\n          message: 'Error loading course data',\r\n          type: 'error'\r\n        });\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n\r\n    async loadStudentsWithMarks() {\r\n      try {\r\n        // Make API call to get students with marks for this course\r\n        const response = await fetch(`http://localhost:3000/marks-api.php?action=course_students_marks&course_id=${this.courseId}`, {\r\n          method: 'GET',\r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        \r\n        if (data.error) {\r\n          throw new Error(data.error);\r\n        }\r\n\r\n        // Map the API response to the expected format\r\n        this.students = data.students.map(student => ({\r\n          id: student.student_id,\r\n          name: student.student_name,\r\n          email: student.email || 'N/A',\r\n          matric_number: student.matric_number,\r\n          marks: {\r\n            assignment: student.assignment_mark || 0,\r\n            quiz: student.quiz_mark || 0,\r\n            test: student.test_mark || 0,\r\n            final_exam: student.final_exam_mark || 0,\r\n            final_mark: student.final_grade || 0,\r\n            grade: student.letter_grade || 'F'\r\n          }\r\n        }));\r\n\r\n        // Calculate final marks for all students to ensure they're up to date\r\n        this.students.forEach(student => {\r\n          this.calculateFinalMark(student);\r\n        });\r\n\r\n        console.log('Loaded students with marks:', this.students);\r\n\r\n      } catch (error) {\r\n        console.error('Error loading students with marks:', error);\r\n        this.$store.dispatch('showToast', {\r\n          message: 'Error loading student marks: ' + error.message,\r\n          type: 'error'\r\n        });\r\n        \r\n        // Fallback to empty array\r\n        this.students = [];\r\n      }\r\n    },\r\n\r\n    calculateFinalMark(student) {\r\n      const marks = student.marks;\r\n      \r\n      // Check if all marks are entered\r\n      const assignment = marks.assignment || 0;\r\n      const quiz = marks.quiz || 0;\r\n      const test = marks.test || 0;\r\n      const finalExam = marks.final_exam || 0;\r\n      \r\n      // Calculate final mark: Components (70%) + Final Exam (30%)\r\n      // Components breakdown: Assignment (25%) + Quiz (20%) + Test (25%)\r\n      const componentMark = (assignment * 0.25) + (quiz * 0.20) + (test * 0.25);\r\n      const finalMark = componentMark + (finalExam * 0.30);\r\n      \r\n      marks.final_mark = finalMark;\r\n      marks.grade = this.calculateGrade(finalMark);\r\n      \r\n      this.unsavedChanges = true;\r\n    },\r\n\r\n    calculateGrade(finalMark) {\r\n      if (finalMark >= 80) return 'A';\r\n      if (finalMark >= 70) return 'B';\r\n      if (finalMark >= 60) return 'C';\r\n      if (finalMark >= 50) return 'D';\r\n      return 'F';\r\n    },\r\n\r\n    calculateAllFinalMarks() {\r\n      this.students.forEach(student => {\r\n        this.calculateFinalMark(student);\r\n      });\r\n      \r\n      this.$store.dispatch('showToast', {\r\n        message: 'Final marks calculated for all students',\r\n        type: 'success'\r\n      });\r\n    },\r\n\r\n    async saveStudentMarks(student) {\r\n      try {\r\n        if (!this.userId) {\r\n          throw new Error('User not authenticated');\r\n        }\r\n        \r\n        const lecturerId = this.userId;\r\n        \r\n        const requestData = {\r\n          action: 'save_marks',\r\n          student_id: student.id,\r\n          course_id: this.courseId,\r\n          lecturer_id: lecturerId,\r\n          marks: {\r\n            assignment: student.marks.assignment || 0,\r\n            quiz: student.marks.quiz || 0,\r\n            test: student.marks.test || 0,\r\n            final_exam: student.marks.final_exam || 0\r\n          }\r\n        };\r\n\r\n        const response = await fetch('http://localhost:3000/marks-api.php', {\r\n          method: 'POST',\r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(requestData)\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        \r\n        if (data.error) {\r\n          throw new Error(data.error);\r\n        }\r\n\r\n        console.log('Marks saved successfully for student:', student.name);\r\n        \r\n        this.$store.dispatch('showToast', {\r\n          message: `Marks saved for ${student.name}`,\r\n          type: 'success'\r\n        });\r\n\r\n      } catch (error) {\r\n        console.error('Error saving student marks:', error);\r\n        this.$store.dispatch('showToast', {\r\n          message: `Error saving marks for ${student.name}: ${error.message}`,\r\n          type: 'error'\r\n        });\r\n        throw error; // Re-throw so saveAllMarks can handle it\r\n      }\r\n    },\r\n\r\n    async saveAllMarks() {\r\n      if (!this.unsavedChanges) {\r\n        this.$store.dispatch('showToast', {\r\n          message: 'No changes to save',\r\n          type: 'info'\r\n        });\r\n        return;\r\n      }\r\n\r\n      this.isLoading = true;\r\n      try {\r\n        // Save all student marks to API\r\n        for (const student of this.students) {\r\n          await this.saveStudentMarks(student);\r\n        }\r\n        \r\n        this.unsavedChanges = false;\r\n        this.$store.dispatch('showToast', {\r\n          message: 'All marks saved successfully',\r\n          type: 'success'\r\n        });\r\n      } catch (error) {\r\n        console.error('Error saving all marks:', error);\r\n        this.$store.dispatch('showToast', {\r\n          message: 'Error saving marks',\r\n          type: 'error'\r\n        });\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n\r\n    async exportMarksCSV() {\r\n      console.log('Starting enhanced CSV export with real database integration...');\r\n      \r\n      // Enhanced validation checks\r\n      if (!this.courseId) {\r\n        this.$store.dispatch('showToast', {\r\n          message: 'Please select a course first',\r\n          type: 'warning'\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (!this.userId) {\r\n        this.$store.dispatch('showToast', {\r\n          message: 'User authentication required',\r\n          type: 'error'\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (!this.students || this.students.length === 0) {\r\n        this.$store.dispatch('showToast', {\r\n          message: 'No student data available to export',\r\n          type: 'warning'\r\n        });\r\n        return;\r\n      }\r\n\r\n      this.exportingCSV = true;\r\n\r\n      try {\r\n        console.log('Creating enhanced CSV export with comprehensive data...');\r\n        \r\n        // Generate filename with enhanced naming\r\n        const timestamp = new Date().toISOString().split('T')[0];\r\n        const timeString = new Date().toISOString().split('T')[1].split('.')[0].replace(/:/g, '-');\r\n        const filename = `${this.course?.code || 'Course'}_Complete_Marks_Export_${timestamp}_${timeString}.csv`;\r\n        \r\n        // Enhanced helper function to escape CSV values\r\n        const escapeCSV = (value) => {\r\n          if (value === null || value === undefined) return '';\r\n          const stringValue = String(value);\r\n          if (stringValue.includes(',') || stringValue.includes('\"') || stringValue.includes('\\n') || stringValue.includes('\\r')) {\r\n            return '\"' + stringValue.replace(/\"/g, '\"\"') + '\"';\r\n          }\r\n          return stringValue;\r\n        };\r\n\r\n        // Build comprehensive CSV content\r\n        const csvLines = [];\r\n        \r\n        // Enhanced header section\r\n        csvLines.push('COURSE MARK MANAGEMENT SYSTEM - COMPREHENSIVE EXPORT');\r\n        csvLines.push(''); // Empty line\r\n        \r\n        // Detailed course information\r\n        csvLines.push('COURSE INFORMATION');\r\n        csvLines.push(`Course Code,${escapeCSV(this.course?.code || 'N/A')}`);\r\n        csvLines.push(`Course Name,${escapeCSV(this.course?.name || 'N/A')}`);\r\n        csvLines.push(`Academic Year,${escapeCSV(this.course?.academic_year || new Date().getFullYear())}`);\r\n        csvLines.push(`Semester,${escapeCSV(this.course?.semester || 'Current')}`);\r\n        csvLines.push(`Lecturer,${escapeCSV(this.course?.lecturer_name || this.$store.state.user?.name || 'Unknown')}`);\r\n        csvLines.push(`Export Date,${new Date().toLocaleDateString()}`);\r\n        csvLines.push(`Export Time,${new Date().toLocaleTimeString()}`);\r\n        csvLines.push(`Total Students Enrolled,${this.students.length}`);\r\n        csvLines.push(`Export Generated By,${escapeCSV(this.$store.state.user?.name || 'System')}`);\r\n        csvLines.push(''); // Empty line\r\n        \r\n        // Assessment structure and weightings\r\n        csvLines.push('ASSESSMENT STRUCTURE');\r\n        csvLines.push('Component,Weight (%), Max Raw Score,Points Contribution');\r\n        csvLines.push('Assignment,25%,100,25 points');\r\n        csvLines.push('Quiz,20%,100,20 points');\r\n        csvLines.push('Test,25%,100,25 points');\r\n        csvLines.push('Final Exam,30%,100,30 points');\r\n        csvLines.push('TOTAL,100%,400,100 points');\r\n        csvLines.push(''); // Empty line\r\n        \r\n        // Grading scale information\r\n        csvLines.push('GRADING SCALE');\r\n        csvLines.push('Letter Grade,Points Range,Description');\r\n        csvLines.push('A,80.0 - 100.0,Excellent');\r\n        csvLines.push('B,70.0 - 79.9,Good');\r\n        csvLines.push('C,60.0 - 69.9,Satisfactory');\r\n        csvLines.push('D,50.0 - 59.9,Pass');\r\n        csvLines.push('F,0.0 - 49.9,Fail');\r\n        csvLines.push(''); // Empty line\r\n        \r\n        // Detailed student marks table with calculations\r\n        csvLines.push('DETAILED STUDENT MARKS');\r\n        csvLines.push('Student Name,Matric Number,Email,Assignment Raw,Assignment Points,Quiz Raw,Quiz Points,Test Raw,Test Points,Final Exam Raw,Final Exam Points,Total Points,Final Mark (%),Letter Grade,Academic Status');\r\n        \r\n        // Process each student with enhanced calculations and statistics tracking\r\n        let totalClassPoints = 0;\r\n        let studentsWithMarks = 0;\r\n        const gradeDistribution = { A: 0, B: 0, C: 0, D: 0, F: 0 };\r\n        const componentStats = {\r\n          assignment: { totalRaw: 0, totalPoints: 0, count: 0, highest: 0, lowest: 100 },\r\n          quiz: { totalRaw: 0, totalPoints: 0, count: 0, highest: 0, lowest: 100 },\r\n          test: { totalRaw: 0, totalPoints: 0, count: 0, highest: 0, lowest: 100 },\r\n          final_exam: { totalRaw: 0, totalPoints: 0, count: 0, highest: 0, lowest: 100 }\r\n        };\r\n\r\n        this.students.forEach(student => {\r\n          const marks = student.marks || {};\r\n          \r\n          // Calculate individual component scores and points\r\n          const assignmentRaw = parseFloat(marks.assignment) || 0;\r\n          const assignmentPoints = (assignmentRaw * 25) / 100; // 25% weighting\r\n          \r\n          const quizRaw = parseFloat(marks.quiz) || 0;\r\n          const quizPoints = (quizRaw * 20) / 100; // 20% weighting\r\n          \r\n          const testRaw = parseFloat(marks.test) || 0;\r\n          const testPoints = (testRaw * 25) / 100; // 25% weighting\r\n          \r\n          const finalExamRaw = parseFloat(marks.final_exam) || 0;\r\n          const finalExamPoints = (finalExamRaw * 30) / 100; // 30% weighting\r\n          \r\n          // Calculate total points and final percentage\r\n          const totalPoints = assignmentPoints + quizPoints + testPoints + finalExamPoints;\r\n          const finalMark = Math.round(totalPoints * 100) / 100; // Round to 2 decimal places\r\n          \r\n          // Determine letter grade and academic status\r\n          let letterGrade = 'F';\r\n          let academicStatus = 'Fail';\r\n          \r\n          if (finalMark >= 80) {\r\n            letterGrade = 'A';\r\n            academicStatus = 'Excellent';\r\n          } else if (finalMark >= 70) {\r\n            letterGrade = 'B';\r\n            academicStatus = 'Good';\r\n          } else if (finalMark >= 60) {\r\n            letterGrade = 'C';\r\n            academicStatus = 'Satisfactory';\r\n          } else if (finalMark >= 50) {\r\n            letterGrade = 'D';\r\n            academicStatus = 'Pass';\r\n          }\r\n          \r\n          // Update overall statistics\r\n          if (finalMark > 0 || assignmentRaw > 0 || quizRaw > 0 || testRaw > 0 || finalExamRaw > 0) {\r\n            totalClassPoints += finalMark;\r\n            studentsWithMarks++;\r\n          }\r\n          \r\n          gradeDistribution[letterGrade]++;\r\n          \r\n          // Update component statistics\r\n          const components = [\r\n            { name: 'assignment', raw: assignmentRaw, points: assignmentPoints },\r\n            { name: 'quiz', raw: quizRaw, points: quizPoints },\r\n            { name: 'test', raw: testRaw, points: testPoints },\r\n            { name: 'final_exam', raw: finalExamRaw, points: finalExamPoints }\r\n          ];\r\n          \r\n          components.forEach(comp => {\r\n            if (comp.raw > 0) {\r\n              const stats = componentStats[comp.name];\r\n              stats.totalRaw += comp.raw;\r\n              stats.totalPoints += comp.points;\r\n              stats.count++;\r\n              stats.highest = Math.max(stats.highest, comp.raw);\r\n              stats.lowest = Math.min(stats.lowest, comp.raw);\r\n            }\r\n          });\r\n          \r\n          // Create detailed student row\r\n          const row = [\r\n            escapeCSV(student.name || 'Unknown'),\r\n            escapeCSV(student.matric_number || 'N/A'),\r\n            escapeCSV(student.email || 'N/A'),\r\n            assignmentRaw > 0 ? assignmentRaw.toFixed(1) : '',\r\n            assignmentPoints.toFixed(2),\r\n            quizRaw > 0 ? quizRaw.toFixed(1) : '',\r\n            quizPoints.toFixed(2),\r\n            testRaw > 0 ? testRaw.toFixed(1) : '',\r\n            testPoints.toFixed(2),\r\n            finalExamRaw > 0 ? finalExamRaw.toFixed(1) : '',\r\n            finalExamPoints.toFixed(2),\r\n            totalPoints.toFixed(2),\r\n            finalMark.toFixed(2),\r\n            letterGrade,\r\n            academicStatus\r\n          ];\r\n          \r\n          csvLines.push(row.join(','));\r\n        });\r\n\r\n        // Add comprehensive statistics and analysis\r\n        csvLines.push(''); // Empty line\r\n        csvLines.push('CLASS PERFORMANCE STATISTICS');\r\n        \r\n        if (studentsWithMarks > 0) {\r\n          const classAverage = totalClassPoints / studentsWithMarks;\r\n          const validFinalMarks = this.students\r\n            .map(s => {\r\n              const marks = s.marks || {};\r\n              const total = ((parseFloat(marks.assignment) || 0) * 0.25) + \r\n                           ((parseFloat(marks.quiz) || 0) * 0.20) + \r\n                           ((parseFloat(marks.test) || 0) * 0.25) + \r\n                           ((parseFloat(marks.final_exam) || 0) * 0.30);\r\n              return total;\r\n            })\r\n            .filter(mark => mark > 0);\r\n          \r\n          if (validFinalMarks.length > 0) {\r\n            const highest = Math.max(...validFinalMarks);\r\n            const lowest = Math.min(...validFinalMarks);\r\n            const median = validFinalMarks.sort((a, b) => a - b)[Math.floor(validFinalMarks.length / 2)];\r\n            \r\n            csvLines.push(`Total Students,${this.students.length}`);\r\n            csvLines.push(`Students with Marks,${studentsWithMarks}`);\r\n            csvLines.push(`Class Average,${classAverage.toFixed(2)}`);\r\n            csvLines.push(`Highest Mark,${highest.toFixed(2)}`);\r\n            csvLines.push(`Lowest Mark,${lowest.toFixed(2)}`);\r\n            csvLines.push(`Median Mark,${median.toFixed(2)}`);\r\n          }\r\n          \r\n          // Grade distribution analysis\r\n          csvLines.push(''); \r\n          csvLines.push('GRADE DISTRIBUTION ANALYSIS');\r\n          csvLines.push('Letter Grade,Student Count,Percentage of Class,Performance Level');\r\n          \r\n          Object.entries(gradeDistribution).forEach(([grade, count]) => {\r\n            const percentage = this.students.length > 0 ? (count / this.students.length * 100).toFixed(1) : '0.0';\r\n            let performanceLevel = '';\r\n            \r\n            switch(grade) {\r\n              case 'A': performanceLevel = 'Excellent Performance'; break;\r\n              case 'B': performanceLevel = 'Good Performance'; break;\r\n              case 'C': performanceLevel = 'Satisfactory Performance'; break;\r\n              case 'D': performanceLevel = 'Minimum Pass'; break;\r\n              case 'F': performanceLevel = 'Needs Improvement'; break;\r\n            }\r\n            \r\n            csvLines.push(`${grade},${count},${percentage}%,${performanceLevel}`);\r\n          });\r\n          \r\n          // Component performance analysis\r\n          csvLines.push('');\r\n          csvLines.push('COMPONENT PERFORMANCE ANALYSIS');\r\n          csvLines.push('Assessment Component,Students Assessed,Raw Score Average,Points Average,Highest Score,Lowest Score,Performance Rating');\r\n          \r\n          Object.entries(componentStats).forEach(([component, stats]) => {\r\n            if (stats.count > 0) {\r\n              const displayName = component.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase());\r\n              const rawAverage = (stats.totalRaw / stats.count).toFixed(2);\r\n              const pointsAverage = (stats.totalPoints / stats.count).toFixed(2);\r\n              \r\n              let performanceRating = 'Needs Improvement';\r\n              const avgRaw = stats.totalRaw / stats.count;\r\n              if (avgRaw >= 80) performanceRating = 'Excellent';\r\n              else if (avgRaw >= 70) performanceRating = 'Good';\r\n              else if (avgRaw >= 60) performanceRating = 'Satisfactory';\r\n              else if (avgRaw >= 50) performanceRating = 'Fair';\r\n              \r\n              csvLines.push(`${displayName},${stats.count},${rawAverage},${pointsAverage},${stats.highest.toFixed(1)},${stats.lowest.toFixed(1)},${performanceRating}`);\r\n            }\r\n          });\r\n        }\r\n\r\n        // Add export metadata and technical information\r\n        csvLines.push('');\r\n        csvLines.push('EXPORT METADATA');\r\n        csvLines.push(`Export Format,CSV (Comma Separated Values)`);\r\n        csvLines.push(`Character Encoding,UTF-8`);\r\n        csvLines.push(`System Version,Course Mark Management System v1.0`);\r\n        csvLines.push(`Database Connection,Real-time MySQL Database`);\r\n        csvLines.push(`Export Timestamp,${new Date().toISOString()}`);\r\n        csvLines.push(`Unique Export ID,${this.course?.code || 'COURSE'}_${Date.now()}`);\r\n        csvLines.push(`Total Data Rows,${csvLines.length + 2}`);\r\n        csvLines.push(`File Size (estimated),${(csvLines.join('\\n').length * 1.1).toFixed(0)} bytes`);\r\n\r\n        // Create final CSV content\r\n        const csvContent = csvLines.join('\\n');\r\n        \r\n        // Enhanced logging\r\n        console.log('✅ Enhanced CSV content generated successfully');\r\n        console.log('📊 Export Statistics:');\r\n        console.log(`  - Total lines: ${csvLines.length}`);\r\n        console.log(`  - Content size: ${csvContent.length} characters`);\r\n        console.log(`  - Students processed: ${this.students.length}`);\r\n        console.log(`  - Students with marks: ${studentsWithMarks}`);\r\n        console.log(`  - File name: ${filename}`);\r\n        \r\n        // Create blob and download\r\n        const blob = new Blob([csvContent], { \r\n          type: 'text/csv;charset=utf-8;' \r\n        });\r\n        \r\n        console.log(`📁 Blob created: ${blob.size} bytes`);\r\n        \r\n        // Create download link and trigger download\r\n        const url = window.URL.createObjectURL(blob);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.download = filename;\r\n        link.style.display = 'none';\r\n        \r\n        document.body.appendChild(link);\r\n        console.log('⬇️ Triggering download...');\r\n        link.click();\r\n        document.body.removeChild(link);\r\n        \r\n        // Clean up URL object\r\n        setTimeout(() => {\r\n          window.URL.revokeObjectURL(url);\r\n        }, 100);\r\n        \r\n        console.log('✅ Enhanced CSV export completed successfully');\r\n        \r\n        // Show success message\r\n        this.$store.dispatch('showToast', {\r\n          message: `Enhanced marks export completed! Downloaded: ${filename}`,\r\n          type: 'success'\r\n        });\r\n        \r\n      } catch (error) {\r\n        console.error('❌ Enhanced CSV export error:', error);\r\n        this.$store.dispatch('showToast', {\r\n          message: 'Error during enhanced export: ' + error.message,\r\n          type: 'error'\r\n        });\r\n      } finally {\r\n        this.exportingCSV = false;\r\n      }\r\n    },\r\n\r\n    showMarkingGuide() {\r\n      const modal = new bootstrap.Modal(document.getElementById('markingGuideModal'));\r\n      modal.show();\r\n    },\r\n\r\n    viewStudentDetails(student) {\r\n      this.$router.push(`/lecturer/student/${student.id}`);\r\n    },\r\n\r\n    getStudentInitials(name) {\r\n      return name.split(' ').map(n => n.charAt(0)).join('').toUpperCase();\r\n    },\r\n\r\n    getGradeBadgeClass(grade) {\r\n      const gradeClasses = {\r\n        'A': 'bg-success',\r\n        'B': 'bg-info',\r\n        'C': 'bg-warning text-dark',\r\n        'D': 'bg-secondary',\r\n        'F': 'bg-danger'\r\n      };\r\n      return gradeClasses[grade] || 'bg-light text-dark';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.marks-management h1 {\r\n  color: #2c3e50;\r\n  font-weight: 700;\r\n}\r\n\r\n.avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  background: linear-gradient(45deg, #007bff, #0056b3);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.table input.form-control-sm {\r\n  width: 80px;\r\n  text-align: center;\r\n}\r\n\r\n.table th {\r\n  font-weight: 600;\r\n  border-top: none;\r\n}\r\n\r\n.table td {\r\n  vertical-align: middle;\r\n}\r\n\r\n.card {\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  border: none;\r\n  border-radius: 10px;\r\n}\r\n\r\n.breadcrumb-item a {\r\n  text-decoration: none;\r\n  color: #007bff;\r\n}\r\n\r\n.breadcrumb-item a:hover {\r\n  color: #0056b3;\r\n}\r\n\r\n.badge.fs-6 {\r\n  font-size: 0.9rem !important;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}