{"ast":null,"code":"import _regenerator from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from 'axios';\nimport { Modal } from 'bootstrap';\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'AdvisorFeedbackView',\n  data: function data() {\n    return {\n      feedbackList: [],\n      advisees: [],\n      isLoading: true,\n      selectedFeedback: null,\n      selectedAdviseeId: '',\n      selectedFeedbackType: ''\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters('auth', ['getUser'])), {}, {\n    filteredFeedback: function filteredFeedback() {\n      var _this = this;\n      var filtered = this.feedbackList;\n      if (this.selectedAdviseeId) {\n        filtered = filtered.filter(function (f) {\n          return f.student_id == _this.selectedAdviseeId;\n        });\n      }\n      if (this.selectedFeedbackType) {\n        filtered = filtered.filter(function (f) {\n          return f.feedback_type === _this.selectedFeedbackType;\n        });\n      }\n      return filtered;\n    },\n    commendationCount: function commendationCount() {\n      return this.filteredFeedback.filter(function (f) {\n        return f.feedback_type === 'commendation';\n      }).length;\n    },\n    improvementCount: function improvementCount() {\n      return this.filteredFeedback.filter(function (f) {\n        return f.feedback_type === 'improvement';\n      }).length;\n    },\n    concernCount: function concernCount() {\n      return this.filteredFeedback.filter(function (f) {\n        return f.feedback_type === 'concern';\n      }).length;\n    }\n  }),\n  mounted: function mounted() {\n    this.loadAdviseesFeedback();\n  },\n  methods: {\n    loadAdviseesFeedback: function loadAdviseesFeedback() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var _advisorUser, advisorUser, advisorId, adviseesResponse, feedbackResponse, _t, _t2;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              _this2.isLoading = true;\n              _context.p = 1;\n              advisorUser = _this2.getUser; // If user is undefined, try to restore from localStorage\n              if (!(!advisorUser && localStorage.getItem('token') && localStorage.getItem('user'))) {\n                _context.n = 6;\n                break;\n              }\n              _context.p = 2;\n              _context.n = 3;\n              return _this2.$store.dispatch('auth/checkAuth');\n            case 3:\n              advisorUser = _this2.getUser;\n              _context.n = 5;\n              break;\n            case 4:\n              _context.p = 4;\n              _t = _context.v;\n              console.error('Error in checkAuth:', _t);\n            case 5:\n              // If still undefined, try parsing directly from localStorage\n              if (!advisorUser) {\n                try {\n                  advisorUser = JSON.parse(localStorage.getItem('user'));\n                } catch (e) {\n                  console.error('Error parsing user from localStorage:', e);\n                }\n              }\n            case 6:\n              advisorId = (_advisorUser = advisorUser) === null || _advisorUser === void 0 ? void 0 : _advisorUser.id;\n              if (advisorId) {\n                _context.n = 7;\n                break;\n              }\n              _this2.$store.dispatch('showToast', {\n                message: 'Please login first',\n                type: 'warning'\n              });\n              return _context.a(2);\n            case 7:\n              console.log('Loading feedback for advisor ID:', advisorId);\n\n              // Load advisees first\n              _context.n = 8;\n              return axios.get(\"http://localhost:3000/advisor-dashboard-api.php?action=advisees\", {\n                headers: {\n                  'Authorization': \"Bearer \".concat(localStorage.getItem('token'))\n                }\n              });\n            case 8:\n              adviseesResponse = _context.v;\n              console.log('Advisees response:', adviseesResponse.data);\n              _this2.advisees = adviseesResponse.data.advisees || [];\n\n              // Load feedback for all advisees\n              _context.n = 9;\n              return axios.get(\"http://localhost:3000/feedback-api.php?action=advisor_feedback&advisor_id=\".concat(advisorId), {\n                headers: {\n                  'Authorization': \"Bearer \".concat(localStorage.getItem('token'))\n                }\n              });\n            case 9:\n              feedbackResponse = _context.v;\n              console.log('Feedback response:', feedbackResponse.data);\n              _this2.feedbackList = feedbackResponse.data.feedback || [];\n              _context.n = 11;\n              break;\n            case 10:\n              _context.p = 10;\n              _t2 = _context.v;\n              console.error('Error loading advisees feedback:', _t2);\n              _this2.$store.dispatch('showToast', {\n                message: 'Error loading advisees feedback',\n                type: 'error'\n              });\n            case 11:\n              _context.p = 11;\n              _this2.isLoading = false;\n              return _context.f(11);\n            case 12:\n              return _context.a(2);\n          }\n        }, _callee, null, [[2, 4], [1, 10, 11, 12]]);\n      }))();\n    },\n    filterFeedback: function filterFeedback() {\n      // Computed property will handle filtering\n    },\n    viewFeedbackDetails: function viewFeedbackDetails(feedback) {\n      this.selectedFeedback = feedback;\n      var modal = new Modal(document.getElementById('feedbackDetailsModal'));\n      modal.show();\n    },\n    getStudentInitials: function getStudentInitials(name) {\n      return name.split(' ').map(function (n) {\n        return n.charAt(0);\n      }).join('').toUpperCase();\n    },\n    getFeedbackTypeBadgeClass: function getFeedbackTypeBadgeClass(type) {\n      var classes = {\n        'general': 'bg-secondary',\n        'performance': 'bg-success',\n        'improvement': 'bg-warning text-dark',\n        'commendation': 'bg-info',\n        'concern': 'bg-danger'\n      };\n      return classes[type] || 'bg-secondary';\n    },\n    getPriorityBadgeClass: function getPriorityBadgeClass(priority) {\n      var classes = {\n        'low': 'bg-light text-dark',\n        'medium': 'bg-info',\n        'high': 'bg-warning text-dark',\n        'urgent': 'bg-danger'\n      };\n      return classes[priority] || 'bg-info';\n    },\n    formatFeedbackType: function formatFeedbackType(type) {\n      return type.charAt(0).toUpperCase() + type.slice(1);\n    },\n    formatDate: function formatDate(dateString) {\n      return new Date(dateString).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    },\n    truncateText: function truncateText(text, length) {\n      return text.length > length ? text.substring(0, length) + '...' : text;\n    }\n  }\n};","map":{"version":3,"names":["axios","Modal","mapGetters","name","data","feedbackList","advisees","isLoading","selectedFeedback","selectedAdviseeId","selectedFeedbackType","computed","_objectSpread","filteredFeedback","_this","filtered","filter","f","student_id","feedback_type","commendationCount","length","improvementCount","concernCount","mounted","loadAdviseesFeedback","methods","_this2","_asyncToGenerator","_regenerator","m","_callee","_advisorUser","advisorUser","advisorId","adviseesResponse","feedbackResponse","_t","_t2","w","_context","n","p","getUser","localStorage","getItem","$store","dispatch","v","console","error","JSON","parse","e","id","message","type","a","log","get","headers","concat","feedback","filterFeedback","viewFeedbackDetails","modal","document","getElementById","show","getStudentInitials","split","map","charAt","join","toUpperCase","getFeedbackTypeBadgeClass","classes","getPriorityBadgeClass","priority","formatFeedbackType","slice","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","truncateText","text","substring"],"sources":["C:\\Users\\ansmu\\Desktop\\Web\\NEW\\course-mark-management\\frontend\\src\\views\\advisor\\FeedbackView.vue"],"sourcesContent":["<template>\r\n  <div class=\"advisor-feedback-view\">\r\n    <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n      <h1><i class=\"fas fa-user-friends me-2\"></i>Advisee Feedback Overview</h1>\r\n      <div class=\"badge bg-info fs-6\" v-if=\"feedbackList.length > 0\">\r\n        {{ feedbackList.length }} Feedback Records\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Advisee Selection -->\r\n    <div class=\"card mb-4\">\r\n      <div class=\"card-body\">\r\n        <div class=\"row align-items-center\">\r\n          <div class=\"col-md-6\">\r\n            <label for=\"adviseeSelect\" class=\"form-label fw-bold\">Filter by Advisee:</label>\r\n            <select \r\n              id=\"adviseeSelect\" \r\n              class=\"form-select\" \r\n              v-model=\"selectedAdviseeId\" \r\n              @change=\"filterFeedback\"\r\n            >\r\n              <option value=\"\">-- All Advisees --</option>\r\n              <option v-for=\"advisee in advisees\" :key=\"advisee.id\" :value=\"advisee.id\">\r\n                {{ advisee.name }} ({{ advisee.matric_number }})\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <label for=\"feedbackTypeFilter\" class=\"form-label fw-bold\">Filter by Type:</label>\r\n            <select \r\n              id=\"feedbackTypeFilter\" \r\n              class=\"form-select\" \r\n              v-model=\"selectedFeedbackType\" \r\n              @change=\"filterFeedback\"\r\n            >\r\n              <option value=\"\">-- All Types --</option>\r\n              <option value=\"general\">General</option>\r\n              <option value=\"performance\">Performance</option>\r\n              <option value=\"improvement\">Improvement</option>\r\n              <option value=\"commendation\">Commendation</option>\r\n              <option value=\"concern\">Concern</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Loading State -->\r\n    <div v-if=\"isLoading\" class=\"text-center p-5\">\r\n      <div class=\"spinner-border text-primary\" role=\"status\">\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n      <p class=\"mt-3 text-muted\">Loading advisee feedback...</p>\r\n    </div>\r\n\r\n    <!-- No Feedback State -->\r\n    <div v-else-if=\"filteredFeedback.length === 0\" class=\"text-center p-5\">\r\n      <i class=\"fas fa-comment-slash fa-4x text-muted mb-3\"></i>\r\n      <h3 class=\"text-muted\">No Feedback Found</h3>\r\n      <p class=\"text-muted\">\r\n        {{ selectedAdviseeId ? 'This advisee has no feedback yet.' : 'Your advisees haven\\'t received any feedback yet.' }}\r\n      </p>\r\n    </div>\r\n\r\n    <!-- Feedback List -->\r\n    <div v-else>\r\n      <!-- Summary Cards -->\r\n      <div class=\"row mb-4\">\r\n        <div class=\"col-md-3\">\r\n          <div class=\"card text-center stat-card bg-primary text-white\">\r\n            <div class=\"card-body\">\r\n              <i class=\"fas fa-comments fa-2x mb-2\"></i>\r\n              <h4>{{ filteredFeedback.length }}</h4>\r\n              <p class=\"mb-0\">Total Feedback</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n          <div class=\"card text-center stat-card bg-success text-white\">\r\n            <div class=\"card-body\">\r\n              <i class=\"fas fa-thumbs-up fa-2x mb-2\"></i>\r\n              <h4>{{ commendationCount }}</h4>\r\n              <p class=\"mb-0\">Commendations</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n          <div class=\"card text-center stat-card bg-warning text-dark\">\r\n            <div class=\"card-body\">\r\n              <i class=\"fas fa-exclamation-triangle fa-2x mb-2\"></i>\r\n              <h4>{{ concernCount }}</h4>\r\n              <p class=\"mb-0\">Concerns</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n          <div class=\"card text-center stat-card bg-info text-white\">\r\n            <div class=\"card-body\">\r\n              <i class=\"fas fa-chart-line fa-2x mb-2\"></i>\r\n              <h4>{{ improvementCount }}</h4>\r\n              <p class=\"mb-0\">Improvements</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Feedback Table -->\r\n      <div class=\"card\">\r\n        <div class=\"card-header\">\r\n          <h5 class=\"mb-0\">\r\n            <i class=\"fas fa-list me-2\"></i>Advisee Feedback Details\r\n          </h5>\r\n        </div>\r\n        <div class=\"card-body p-0\">\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table table-hover mb-0\">\r\n              <thead class=\"table-light\">\r\n                <tr>\r\n                  <th>Student</th>\r\n                  <th>Course</th>\r\n                  <th>Lecturer</th>\r\n                  <th>Type</th>\r\n                  <th>Subject</th>\r\n                  <th>Priority</th>\r\n                  <th>Date</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"feedback in filteredFeedback\" :key=\"feedback.id\">\r\n                  <td>\r\n                    <div class=\"d-flex align-items-center\">\r\n                      <div class=\"avatar me-3\">\r\n                        {{ getStudentInitials(feedback.student_name) }}\r\n                      </div>\r\n                      <div>\r\n                        <strong>{{ feedback.student_name }}</strong>\r\n                        <br>\r\n                        <small class=\"text-muted\">{{ feedback.matric_number }}</small>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <strong>{{ feedback.course_code }}</strong>\r\n                    <br>\r\n                    <small class=\"text-muted\">{{ feedback.course_name }}</small>\r\n                  </td>\r\n                  <td>{{ feedback.lecturer_name }}</td>\r\n                  <td>\r\n                    <span class=\"badge\" :class=\"getFeedbackTypeBadgeClass(feedback.feedback_type)\">\r\n                      {{ formatFeedbackType(feedback.feedback_type) }}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <strong>{{ feedback.subject }}</strong>\r\n                    <br>\r\n                    <small class=\"text-muted\">{{ truncateText(feedback.feedback, 50) }}</small>\r\n                  </td>\r\n                  <td>\r\n                    <span class=\"badge\" :class=\"getPriorityBadgeClass(feedback.priority)\">\r\n                      {{ feedback.priority.toUpperCase() }}\r\n                    </span>\r\n                  </td>\r\n                  <td>{{ formatDate(feedback.created_at) }}</td>\r\n                  <td>\r\n                    <button \r\n                      class=\"btn btn-outline-info btn-sm\" \r\n                      @click=\"viewFeedbackDetails(feedback)\" \r\n                      title=\"View Details\"\r\n                    >\r\n                      <i class=\"fas fa-eye\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Feedback Details Modal -->\r\n    <div class=\"modal fade\" id=\"feedbackDetailsModal\" tabindex=\"-1\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">\r\n              <i class=\"fas fa-comment me-2\"></i>Feedback Details\r\n            </h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n          </div>\r\n          <div class=\"modal-body\" v-if=\"selectedFeedback\">\r\n            <div class=\"row mb-3\">\r\n              <div class=\"col-md-6\">\r\n                <strong>Student:</strong> {{ selectedFeedback.student_name }} ({{ selectedFeedback.matric_number }})\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n                <strong>Course:</strong> {{ selectedFeedback.course_code }} - {{ selectedFeedback.course_name }}\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"row mb-3\">\r\n              <div class=\"col-md-6\">\r\n                <strong>Lecturer:</strong> {{ selectedFeedback.lecturer_name }}\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n                <strong>Type:</strong> \r\n                <span class=\"badge ms-2\" :class=\"getFeedbackTypeBadgeClass(selectedFeedback.feedback_type)\">\r\n                  {{ formatFeedbackType(selectedFeedback.feedback_type) }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-3\">\r\n              <div class=\"col-md-6\">\r\n                <strong>Priority:</strong> \r\n                <span class=\"badge ms-2\" :class=\"getPriorityBadgeClass(selectedFeedback.priority)\">\r\n                  {{ selectedFeedback.priority.toUpperCase() }}\r\n                </span>\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n                <strong>Visibility:</strong>\r\n                <div class=\"mt-1\">\r\n                  <span class=\"badge bg-success me-1\" v-if=\"selectedFeedback.is_visible_to_student\">\r\n                    <i class=\"fas fa-eye me-1\"></i>Student\r\n                  </span>\r\n                  <span class=\"badge bg-info\" v-if=\"selectedFeedback.is_visible_to_advisor\">\r\n                    <i class=\"fas fa-eye me-1\"></i>Advisor\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"mb-3\">\r\n              <strong>Subject:</strong>\r\n              <p class=\"mt-2 p-3 bg-light rounded\">{{ selectedFeedback.subject }}</p>\r\n            </div>\r\n\r\n            <div class=\"mb-3\">\r\n              <strong>Feedback:</strong>\r\n              <div class=\"mt-2 p-3 border rounded feedback-content\">\r\n                {{ selectedFeedback.feedback }}\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col-md-6\">\r\n                <small class=\"text-muted\">\r\n                  <strong>Created:</strong> {{ formatDate(selectedFeedback.created_at) }}\r\n                </small>\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n                <small class=\"text-muted\">\r\n                  <strong>Last Updated:</strong> {{ formatDate(selectedFeedback.updated_at) }}\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { Modal } from 'bootstrap';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  name: 'AdvisorFeedbackView',\r\n  data() {\r\n    return {\r\n      feedbackList: [],\r\n      advisees: [],\r\n      isLoading: true,\r\n      selectedFeedback: null,\r\n      selectedAdviseeId: '',\r\n      selectedFeedbackType: ''\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('auth', ['getUser']),\r\n    filteredFeedback() {\r\n      let filtered = this.feedbackList;\r\n      \r\n      if (this.selectedAdviseeId) {\r\n        filtered = filtered.filter(f => f.student_id == this.selectedAdviseeId);\r\n      }\r\n      \r\n      if (this.selectedFeedbackType) {\r\n        filtered = filtered.filter(f => f.feedback_type === this.selectedFeedbackType);\r\n      }\r\n      \r\n      return filtered;\r\n    },\r\n    commendationCount() {\r\n      return this.filteredFeedback.filter(f => f.feedback_type === 'commendation').length;\r\n    },\r\n    improvementCount() {\r\n      return this.filteredFeedback.filter(f => f.feedback_type === 'improvement').length;\r\n    },\r\n    concernCount() {\r\n      return this.filteredFeedback.filter(f => f.feedback_type === 'concern').length;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadAdviseesFeedback();\r\n  },\r\n  methods: {\r\n    async loadAdviseesFeedback() {\r\n      this.isLoading = true;\r\n      try {\r\n        let advisorUser = this.getUser;\r\n        \r\n        // If user is undefined, try to restore from localStorage\r\n        if (!advisorUser && localStorage.getItem('token') && localStorage.getItem('user')) {\r\n          try {\r\n            await this.$store.dispatch('auth/checkAuth');\r\n            advisorUser = this.getUser;\r\n          } catch (e) {\r\n            console.error('Error in checkAuth:', e);\r\n          }\r\n          \r\n          // If still undefined, try parsing directly from localStorage\r\n          if (!advisorUser) {\r\n            try {\r\n              advisorUser = JSON.parse(localStorage.getItem('user'));\r\n            } catch (e) {\r\n              console.error('Error parsing user from localStorage:', e);\r\n            }\r\n          }\r\n        }\r\n        \r\n        const advisorId = advisorUser?.id;\r\n        if (!advisorId) {\r\n          this.$store.dispatch('showToast', {\r\n            message: 'Please login first',\r\n            type: 'warning'\r\n          });\r\n          return;\r\n        }\r\n\r\n        console.log('Loading feedback for advisor ID:', advisorId);\r\n\r\n        // Load advisees first\r\n        const adviseesResponse = await axios.get(`http://localhost:3000/advisor-dashboard-api.php?action=advisees`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n        console.log('Advisees response:', adviseesResponse.data);\r\n        this.advisees = adviseesResponse.data.advisees || [];\r\n\r\n        // Load feedback for all advisees\r\n        const feedbackResponse = await axios.get(`http://localhost:3000/feedback-api.php?action=advisor_feedback&advisor_id=${advisorId}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n        console.log('Feedback response:', feedbackResponse.data);\r\n        this.feedbackList = feedbackResponse.data.feedback || [];\r\n      } catch (error) {\r\n        console.error('Error loading advisees feedback:', error);\r\n        this.$store.dispatch('showToast', {\r\n          message: 'Error loading advisees feedback',\r\n          type: 'error'\r\n        });\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n\r\n    filterFeedback() {\r\n      // Computed property will handle filtering\r\n    },\r\n\r\n    viewFeedbackDetails(feedback) {\r\n      this.selectedFeedback = feedback;\r\n      const modal = new Modal(document.getElementById('feedbackDetailsModal'));\r\n      modal.show();\r\n    },\r\n\r\n    getStudentInitials(name) {\r\n      return name.split(' ').map(n => n.charAt(0)).join('').toUpperCase();\r\n    },\r\n\r\n    getFeedbackTypeBadgeClass(type) {\r\n      const classes = {\r\n        'general': 'bg-secondary',\r\n        'performance': 'bg-success',\r\n        'improvement': 'bg-warning text-dark',\r\n        'commendation': 'bg-info',\r\n        'concern': 'bg-danger'\r\n      };\r\n      return classes[type] || 'bg-secondary';\r\n    },\r\n\r\n    getPriorityBadgeClass(priority) {\r\n      const classes = {\r\n        'low': 'bg-light text-dark',\r\n        'medium': 'bg-info',\r\n        'high': 'bg-warning text-dark',\r\n        'urgent': 'bg-danger'\r\n      };\r\n      return classes[priority] || 'bg-info';\r\n    },\r\n\r\n    formatFeedbackType(type) {\r\n      return type.charAt(0).toUpperCase() + type.slice(1);\r\n    },\r\n\r\n    formatDate(dateString) {\r\n      return new Date(dateString).toLocaleDateString('en-US', {\r\n        year: 'numeric',\r\n        month: 'short',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    },\r\n\r\n    truncateText(text, length) {\r\n      return text.length > length ? text.substring(0, length) + '...' : text;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.advisor-feedback-view h1 {\r\n  color: #2c3e50;\r\n  font-weight: 700;\r\n}\r\n\r\n.stat-card {\r\n  transition: transform 0.2s ease;\r\n  border-radius: 10px;\r\n}\r\n\r\n.stat-card:hover {\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  background: linear-gradient(45deg, #007bff, #0056b3);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.card {\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  border: none;\r\n  border-radius: 10px;\r\n}\r\n\r\n.table th {\r\n  font-weight: 600;\r\n  border-top: none;\r\n}\r\n\r\n.table td {\r\n  vertical-align: middle;\r\n}\r\n\r\n.feedback-content {\r\n  background-color: #f8f9fa;\r\n  line-height: 1.6;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.badge {\r\n  font-size: 0.75rem;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}