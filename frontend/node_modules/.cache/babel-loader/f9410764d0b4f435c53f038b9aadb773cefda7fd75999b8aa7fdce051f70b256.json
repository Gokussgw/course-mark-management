{"ast":null,"code":"import _regenerator from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _slicedToArray from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _asyncToGenerator from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.timers.js\";\nimport { mapGetters } from \"vuex\";\nimport Chart from \"chart.js/auto\";\nimport StudentRanking from '@/components/rankings/StudentRanking.vue';\nimport NotificationPanel from '@/components/notifications/NotificationPanel.vue';\nexport default {\n  name: \"StudentDashboard\",\n  components: {\n    StudentRanking: StudentRanking,\n    NotificationPanel: NotificationPanel\n  },\n  data: function data() {\n    return {\n      courses: [],\n      assessments: [],\n      performanceChart: null,\n      performanceData: null,\n      isLoading: true\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters(\"auth\", [\"getUser\"])), {}, {\n    upcomingAssessments: function upcomingAssessments() {\n      var today = new Date();\n      return this.assessments.filter(function (a) {\n        return new Date(a.date) >= today;\n      }).sort(function (a, b) {\n        return new Date(a.date) - new Date(b.date);\n      }).slice(0, 5);\n    }\n  }),\n  watch: {\n    isLoading: function isLoading(newVal, oldVal) {\n      var _this = this;\n      // When loading changes from true to false, initialize chart\n      if (oldVal && !newVal) {\n        this.$nextTick(function () {\n          setTimeout(function () {\n            _this.initChart();\n          }, 300);\n        });\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.loadData();\n  },\n  beforeUnmount: function beforeUnmount() {\n    // Clean up chart to prevent memory leaks\n    if (this.performanceChart) {\n      this.performanceChart.destroy();\n      this.performanceChart = null;\n    }\n  },\n  methods: {\n    loadData: function loadData() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var studentId, _yield$Promise$all, _yield$Promise$all2, coursesResponse, assessmentsResponse, performanceResponse, coursesData, assessmentsData, performanceData, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              _this2.isLoading = true;\n              _context.p = 1;\n              studentId = _this2.getUser.id; // Fetch all dashboard data in parallel\n              _context.n = 2;\n              return Promise.all([fetch(\"http://localhost:8000/marks-api.php?action=student_dashboard_courses&student_id=\".concat(studentId), {\n                credentials: 'include'\n              }), fetch(\"http://localhost:8000/marks-api.php?action=student_dashboard_assessments&student_id=\".concat(studentId), {\n                credentials: 'include'\n              }), fetch(\"http://localhost:8000/marks-api.php?action=student_dashboard_performance&student_id=\".concat(studentId), {\n                credentials: 'include'\n              })]);\n            case 2:\n              _yield$Promise$all = _context.v;\n              _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 3);\n              coursesResponse = _yield$Promise$all2[0];\n              assessmentsResponse = _yield$Promise$all2[1];\n              performanceResponse = _yield$Promise$all2[2];\n              _context.n = 3;\n              return coursesResponse.json();\n            case 3:\n              coursesData = _context.v;\n              _context.n = 4;\n              return assessmentsResponse.json();\n            case 4:\n              assessmentsData = _context.v;\n              _context.n = 5;\n              return performanceResponse.json();\n            case 5:\n              performanceData = _context.v;\n              // Update component data\n              _this2.courses = coursesData.courses || [];\n              _this2.assessments = assessmentsData.assessments || [];\n              _this2.performanceData = performanceData.performance || null;\n              _context.n = 7;\n              break;\n            case 6:\n              _context.p = 6;\n              _t = _context.v;\n              console.error(\"Error loading dashboard data:\", _t);\n              // Fallback to empty data on error\n              _this2.courses = [];\n              _this2.assessments = [];\n              _this2.performanceData = null;\n            case 7:\n              _context.p = 7;\n              _this2.isLoading = false;\n              return _context.f(7);\n            case 8:\n              return _context.a(2);\n          }\n        }, _callee, null, [[1, 6, 7, 8]]);\n      }))();\n    },\n    getCourseNameById: function getCourseNameById(courseId) {\n      var course = this.courses.find(function (c) {\n        return c.id === courseId;\n      });\n      return course ? \"\".concat(course.code, \" - \").concat(course.name) : \"Unknown Course\";\n    },\n    getCourseProgressBarClass: function getCourseProgressBarClass(progress) {\n      if (progress >= 80) return \"bg-success\";\n      if (progress >= 60) return \"bg-info\";\n      if (progress >= 40) return \"bg-warning\";\n      return \"bg-danger\";\n    },\n    getAssessmentTypeBadgeClass: function getAssessmentTypeBadgeClass(type) {\n      switch (type) {\n        case \"quiz\":\n          return \"bg-info\";\n        case \"assignment\":\n          return \"bg-primary\";\n        case \"midterm\":\n          return \"bg-warning\";\n        case \"final_exam\":\n          return \"bg-danger\";\n        default:\n          return \"bg-secondary\";\n      }\n    },\n    formatDate: function formatDate(dateString) {\n      if (!dateString) return \"Not scheduled\";\n      var date = new Date(dateString);\n      return date.toLocaleDateString(\"en-GB\", {\n        day: \"numeric\",\n        month: \"short\",\n        year: \"numeric\"\n      });\n    },\n    initChart: function initChart() {\n      try {\n        var ctx = document.getElementById(\"performanceChart\");\n\n        // Check if canvas element exists\n        if (!ctx) {\n          console.warn(\"Performance chart canvas not found, skipping chart initialization\");\n          return;\n        }\n\n        // Destroy existing chart to prevent conflicts\n        if (this.performanceChart) {\n          this.performanceChart.destroy();\n          this.performanceChart = null;\n        }\n\n        // Sample data for the chart\n        this.performanceChart = new Chart(ctx, {\n          type: \"line\",\n          data: {\n            labels: [\"Quiz 1\", \"Assignment 1\", \"Quiz 2\", \"Midterm\", \"Assignment 2\", \"Quiz 3\"],\n            datasets: [{\n              label: \"CS101\",\n              data: [75, 82, 80, 85, 90, 88],\n              borderColor: \"rgba(52, 152, 219, 1)\",\n              backgroundColor: \"rgba(52, 152, 219, 0.1)\",\n              tension: 0.4\n            }, {\n              label: \"CS202\",\n              data: [65, 70, 75, 78, 80, 82],\n              borderColor: \"rgba(46, 204, 113, 1)\",\n              backgroundColor: \"rgba(46, 204, 113, 0.1)\",\n              tension: 0.4\n            }, {\n              label: \"MATH201\",\n              data: [80, 85, 82, 90, 88, 92],\n              borderColor: \"rgba(231, 76, 60, 1)\",\n              backgroundColor: \"rgba(231, 76, 60, 0.1)\",\n              tension: 0.4\n            }]\n          },\n          options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            plugins: {\n              legend: {\n                position: \"top\"\n              },\n              tooltip: {\n                mode: \"index\",\n                intersect: false\n              }\n            },\n            scales: {\n              y: {\n                min: 0,\n                max: 100,\n                ticks: {\n                  callback: function callback(value) {\n                    return value + \"%\";\n                  }\n                }\n              }\n            }\n          }\n        });\n      } catch (error) {\n        console.error(\"Error initializing performance chart:\", error);\n      }\n    },\n    logout: function logout() {\n      if (confirm(\"Are you sure you want to logout?\")) {\n        this.$store.dispatch(\"auth/logout\");\n        this.$router.push(\"/login\");\n      }\n    },\n    handleNotificationClick: function handleNotificationClick(notification) {\n      // Handle different notification types\n      switch (notification.type) {\n        case 'mark':\n          // Navigate to course marks if related_id is a course_id\n          if (notification.related_id) {\n            this.$router.push(\"/student/course/\".concat(notification.related_id));\n          }\n          break;\n        case 'course':\n          // Navigate to course details\n          if (notification.related_id) {\n            this.$router.push(\"/student/course/\".concat(notification.related_id));\n          }\n          break;\n        default:\n          // Show notification content as a toast for other types\n          this.$store.dispatch('showToast', {\n            message: notification.content,\n            type: 'info',\n            timeout: 8000\n          });\n      }\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","Chart","StudentRanking","NotificationPanel","name","components","data","courses","assessments","performanceChart","performanceData","isLoading","computed","_objectSpread","upcomingAssessments","today","Date","filter","a","date","sort","b","slice","watch","newVal","oldVal","_this","$nextTick","setTimeout","initChart","mounted","loadData","beforeUnmount","destroy","methods","_this2","_asyncToGenerator","_regenerator","m","_callee","studentId","_yield$Promise$all","_yield$Promise$all2","coursesResponse","assessmentsResponse","performanceResponse","coursesData","assessmentsData","_t","w","_context","n","p","getUser","id","Promise","all","fetch","concat","credentials","v","_slicedToArray","json","performance","console","error","f","getCourseNameById","courseId","course","find","c","code","getCourseProgressBarClass","progress","getAssessmentTypeBadgeClass","type","formatDate","dateString","toLocaleDateString","day","month","year","ctx","document","getElementById","warn","labels","datasets","label","borderColor","backgroundColor","tension","options","responsive","maintainAspectRatio","plugins","legend","position","tooltip","mode","intersect","scales","y","min","max","ticks","callback","value","logout","confirm","$store","dispatch","$router","push","handleNotificationClick","notification","related_id","message","content","timeout"],"sources":["C:\\Users\\ansmu\\Desktop\\Web\\NEW\\course-mark-management\\frontend\\src\\views\\student\\Dashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard\">\r\n    <!-- Dashboard Header -->\r\n    <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n      <div>\r\n        <h1 class=\"mb-1\">Student Dashboard</h1>\r\n        <p class=\"text-muted mb-0\">Welcome back, {{ getUser.name }}</p>\r\n      </div>\r\n      <div class=\"d-flex align-it      // When loading changes from true to false, initialize chart\r\n      if (oldVal && !newVal) {\r\n        this.$nextTick(() => {\r\n          setTimeout(() => {\r\n            this.initChart();\r\n          }, 100); // Small delay to ensure DOM is fully rendered\r\n        });nter gap-3\">\r\n        <router-link\r\n          to=\"/student/feedback\"\r\n          class=\"btn btn-info\"\r\n          title=\"My Feedback\"\r\n        >\r\n          <i class=\"fas fa-comments me-2\"></i>My Feedback\r\n        </router-link>\r\n        <div class=\"user-info text-end\">\r\n          <small class=\"text-muted d-block\">{{ getUser.email }}</small>\r\n          <small class=\"badge bg-success\">{{ getUser.role }}</small>\r\n        </div>\r\n        <button class=\"btn btn-outline-danger\" @click=\"logout\" title=\"Logout\">\r\n          <i class=\"fas fa-sign-out-alt me-2\"></i>Logout\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <!-- My Academic Ranking -->\r\n      <div class=\"col-md-12 mb-4\">\r\n        <student-ranking \r\n          :show-individual-ranking=\"true\"\r\n          :show-class-rankings=\"true\"\r\n          :is-own-ranking=\"true\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Notifications Row -->\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 mb-4\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <NotificationPanel \r\n              :user-id=\"getUser.id\"\r\n              @notification-clicked=\"handleNotificationClick\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-7 mb-4\">\r\n        <div class=\"card h-100\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">My Courses</h5>\r\n            <p class=\"card-text text-muted mb-4\">\r\n              Your current courses and progress\r\n            </p>\r\n\r\n            <div v-if=\"isLoading\" class=\"text-center py-4\">\r\n              <div class=\"spinner-border text-primary\" role=\"status\">\r\n                <span class=\"visually-hidden\">Loading...</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div v-else-if=\"courses.length === 0\" class=\"text-center py-4\">\r\n              <p>You are not enrolled in any courses yet.</p>\r\n              <i class=\"fas fa-book-open fa-3x text-muted mb-3\"></i>\r\n            </div>\r\n\r\n            <div v-else>\r\n              <div\r\n                v-for=\"course in courses\"\r\n                :key=\"course.id\"\r\n                class=\"course-card mb-3\"\r\n              >\r\n                <div class=\"d-flex justify-content-between align-items-start\">\r\n                  <div>\r\n                    <h6>\r\n                      {{ course.code }} - {{ course.name }}\r\n                      <span class=\"badge bg-primary ms-2\">{{\r\n                        course.semester\r\n                      }}</span>\r\n                    </h6>\r\n                    <p class=\"text-muted\">\r\n                      Lecturer: {{ course.lecturer_name || \"Not assigned\" }}\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div class=\"text-end\">\r\n                    <router-link\r\n                      :to=\"`/student/course/${course.id}`\"\r\n                      class=\"btn btn-sm btn-outline-primary me-1\"\r\n                    >\r\n                      <i class=\"fas fa-chart-bar me-1\"></i> View Marks\r\n                    </router-link>\r\n                    <router-link\r\n                      :to=\"`/student/breakdown/${course.id}`\"\r\n                      class=\"btn btn-sm btn-outline-warning me-1\"\r\n                    >\r\n                      <i class=\"fas fa-chart-pie me-1\"></i> Breakdown\r\n                    </router-link>\r\n                    <router-link\r\n                      :to=\"`/student/simulation/${course.id}`\"\r\n                      class=\"btn btn-sm btn-outline-info me-1\"\r\n                    >\r\n                      <i class=\"fas fa-calculator me-1\"></i> Simulate\r\n                    </router-link>\r\n                    <router-link\r\n                      to=\"/student/comparison\"\r\n                      class=\"btn btn-sm btn-outline-success\"\r\n                    >\r\n                      <i class=\"fas fa-users me-1\"></i> Compare\r\n                    </router-link>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"progress mt-2\" style=\"height: 10px\">\r\n                  <div\r\n                    class=\"progress-bar\"\r\n                    :class=\"getCourseProgressBarClass(course.progress)\"\r\n                    role=\"progressbar\"\r\n                    :style=\"`width: ${course.progress}%`\"\r\n                    :aria-valuenow=\"course.progress\"\r\n                    aria-valuemin=\"0\"\r\n                    aria-valuemax=\"100\"\r\n                  >\r\n                    {{ course.progress }}%\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"d-flex justify-content-between mt-1\">\r\n                  <small class=\"text-muted\"\r\n                    >Current Average: {{ course.average }}%</small\r\n                  >\r\n                  <small class=\"text-muted\"\r\n                    >Rank: {{ course.rank || \"N/A\" }}</small\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-md-5 mb-4\">\r\n        <div class=\"card h-100\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Upcoming Assessments</h5>\r\n            <p class=\"card-text text-muted mb-4\">\r\n              Your next scheduled assessments\r\n            </p>\r\n\r\n            <div v-if=\"isLoading\" class=\"text-center py-4\">\r\n              <div class=\"spinner-border text-primary\" role=\"status\">\r\n                <span class=\"visually-hidden\">Loading...</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              v-else-if=\"upcomingAssessments.length === 0\"\r\n              class=\"text-center py-4\"\r\n            >\r\n              <p>No upcoming assessments.</p>\r\n              <i class=\"fas fa-calendar-check fa-3x text-muted mb-3\"></i>\r\n            </div>\r\n\r\n            <ul v-else class=\"list-group list-group-flush\">\r\n              <li\r\n                v-for=\"assessment in upcomingAssessments\"\r\n                :key=\"assessment.id\"\r\n                class=\"list-group-item\"\r\n              >\r\n                <div class=\"d-flex w-100 justify-content-between\">\r\n                  <h6 class=\"mb-1\">{{ assessment.name }}</h6>\r\n                  <span\r\n                    class=\"badge\"\r\n                    :class=\"getAssessmentTypeBadgeClass(assessment.type)\"\r\n                  >\r\n                    {{ assessment.type }}\r\n                  </span>\r\n                </div>\r\n                <p class=\"mb-1\">\r\n                  {{ getCourseNameById(assessment.course_id) }}\r\n                </p>\r\n                <div class=\"d-flex w-100 justify-content-between\">\r\n                  <small class=\"text-muted\">\r\n                    <i class=\"fas fa-weight me-1\"></i>\r\n                    {{ assessment.weightage }}% of total\r\n                  </small>\r\n                  <small class=\"text-muted\">\r\n                    <i class=\"far fa-calendar-alt me-1\"></i>\r\n                    {{ formatDate(assessment.date) }}\r\n                  </small>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 mb-4\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Performance Overview</h5>\r\n            <p class=\"card-text text-muted mb-4\">\r\n              Your academic performance across all courses\r\n            </p>\r\n\r\n            <div v-if=\"isLoading\" class=\"text-center py-4\">\r\n              <div class=\"spinner-border text-primary\" role=\"status\">\r\n                <span class=\"visually-hidden\">Loading...</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div v-else class=\"chart-container\">\r\n              <!-- Placeholder for Chart.js integration -->\r\n              <canvas id=\"performanceChart\" width=\"400\" height=\"200\"></canvas>\r\n              <p class=\"text-center text-muted mt-3\">\r\n                <i class=\"fas fa-info-circle me-1\"></i>\r\n                Chart shows your performance trend over time across all courses\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport Chart from \"chart.js/auto\";\r\nimport StudentRanking from '@/components/rankings/StudentRanking.vue';\r\nimport NotificationPanel from '@/components/notifications/NotificationPanel.vue';\r\n\r\nexport default {\r\n  name: \"StudentDashboard\",\r\n  components: {\r\n    StudentRanking,\r\n    NotificationPanel\r\n  },\r\n  data() {\r\n    return {\r\n      courses: [],\r\n      assessments: [],\r\n      performanceChart: null,\r\n      performanceData: null,\r\n      isLoading: true\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"auth\", [\"getUser\"]),\r\n\r\n    upcomingAssessments() {\r\n      const today = new Date();\r\n\r\n      return this.assessments\r\n        .filter((a) => new Date(a.date) >= today)\r\n        .sort((a, b) => new Date(a.date) - new Date(b.date))\r\n        .slice(0, 5);\r\n    },\r\n  },\r\n  watch: {\r\n    isLoading(newVal, oldVal) {\r\n      // When loading changes from true to false, initialize chart\r\n      if (oldVal && !newVal) {\r\n        this.$nextTick(() => {\r\n          setTimeout(() => {\r\n            this.initChart();\r\n          }, 300);\r\n        });\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadData();\r\n  },\r\n  beforeUnmount() {\r\n    // Clean up chart to prevent memory leaks\r\n    if (this.performanceChart) {\r\n      this.performanceChart.destroy();\r\n      this.performanceChart = null;\r\n    }\r\n  },\r\n  methods: {\r\n    async loadData() {\r\n      this.isLoading = true;\r\n      try {\r\n        const studentId = this.getUser.id;\r\n        \r\n        // Fetch all dashboard data in parallel\r\n        const [coursesResponse, assessmentsResponse, performanceResponse] = await Promise.all([\r\n          fetch(`http://localhost:8000/marks-api.php?action=student_dashboard_courses&student_id=${studentId}`, {\r\n            credentials: 'include'\r\n          }),\r\n          fetch(`http://localhost:8000/marks-api.php?action=student_dashboard_assessments&student_id=${studentId}`, {\r\n            credentials: 'include'\r\n          }),\r\n          fetch(`http://localhost:8000/marks-api.php?action=student_dashboard_performance&student_id=${studentId}`, {\r\n            credentials: 'include'\r\n          })\r\n        ]);\r\n\r\n        // Parse responses\r\n        const coursesData = await coursesResponse.json();\r\n        const assessmentsData = await assessmentsResponse.json();\r\n        const performanceData = await performanceResponse.json();\r\n\r\n        // Update component data\r\n        this.courses = coursesData.courses || [];\r\n        this.assessments = assessmentsData.assessments || [];\r\n        this.performanceData = performanceData.performance || null;\r\n\r\n      } catch (error) {\r\n        console.error(\"Error loading dashboard data:\", error);\r\n        // Fallback to empty data on error\r\n        this.courses = [];\r\n        this.assessments = [];\r\n        this.performanceData = null;\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n\r\n    getCourseNameById(courseId) {\r\n      const course = this.courses.find((c) => c.id === courseId);\r\n      return course ? `${course.code} - ${course.name}` : \"Unknown Course\";\r\n    },\r\n\r\n    getCourseProgressBarClass(progress) {\r\n      if (progress >= 80) return \"bg-success\";\r\n      if (progress >= 60) return \"bg-info\";\r\n      if (progress >= 40) return \"bg-warning\";\r\n      return \"bg-danger\";\r\n    },\r\n\r\n    getAssessmentTypeBadgeClass(type) {\r\n      switch (type) {\r\n        case \"quiz\":\r\n          return \"bg-info\";\r\n        case \"assignment\":\r\n          return \"bg-primary\";\r\n        case \"midterm\":\r\n          return \"bg-warning\";\r\n        case \"final_exam\":\r\n          return \"bg-danger\";\r\n        default:\r\n          return \"bg-secondary\";\r\n      }\r\n    },\r\n\r\n    formatDate(dateString) {\r\n      if (!dateString) return \"Not scheduled\";\r\n\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString(\"en-GB\", {\r\n        day: \"numeric\",\r\n        month: \"short\",\r\n        year: \"numeric\",\r\n      });\r\n    },\r\n\r\n    initChart() {\r\n      try {\r\n        const ctx = document.getElementById(\"performanceChart\");\r\n        \r\n        // Check if canvas element exists\r\n        if (!ctx) {\r\n          console.warn(\"Performance chart canvas not found, skipping chart initialization\");\r\n          return;\r\n        }\r\n\r\n        // Destroy existing chart to prevent conflicts\r\n        if (this.performanceChart) {\r\n          this.performanceChart.destroy();\r\n          this.performanceChart = null;\r\n        }\r\n\r\n        // Sample data for the chart\r\n        this.performanceChart = new Chart(ctx, {\r\n        type: \"line\",\r\n        data: {\r\n          labels: [\r\n            \"Quiz 1\",\r\n            \"Assignment 1\",\r\n            \"Quiz 2\",\r\n            \"Midterm\",\r\n            \"Assignment 2\",\r\n            \"Quiz 3\",\r\n          ],\r\n          datasets: [\r\n            {\r\n              label: \"CS101\",\r\n              data: [75, 82, 80, 85, 90, 88],\r\n              borderColor: \"rgba(52, 152, 219, 1)\",\r\n              backgroundColor: \"rgba(52, 152, 219, 0.1)\",\r\n              tension: 0.4,\r\n            },\r\n            {\r\n              label: \"CS202\",\r\n              data: [65, 70, 75, 78, 80, 82],\r\n              borderColor: \"rgba(46, 204, 113, 1)\",\r\n              backgroundColor: \"rgba(46, 204, 113, 0.1)\",\r\n              tension: 0.4,\r\n            },\r\n            {\r\n              label: \"MATH201\",\r\n              data: [80, 85, 82, 90, 88, 92],\r\n              borderColor: \"rgba(231, 76, 60, 1)\",\r\n              backgroundColor: \"rgba(231, 76, 60, 0.1)\",\r\n              tension: 0.4,\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          maintainAspectRatio: false,\r\n          plugins: {\r\n            legend: {\r\n              position: \"top\",\r\n            },\r\n            tooltip: {\r\n              mode: \"index\",\r\n              intersect: false,\r\n            },\r\n          },\r\n          scales: {\r\n            y: {\r\n              min: 0,\r\n              max: 100,\r\n              ticks: {\r\n                callback: function (value) {\r\n                  return value + \"%\";\r\n                },\r\n              },\r\n            },\r\n          },\r\n        },\r\n      });\r\n      } catch (error) {\r\n        console.error(\"Error initializing performance chart:\", error);\r\n      }\r\n    },\r\n\r\n    logout() {\r\n      if (confirm(\"Are you sure you want to logout?\")) {\r\n        this.$store.dispatch(\"auth/logout\");\r\n        this.$router.push(\"/login\");\r\n      }\r\n    },\r\n\r\n    handleNotificationClick(notification) {\r\n      // Handle different notification types\r\n      switch (notification.type) {\r\n        case 'mark':\r\n          // Navigate to course marks if related_id is a course_id\r\n          if (notification.related_id) {\r\n            this.$router.push(`/student/course/${notification.related_id}`);\r\n          }\r\n          break;\r\n        case 'course':\r\n          // Navigate to course details\r\n          if (notification.related_id) {\r\n            this.$router.push(`/student/course/${notification.related_id}`);\r\n          }\r\n          break;\r\n        default:\r\n          // Show notification content as a toast for other types\r\n          this.$store.dispatch('showToast', {\r\n            message: notification.content,\r\n            type: 'info',\r\n            timeout: 8000\r\n          });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard h1 {\r\n  color: #2c3e50;\r\n  font-weight: 700;\r\n}\r\n\r\n.card {\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  border: none;\r\n  border-radius: 10px;\r\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.card-title {\r\n  color: #2c3e50;\r\n  font-weight: 600;\r\n}\r\n\r\n.course-card {\r\n  padding: 15px;\r\n  border-radius: 8px;\r\n  background-color: #f8f9fa;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.course-card:hover {\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.progress {\r\n  border-radius: 5px;\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.progress-bar {\r\n  border-radius: 5px;\r\n  font-size: 0.6rem;\r\n  line-height: 10px;\r\n  font-weight: bold;\r\n}\r\n\r\n.list-group-item {\r\n  padding: 15px;\r\n  border-left: 0;\r\n  border-right: 0;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\n.list-group-item:first-child {\r\n  border-top: 0;\r\n}\r\n\r\n.list-group-item:last-child {\r\n  border-bottom: 0;\r\n}\r\n\r\n.badge {\r\n  padding: 6px 10px;\r\n  font-weight: 500;\r\n  text-transform: capitalize;\r\n}\r\n\r\n.chart-container {\r\n  position: relative;\r\n  height: 300px;\r\n  width: 100%;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}