{"ast":null,"code":"import _toConsumableArray from \"C:/Users/ansmu/Desktop/Web/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport { createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, normalizeClass as _normalizeClass, createStaticVNode as _createStaticVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"marks-management\"\n};\nvar _hoisted_2 = {\n  \"class\": \"d-flex justify-content-between align-items-center mb-4\"\n};\nvar _hoisted_3 = {\n  \"aria-label\": \"breadcrumb\"\n};\nvar _hoisted_4 = {\n  \"class\": \"breadcrumb\"\n};\nvar _hoisted_5 = {\n  \"class\": \"breadcrumb-item\"\n};\nvar _hoisted_6 = {\n  \"class\": \"breadcrumb-item\"\n};\nvar _hoisted_7 = {\n  \"class\": \"text-muted\"\n};\nvar _hoisted_8 = {\n  \"class\": \"btn-group\"\n};\nvar _hoisted_9 = [\"disabled\"];\nvar _hoisted_10 = {\n  \"class\": \"btn-group\",\n  role: \"group\"\n};\nvar _hoisted_11 = {\n  \"class\": \"dropdown-menu\"\n};\nvar _hoisted_12 = {\n  \"class\": \"card mb-4\"\n};\nvar _hoisted_13 = {\n  \"class\": \"card-body\"\n};\nvar _hoisted_14 = {\n  \"class\": \"row\"\n};\nvar _hoisted_15 = {\n  \"class\": \"col-md-6\"\n};\nvar _hoisted_16 = [\"value\"];\nvar _hoisted_17 = {\n  key: 0,\n  \"class\": \"text-center my-5\"\n};\nvar _hoisted_18 = {\n  key: 1,\n  \"class\": \"text-center my-5\"\n};\nvar _hoisted_19 = {\n  key: 2,\n  \"class\": \"text-center my-5\"\n};\nvar _hoisted_20 = {\n  \"class\": \"card\"\n};\nvar _hoisted_21 = {\n  \"class\": \"card-header bg-light\"\n};\nvar _hoisted_22 = {\n  \"class\": \"d-flex justify-content-between align-items-center\"\n};\nvar _hoisted_23 = {\n  \"class\": \"d-flex gap-2\"\n};\nvar _hoisted_24 = {\n  \"class\": \"card-body p-0\"\n};\nvar _hoisted_25 = {\n  \"class\": \"table-responsive\"\n};\nvar _hoisted_26 = {\n  \"class\": \"table table-hover mb-0\"\n};\nvar _hoisted_27 = {\n  \"class\": \"d-flex align-items-center\"\n};\nvar _hoisted_28 = {\n  \"class\": \"avatar avatar-sm me-3\"\n};\nvar _hoisted_29 = {\n  \"class\": \"text-muted\"\n};\nvar _hoisted_30 = [\"onUpdate:modelValue\", \"onInput\"];\nvar _hoisted_31 = [\"onUpdate:modelValue\", \"onInput\"];\nvar _hoisted_32 = [\"onUpdate:modelValue\", \"onInput\"];\nvar _hoisted_33 = [\"onUpdate:modelValue\", \"onInput\"];\nvar _hoisted_34 = {\n  \"class\": \"badge bg-success fs-6\"\n};\nvar _hoisted_35 = {\n  \"class\": \"btn-group btn-group-sm\"\n};\nvar _hoisted_36 = [\"onClick\"];\nvar _hoisted_37 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _$data$course2, _$data$course3, _$data$course4;\n  var _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", null, [_createElementVNode(\"nav\", _hoisted_3, [_createElementVNode(\"ol\", _hoisted_4, [_createElementVNode(\"li\", _hoisted_5, [_createVNode(_component_router_link, {\n    to: \"/lecturer/dashboard\"\n  }, {\n    \"default\": _withCtx(function () {\n      return _cache[7] || (_cache[7] = [_createTextVNode(\"Dashboard\")]);\n    }),\n    _: 1 /* STABLE */,\n    __: [7]\n  })]), _createElementVNode(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    to: \"/lecturer/course/\".concat($data.courseId)\n  }, {\n    \"default\": _withCtx(function () {\n      var _$data$course;\n      return [_createTextVNode(_toDisplayString((_$data$course = $data.course) === null || _$data$course === void 0 ? void 0 : _$data$course.code), 1 /* TEXT */)];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])]), _cache[8] || (_cache[8] = _createElementVNode(\"li\", {\n    \"class\": \"breadcrumb-item active\",\n    \"aria-current\": \"page\"\n  }, \"Marks Management\", -1 /* CACHED */))])]), _cache[9] || (_cache[9] = _createElementVNode(\"h1\", {\n    \"class\": \"mb-2\"\n  }, \"Marks Management\", -1 /* CACHED */)), _createElementVNode(\"p\", _hoisted_7, _toDisplayString((_$data$course2 = $data.course) === null || _$data$course2 === void 0 ? void 0 : _$data$course2.code) + \" - \" + _toDisplayString((_$data$course3 = $data.course) === null || _$data$course3 === void 0 ? void 0 : _$data$course3.name) + \" | \" + _toDisplayString((_$data$course4 = $data.course) === null || _$data$course4 === void 0 ? void 0 : _$data$course4.semester), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"button\", {\n    \"class\": \"btn btn-success\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.saveAllMarks && $options.saveAllMarks.apply($options, arguments);\n    }),\n    disabled: $data.isLoading\n  }, _cache[10] || (_cache[10] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-save me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"Save All Changes \")]), 8 /* PROPS */, _hoisted_9), _createElementVNode(\"div\", _hoisted_10, [_cache[14] || (_cache[14] = _createElementVNode(\"button\", {\n    type: \"button\",\n    \"class\": \"btn btn-outline-primary dropdown-toggle\",\n    \"data-bs-toggle\": \"dropdown\",\n    \"aria-expanded\": \"false\"\n  }, [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-file-export me-2\"\n  }), _createTextVNode(\"Export Marks \")], -1 /* CACHED */)), _createElementVNode(\"ul\", _hoisted_11, [_createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    \"class\": \"dropdown-item\",\n    href: \"#\",\n    onClick: _cache[1] || (_cache[1] = _withModifiers(function () {\n      return $options.exportMarks && $options.exportMarks.apply($options, arguments);\n    }, [\"prevent\"])),\n    title: \"Quick client-side export with basic student marks\"\n  }, _cache[11] || (_cache[11] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-download me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"Quick Export (Client-side) \"), _createElementVNode(\"br\", null, null, -1 /* CACHED */), _createElementVNode(\"small\", {\n    \"class\": \"text-muted\"\n  }, \"Basic marks data, processed in browser\", -1 /* CACHED */)]))]), _cache[13] || (_cache[13] = _createElementVNode(\"li\", null, [_createElementVNode(\"hr\", {\n    \"class\": \"dropdown-divider\"\n  })], -1 /* CACHED */)), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    \"class\": \"dropdown-item\",\n    href: \"#\",\n    onClick: _cache[2] || (_cache[2] = _withModifiers(function () {\n      return $options.exportMarksServer && $options.exportMarksServer.apply($options, arguments);\n    }, [\"prevent\"])),\n    title: \"Comprehensive server-side export with detailed statistics\"\n  }, _cache[12] || (_cache[12] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-server me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"Detailed Export (Server-side) \"), _createElementVNode(\"br\", null, null, -1 /* CACHED */), _createElementVNode(\"small\", {\n    \"class\": \"text-muted\"\n  }, \"Full marks data with statistics and proper formatting\", -1 /* CACHED */)]))])])])])]), _createCommentVNode(\" Course Selection \"), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    \"for\": \"courseSelect\",\n    \"class\": \"form-label\"\n  }, \"Select Course:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"courseSelect\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n      return $data.courseId = $event;\n    }),\n    onChange: _cache[4] || (_cache[4] = function () {\n      return $options.loadCourseData && $options.loadCourseData.apply($options, arguments);\n    }),\n    \"class\": \"form-select\"\n  }, [_cache[15] || (_cache[15] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Select a course...\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.lecturerCourses, function (course) {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: course.id,\n      value: course.id\n    }, _toDisplayString(course.code) + \" - \" + _toDisplayString(course.name), 9 /* TEXT, PROPS */, _hoisted_16);\n  }), 128 /* KEYED_FRAGMENT */))], 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $data.courseId]])]), _cache[17] || (_cache[17] = _createStaticVNode(\"<div class=\\\"col-md-6\\\" data-v-80072c70><label class=\\\"form-label\\\" data-v-80072c70>Assessment Breakdown:</label><div class=\\\"d-flex gap-3\\\" data-v-80072c70><div class=\\\"badge bg-primary p-2\\\" data-v-80072c70><i class=\\\"fas fa-tasks me-2\\\" data-v-80072c70></i>Components: 70% </div><div class=\\\"badge bg-warning p-2\\\" data-v-80072c70><i class=\\\"fas fa-graduation-cap me-2\\\" data-v-80072c70></i>Final Exam: 30% </div></div></div>\", 1))])])]), $data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, _cache[18] || (_cache[18] = [_createElementVNode(\"div\", {\n    \"class\": \"spinner-border text-primary\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    \"class\": \"visually-hidden\"\n  }, \"Loading...\")], -1 /* CACHED */)]))) : !$data.courseId ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, _cache[19] || (_cache[19] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-book-open text-muted mb-3\",\n    style: {\n      \"font-size\": \"3rem\"\n    }\n  }, null, -1 /* CACHED */), _createElementVNode(\"h5\", {\n    \"class\": \"text-muted\"\n  }, \"Select a Course\", -1 /* CACHED */), _createElementVNode(\"p\", {\n    \"class\": \"text-muted\"\n  }, \"Choose a course from the dropdown above to manage student marks.\", -1 /* CACHED */)]))) : $data.students.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, _cache[20] || (_cache[20] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-users text-muted mb-3\",\n    style: {\n      \"font-size\": \"3rem\"\n    }\n  }, null, -1 /* CACHED */), _createElementVNode(\"h5\", {\n    \"class\": \"text-muted\"\n  }, \"No Students Enrolled\", -1 /* CACHED */), _createElementVNode(\"p\", {\n    \"class\": \"text-muted\"\n  }, \"There are no students enrolled in this course yet.\", -1 /* CACHED */)]))) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 3\n  }, [_createCommentVNode(\" Marks Table \"), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_cache[23] || (_cache[23] = _createElementVNode(\"h5\", {\n    \"class\": \"mb-0\"\n  }, \"Student Marks\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"button\", {\n    \"class\": \"btn btn-sm btn-outline-success\",\n    onClick: _cache[5] || (_cache[5] = function () {\n      return $options.calculateAllFinalMarks && $options.calculateAllFinalMarks.apply($options, arguments);\n    })\n  }, _cache[21] || (_cache[21] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-calculator me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"Calculate Final Marks \")])), _createElementVNode(\"button\", {\n    \"class\": \"btn btn-sm btn-outline-info\",\n    onClick: _cache[6] || (_cache[6] = function () {\n      return $options.showMarkingGuide && $options.showMarkingGuide.apply($options, arguments);\n    })\n  }, _cache[22] || (_cache[22] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-info-circle me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"Marking Guide \")]))])])]), _createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"table\", _hoisted_26, [_cache[27] || (_cache[27] = _createElementVNode(\"thead\", {\n    \"class\": \"table-light\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    rowspan: \"2\",\n    \"class\": \"align-middle\"\n  }, \"Student\"), _createElementVNode(\"th\", {\n    rowspan: \"2\",\n    \"class\": \"align-middle\"\n  }, \"Matric No.\"), _createElementVNode(\"th\", {\n    colspan: \"3\",\n    \"class\": \"text-center bg-primary text-white\"\n  }, \"Components (70%)\"), _createElementVNode(\"th\", {\n    rowspan: \"2\",\n    \"class\": \"align-middle bg-warning text-dark\"\n  }, \"Final Exam (30%)\"), _createElementVNode(\"th\", {\n    rowspan: \"2\",\n    \"class\": \"align-middle bg-success text-white\"\n  }, \"Final Mark\"), _createElementVNode(\"th\", {\n    rowspan: \"2\",\n    \"class\": \"align-middle\"\n  }, \"Grade\"), _createElementVNode(\"th\", {\n    rowspan: \"2\",\n    \"class\": \"align-middle\"\n  }, \"Actions\")]), _createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    \"class\": \"bg-primary text-white\"\n  }, \"Assignment\"), _createElementVNode(\"th\", {\n    \"class\": \"bg-primary text-white\"\n  }, \"Quiz\"), _createElementVNode(\"th\", {\n    \"class\": \"bg-primary text-white\"\n  }, \"Test\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.students, function (student) {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: student.id\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"div\", _hoisted_28, _toDisplayString($options.getStudentInitials(student.name)), 1 /* TEXT */), _createElementVNode(\"div\", null, [_createElementVNode(\"strong\", null, _toDisplayString(student.name), 1 /* TEXT */), _cache[24] || (_cache[24] = _createElementVNode(\"br\", null, null, -1 /* CACHED */)), _createElementVNode(\"small\", _hoisted_29, _toDisplayString(student.email), 1 /* TEXT */)])])]), _createElementVNode(\"td\", null, _toDisplayString(student.matric_number || 'N/A'), 1 /* TEXT */), _createCommentVNode(\" Component Marks (70%) \"), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"class\": \"form-control form-control-sm\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return student.marks.assignment = $event;\n      },\n      onInput: function onInput($event) {\n        return $options.calculateFinalMark(student);\n      },\n      min: \"0\",\n      max: \"100\",\n      placeholder: \"0-100\"\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_30), [[_vModelText, student.marks.assignment, void 0, {\n      number: true\n    }]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"class\": \"form-control form-control-sm\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return student.marks.quiz = $event;\n      },\n      onInput: function onInput($event) {\n        return $options.calculateFinalMark(student);\n      },\n      min: \"0\",\n      max: \"100\",\n      placeholder: \"0-100\"\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_31), [[_vModelText, student.marks.quiz, void 0, {\n      number: true\n    }]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"class\": \"form-control form-control-sm\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return student.marks.test = $event;\n      },\n      onInput: function onInput($event) {\n        return $options.calculateFinalMark(student);\n      },\n      min: \"0\",\n      max: \"100\",\n      placeholder: \"0-100\"\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_32), [[_vModelText, student.marks.test, void 0, {\n      number: true\n    }]])]), _createCommentVNode(\" Final Exam (30%) \"), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"class\": \"form-control form-control-sm\",\n      \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n        return student.marks.final_exam = $event;\n      },\n      onInput: function onInput($event) {\n        return $options.calculateFinalMark(student);\n      },\n      min: \"0\",\n      max: \"100\",\n      placeholder: \"0-100\"\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_33), [[_vModelText, student.marks.final_exam, void 0, {\n      number: true\n    }]])]), _createCommentVNode(\" Final Mark \"), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", _hoisted_34, _toDisplayString(student.marks.final_mark ? student.marks.final_mark.toFixed(1) : 'N/A'), 1 /* TEXT */)]), _createCommentVNode(\" Grade \"), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      \"class\": _normalizeClass([\"badge\", $options.getGradeBadgeClass(student.marks.grade)])\n    }, _toDisplayString(student.marks.grade || 'N/A'), 3 /* TEXT, CLASS */)]), _createCommentVNode(\" Actions \"), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_35, [_createElementVNode(\"button\", {\n      \"class\": \"btn btn-outline-primary\",\n      onClick: function onClick($event) {\n        return $options.viewStudentDetails(student);\n      },\n      title: \"View Details\"\n    }, _toConsumableArray(_cache[25] || (_cache[25] = [_createElementVNode(\"i\", {\n      \"class\": \"fas fa-eye\"\n    }, null, -1 /* CACHED */)])), 8 /* PROPS */, _hoisted_36), _createElementVNode(\"button\", {\n      \"class\": \"btn btn-outline-success\",\n      onClick: function onClick($event) {\n        return $options.saveStudentMarks(student);\n      },\n      title: \"Save Marks\"\n    }, _toConsumableArray(_cache[26] || (_cache[26] = [_createElementVNode(\"i\", {\n      \"class\": \"fas fa-save\"\n    }, null, -1 /* CACHED */)])), 8 /* PROPS */, _hoisted_37)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" Marking Guide Modal \"), _cache[28] || (_cache[28] = _createStaticVNode(\"<div class=\\\"modal fade\\\" id=\\\"markingGuideModal\\\" tabindex=\\\"-1\\\" aria-labelledby=\\\"markingGuideModalLabel\\\" aria-hidden=\\\"true\\\" data-v-80072c70><div class=\\\"modal-dialog modal-lg\\\" data-v-80072c70><div class=\\\"modal-content\\\" data-v-80072c70><div class=\\\"modal-header\\\" data-v-80072c70><h5 class=\\\"modal-title\\\" id=\\\"markingGuideModalLabel\\\" data-v-80072c70>Marking Guide</h5><button type=\\\"button\\\" class=\\\"btn-close\\\" data-bs-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\" data-v-80072c70></button></div><div class=\\\"modal-body\\\" data-v-80072c70><div class=\\\"row\\\" data-v-80072c70><div class=\\\"col-md-6\\\" data-v-80072c70><h6 data-v-80072c70>Assessment Breakdown</h6><ul class=\\\"list-group list-group-flush\\\" data-v-80072c70><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>Assignment</span><span class=\\\"badge bg-primary\\\" data-v-80072c70>25%</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>Quiz</span><span class=\\\"badge bg-primary\\\" data-v-80072c70>20%</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>Test</span><span class=\\\"badge bg-primary\\\" data-v-80072c70>25%</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70><strong data-v-80072c70>Components Total</strong></span><span class=\\\"badge bg-primary\\\" data-v-80072c70><strong data-v-80072c70>70%</strong></span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70><strong data-v-80072c70>Final Exam</strong></span><span class=\\\"badge bg-warning text-dark\\\" data-v-80072c70><strong data-v-80072c70>30%</strong></span></li></ul></div><div class=\\\"col-md-6\\\" data-v-80072c70><h6 data-v-80072c70>Grading Scale</h6><ul class=\\\"list-group list-group-flush\\\" data-v-80072c70><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>A</span><span data-v-80072c70>80-100</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>B</span><span data-v-80072c70>70-79</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>C</span><span data-v-80072c70>60-69</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>D</span><span data-v-80072c70>50-59</span></li><li class=\\\"list-group-item d-flex justify-content-between\\\" data-v-80072c70><span data-v-80072c70>F</span><span data-v-80072c70>0-49</span></li></ul></div></div><div class=\\\"mt-3\\\" data-v-80072c70><h6 data-v-80072c70>Calculation Formula</h6><div class=\\\"alert alert-info\\\" data-v-80072c70><strong data-v-80072c70>Final Grade = (Assignment × 25%) + (Quiz × 20%) + (Test × 25%) + (Final Exam × 30%)</strong><br data-v-80072c70><small class=\\\"text-muted\\\" data-v-80072c70>Components (Assignment + Quiz + Test) contribute 70% total, Final Exam contributes 30%</small></div></div></div><div class=\\\"modal-footer\\\" data-v-80072c70><button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" data-bs-dismiss=\\\"modal\\\" data-v-80072c70>Close</button></div></div></div></div>\", 1))]);\n}","map":{"version":3,"names":["role","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_router_link","to","_cache","_hoisted_6","concat","$data","courseId","_$data$course","course","code","_hoisted_7","_toDisplayString","_$data$course2","_$data$course3","name","_$data$course4","semester","_hoisted_8","onClick","$options","saveAllMarks","apply","arguments","disabled","isLoading","_hoisted_10","type","_hoisted_11","href","_withModifiers","exportMarks","title","exportMarksServer","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","id","$event","onChange","loadCourseData","value","_Fragment","_renderList","lecturerCourses","key","_hoisted_16","_hoisted_17","_hoisted_18","style","students","length","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","calculateAllFinalMarks","showMarkingGuide","_hoisted_24","_hoisted_25","_hoisted_26","rowspan","colspan","student","_hoisted_27","_hoisted_28","getStudentInitials","_hoisted_29","email","matric_number","marks","assignment","onInput","calculateFinalMark","min","max","placeholder","number","quiz","test","final_exam","_hoisted_34","final_mark","toFixed","_normalizeClass","getGradeBadgeClass","grade","_hoisted_35","viewStudentDetails","saveStudentMarks"],"sources":["C:\\Users\\ansmu\\Desktop\\Web\\course-mark-management\\frontend\\src\\views\\lecturer\\MarksManagement.vue"],"sourcesContent":["<template>\r\n  <div class=\"marks-management\">\r\n    <!-- Header -->\r\n    <div class=\"d-flex justify-content-between align-items-center mb-4\">\r\n      <div>\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n              <router-link to=\"/lecturer/dashboard\">Dashboard</router-link>\r\n            </li>\r\n            <li class=\"breadcrumb-item\">\r\n              <router-link :to=\"`/lecturer/course/${courseId}`\">{{ course?.code }}</router-link>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">Marks Management</li>\r\n          </ol>\r\n        </nav>\r\n        <h1 class=\"mb-2\">Marks Management</h1>\r\n        <p class=\"text-muted\">\r\n          {{ course?.code }} - {{ course?.name }} | {{ course?.semester }}\r\n        </p>\r\n      </div>\r\n      <div class=\"btn-group\">\r\n        <button class=\"btn btn-success\" @click=\"saveAllMarks\" :disabled=\"isLoading\">\r\n          <i class=\"fas fa-save me-2\"></i>Save All Changes\r\n        </button>\r\n        <div class=\"btn-group\" role=\"group\">\r\n          <button type=\"button\" class=\"btn btn-outline-primary dropdown-toggle\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n            <i class=\"fas fa-file-export me-2\"></i>Export Marks\r\n          </button>\r\n          <ul class=\"dropdown-menu\">\r\n            <li><a class=\"dropdown-item\" href=\"#\" @click.prevent=\"exportMarks\" title=\"Quick client-side export with basic student marks\">\r\n              <i class=\"fas fa-download me-2\"></i>Quick Export (Client-side)\r\n              <br><small class=\"text-muted\">Basic marks data, processed in browser</small>\r\n            </a></li>\r\n            <li><hr class=\"dropdown-divider\"></li>\r\n            <li><a class=\"dropdown-item\" href=\"#\" @click.prevent=\"exportMarksServer\" title=\"Comprehensive server-side export with detailed statistics\">\r\n              <i class=\"fas fa-server me-2\"></i>Detailed Export (Server-side)\r\n              <br><small class=\"text-muted\">Full marks data with statistics and proper formatting</small>\r\n            </a></li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Course Selection -->\r\n    <div class=\"card mb-4\">\r\n      <div class=\"card-body\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6\">\r\n            <label for=\"courseSelect\" class=\"form-label\">Select Course:</label>\r\n            <select \r\n              id=\"courseSelect\" \r\n              v-model=\"courseId\" \r\n              @change=\"loadCourseData\"\r\n              class=\"form-select\"\r\n            >\r\n              <option value=\"\">Select a course...</option>\r\n              <option \r\n                v-for=\"course in lecturerCourses\" \r\n                :key=\"course.id\" \r\n                :value=\"course.id\"\r\n              >\r\n                {{ course.code }} - {{ course.name }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <label class=\"form-label\">Assessment Breakdown:</label>\r\n            <div class=\"d-flex gap-3\">\r\n              <div class=\"badge bg-primary p-2\">\r\n                <i class=\"fas fa-tasks me-2\"></i>Components: 70%\r\n              </div>\r\n              <div class=\"badge bg-warning p-2\">\r\n                <i class=\"fas fa-graduation-cap me-2\"></i>Final Exam: 30%\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"isLoading\" class=\"text-center my-5\">\r\n      <div class=\"spinner-border text-primary\" role=\"status\">\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else-if=\"!courseId\" class=\"text-center my-5\">\r\n      <i class=\"fas fa-book-open text-muted mb-3\" style=\"font-size: 3rem;\"></i>\r\n      <h5 class=\"text-muted\">Select a Course</h5>\r\n      <p class=\"text-muted\">Choose a course from the dropdown above to manage student marks.</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"students.length === 0\" class=\"text-center my-5\">\r\n      <i class=\"fas fa-users text-muted mb-3\" style=\"font-size: 3rem;\"></i>\r\n      <h5 class=\"text-muted\">No Students Enrolled</h5>\r\n      <p class=\"text-muted\">There are no students enrolled in this course yet.</p>\r\n    </div>\r\n\r\n    <!-- Marks Table -->\r\n    <div v-else class=\"card\">\r\n      <div class=\"card-header bg-light\">\r\n        <div class=\"d-flex justify-content-between align-items-center\">\r\n          <h5 class=\"mb-0\">Student Marks</h5>\r\n          <div class=\"d-flex gap-2\">\r\n            <button class=\"btn btn-sm btn-outline-success\" @click=\"calculateAllFinalMarks\">\r\n              <i class=\"fas fa-calculator me-2\"></i>Calculate Final Marks\r\n            </button>\r\n            <button class=\"btn btn-sm btn-outline-info\" @click=\"showMarkingGuide\">\r\n              <i class=\"fas fa-info-circle me-2\"></i>Marking Guide\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"card-body p-0\">\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-hover mb-0\">\r\n            <thead class=\"table-light\">\r\n              <tr>\r\n                <th rowspan=\"2\" class=\"align-middle\">Student</th>\r\n                <th rowspan=\"2\" class=\"align-middle\">Matric No.</th>\r\n                <th colspan=\"3\" class=\"text-center bg-primary text-white\">Components (70%)</th>\r\n                <th rowspan=\"2\" class=\"align-middle bg-warning text-dark\">Final Exam (30%)</th>\r\n                <th rowspan=\"2\" class=\"align-middle bg-success text-white\">Final Mark</th>\r\n                <th rowspan=\"2\" class=\"align-middle\">Grade</th>\r\n                <th rowspan=\"2\" class=\"align-middle\">Actions</th>\r\n              </tr>\r\n              <tr>\r\n                <th class=\"bg-primary text-white\">Assignment</th>\r\n                <th class=\"bg-primary text-white\">Quiz</th>\r\n                <th class=\"bg-primary text-white\">Test</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"student in students\" :key=\"student.id\">\r\n                <td>\r\n                  <div class=\"d-flex align-items-center\">\r\n                    <div class=\"avatar avatar-sm me-3\">\r\n                      {{ getStudentInitials(student.name) }}\r\n                    </div>\r\n                    <div>\r\n                      <strong>{{ student.name }}</strong>\r\n                      <br>\r\n                      <small class=\"text-muted\">{{ student.email }}</small>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td>{{ student.matric_number || 'N/A' }}</td>\r\n                \r\n                <!-- Component Marks (70%) -->\r\n                <td>\r\n                  <input \r\n                    type=\"number\" \r\n                    class=\"form-control form-control-sm\"\r\n                    v-model.number=\"student.marks.assignment\"\r\n                    @input=\"calculateFinalMark(student)\"\r\n                    min=\"0\" \r\n                    max=\"100\"\r\n                    placeholder=\"0-100\"\r\n                  >\r\n                </td>\r\n                <td>\r\n                  <input \r\n                    type=\"number\" \r\n                    class=\"form-control form-control-sm\"\r\n                    v-model.number=\"student.marks.quiz\"\r\n                    @input=\"calculateFinalMark(student)\"\r\n                    min=\"0\" \r\n                    max=\"100\"\r\n                    placeholder=\"0-100\"\r\n                  >\r\n                </td>\r\n                <td>\r\n                  <input \r\n                    type=\"number\" \r\n                    class=\"form-control form-control-sm\"\r\n                    v-model.number=\"student.marks.test\"\r\n                    @input=\"calculateFinalMark(student)\"\r\n                    min=\"0\" \r\n                    max=\"100\"\r\n                    placeholder=\"0-100\"\r\n                  >\r\n                </td>\r\n                \r\n                <!-- Final Exam (30%) -->\r\n                <td>\r\n                  <input \r\n                    type=\"number\" \r\n                    class=\"form-control form-control-sm\"\r\n                    v-model.number=\"student.marks.final_exam\"\r\n                    @input=\"calculateFinalMark(student)\"\r\n                    min=\"0\" \r\n                    max=\"100\"\r\n                    placeholder=\"0-100\"\r\n                  >\r\n                </td>\r\n                \r\n                <!-- Final Mark -->\r\n                <td>\r\n                  <span class=\"badge bg-success fs-6\">\r\n                    {{ student.marks.final_mark ? student.marks.final_mark.toFixed(1) : 'N/A' }}\r\n                  </span>\r\n                </td>\r\n                \r\n                <!-- Grade -->\r\n                <td>\r\n                  <span class=\"badge\" :class=\"getGradeBadgeClass(student.marks.grade)\">\r\n                    {{ student.marks.grade || 'N/A' }}\r\n                  </span>\r\n                </td>\r\n                \r\n                <!-- Actions -->\r\n                <td>\r\n                  <div class=\"btn-group btn-group-sm\">\r\n                    <button \r\n                      class=\"btn btn-outline-primary\"\r\n                      @click=\"viewStudentDetails(student)\"\r\n                      title=\"View Details\"\r\n                    >\r\n                      <i class=\"fas fa-eye\"></i>\r\n                    </button>\r\n                    <button \r\n                      class=\"btn btn-outline-success\"\r\n                      @click=\"saveStudentMarks(student)\"\r\n                      title=\"Save Marks\"\r\n                    >\r\n                      <i class=\"fas fa-save\"></i>\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Marking Guide Modal -->\r\n    <div class=\"modal fade\" id=\"markingGuideModal\" tabindex=\"-1\" aria-labelledby=\"markingGuideModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"markingGuideModalLabel\">Marking Guide</h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-6\">\r\n                <h6>Assessment Breakdown</h6>\r\n                <ul class=\"list-group list-group-flush\">\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>Assignment</span>\r\n                    <span class=\"badge bg-primary\">25%</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>Quiz</span>\r\n                    <span class=\"badge bg-primary\">20%</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>Test</span>\r\n                    <span class=\"badge bg-primary\">25%</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span><strong>Components Total</strong></span>\r\n                    <span class=\"badge bg-primary\"><strong>70%</strong></span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span><strong>Final Exam</strong></span>\r\n                    <span class=\"badge bg-warning text-dark\"><strong>30%</strong></span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n                <h6>Grading Scale</h6>\r\n                <ul class=\"list-group list-group-flush\">\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>A</span>\r\n                    <span>80-100</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>B</span>\r\n                    <span>70-79</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>C</span>\r\n                    <span>60-69</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>D</span>\r\n                    <span>50-59</span>\r\n                  </li>\r\n                  <li class=\"list-group-item d-flex justify-content-between\">\r\n                    <span>F</span>\r\n                    <span>0-49</span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            <div class=\"mt-3\">\r\n              <h6>Calculation Formula</h6>\r\n              <div class=\"alert alert-info\">\r\n                <strong>Final Grade = (Assignment × 25%) + (Quiz × 20%) + (Test × 25%) + (Final Exam × 30%)</strong>\r\n                <br><small class=\"text-muted\">Components (Assignment + Quiz + Test) contribute 70% total, Final Exam contributes 30%</small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport * as bootstrap from 'bootstrap';\r\n\r\nexport default {\r\n  name: 'MarksManagement',\r\n  data() {\r\n    return {\r\n      courseId: this.$route.params.courseId || '',\r\n      course: null,\r\n      students: [],\r\n      lecturerCourses: [],\r\n      isLoading: false,\r\n      unsavedChanges: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters('auth', ['getUser', 'userId']),\r\n    currentUser() {\r\n      return this.getUser;\r\n    }\r\n  },\r\n  async created() {\r\n    console.log('MarksManagement component created');\r\n    console.log('Initial auth state:', {\r\n      user: this.getUser,\r\n      userId: this.userId,\r\n      isAuthenticated: this.$store.getters['auth/isAuthenticated']\r\n    });\r\n    \r\n    // Wait a bit for auth to be initialized if needed\r\n    await this.$nextTick();\r\n    \r\n    await this.loadLecturerCourses();\r\n    if (this.courseId) {\r\n      await this.loadCourseData();\r\n    }\r\n  },\r\n  methods: {\r\n    async loadLecturerCourses() {\r\n      try {\r\n        console.log('Loading lecturer courses...');\r\n        console.log('User ID:', this.userId);\r\n        console.log('Current user:', this.currentUser);\r\n        \r\n        if (!this.userId) {\r\n          throw new Error('User not authenticated');\r\n        }\r\n        \r\n        const lecturerId = this.userId;\r\n        \r\n        const response = await fetch(`http://localhost/marks-api.php?action=lecturer_courses&lecturer_id=${lecturerId}`, {\r\n          method: 'GET',\r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n\r\n        console.log('API Response status:', response.status);\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        console.log('API Response data:', data);\r\n        \r\n        if (data.error) {\r\n          throw new Error(data.error);\r\n        }\r\n\r\n        this.lecturerCourses = data.courses || [];\r\n        console.log('Loaded lecturer courses:', this.lecturerCourses);\r\n\r\n      } catch (error) {\r\n        console.error('Error loading lecturer courses:', error);\r\n        this.$store.dispatch('showToast', {\r\n          message: 'Error loading courses: ' + error.message,\r\n          type: 'error'\r\n        });\r\n        this.lecturerCourses = [];\r\n      }\r\n    },\r\n\r\n    async loadCourseData() {\r\n      if (!this.courseId) return;\r\n      \r\n      this.isLoading = true;\r\n      try {\r\n        // Find the selected course\r\n        this.course = this.lecturerCourses.find(c => c.id == this.courseId);\r\n        \r\n        // Load students for this course with their marks\r\n        await this.loadStudentsWithMarks();\r\n        \r\n      } catch (error) {\r\n        console.error('Error loading course data:', error);\r\n        this.$store.dispatch('showToast', {\r\n          message: 'Error loading course data',\r\n          type: 'error'\r\n        });\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n\r\n    async loadStudentsWithMarks() {\r\n      try {\r\n        // Make API call to get students with marks for this course\r\n        const response = await fetch(`http://localhost/marks-api.php?action=course_students_marks&course_id=${this.courseId}`, {\r\n          method: 'GET',\r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        \r\n        if (data.error) {\r\n          throw new Error(data.error);\r\n        }\r\n\r\n        // Map the API response to the expected format\r\n        this.students = data.students.map(student => ({\r\n          id: student.student_id,\r\n          name: student.student_name,\r\n          email: student.email || 'N/A',\r\n          matric_number: student.matric_number,\r\n          marks: {\r\n            assignment: student.assignment_mark || 0,\r\n            quiz: student.quiz_mark || 0,\r\n            test: student.test_mark || 0,\r\n            final_exam: student.final_exam_mark || 0,\r\n            final_mark: student.final_grade || 0,\r\n            grade: student.letter_grade || 'F'\r\n          }\r\n        }));\r\n\r\n        // Calculate final marks for all students to ensure they're up to date\r\n        this.students.forEach(student => {\r\n          this.calculateFinalMark(student);\r\n        });\r\n\r\n        console.log('Loaded students with marks:', this.students);\r\n\r\n      } catch (error) {\r\n        console.error('Error loading students with marks:', error);\r\n        this.$store.dispatch('showToast', {\r\n          message: 'Error loading student marks: ' + error.message,\r\n          type: 'error'\r\n        });\r\n        \r\n        // Fallback to empty array\r\n        this.students = [];\r\n      }\r\n    },\r\n\r\n    calculateFinalMark(student) {\r\n      const marks = student.marks;\r\n      \r\n      // Check if all marks are entered\r\n      const assignment = marks.assignment || 0;\r\n      const quiz = marks.quiz || 0;\r\n      const test = marks.test || 0;\r\n      const finalExam = marks.final_exam || 0;\r\n      \r\n      // Calculate final mark: Components (70%) + Final Exam (30%)\r\n      // Components breakdown: Assignment (25%) + Quiz (20%) + Test (25%)\r\n      const componentMark = (assignment * 0.25) + (quiz * 0.20) + (test * 0.25);\r\n      const finalMark = componentMark + (finalExam * 0.30);\r\n      \r\n      marks.final_mark = finalMark;\r\n      marks.grade = this.calculateGrade(finalMark);\r\n      \r\n      this.unsavedChanges = true;\r\n    },\r\n\r\n    calculateGrade(finalMark) {\r\n      if (finalMark >= 80) return 'A';\r\n      if (finalMark >= 70) return 'B';\r\n      if (finalMark >= 60) return 'C';\r\n      if (finalMark >= 50) return 'D';\r\n      return 'F';\r\n    },\r\n\r\n    calculateAllFinalMarks() {\r\n      this.students.forEach(student => {\r\n        this.calculateFinalMark(student);\r\n      });\r\n      \r\n      this.$store.dispatch('showToast', {\r\n        message: 'Final marks calculated for all students',\r\n        type: 'success'\r\n      });\r\n    },\r\n\r\n    async saveStudentMarks(student) {\r\n      try {\r\n        if (!this.userId) {\r\n          throw new Error('User not authenticated');\r\n        }\r\n        \r\n        const lecturerId = this.userId;\r\n        \r\n        const requestData = {\r\n          action: 'save_marks',\r\n          student_id: student.id,\r\n          course_id: this.courseId,\r\n          lecturer_id: lecturerId,\r\n          marks: {\r\n            assignment: student.marks.assignment || 0,\r\n            quiz: student.marks.quiz || 0,\r\n            test: student.marks.test || 0,\r\n            final_exam: student.marks.final_exam || 0\r\n          }\r\n        };\r\n\r\n        const response = await fetch('http://localhost/marks-api.php', {\r\n          method: 'POST',\r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(requestData)\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        \r\n        if (data.error) {\r\n          throw new Error(data.error);\r\n        }\r\n\r\n        console.log('Marks saved successfully for student:', student.name);\r\n        \r\n        this.$store.dispatch('showToast', {\r\n          message: `Marks saved for ${student.name}`,\r\n          type: 'success'\r\n        });\r\n\r\n      } catch (error) {\r\n        console.error('Error saving student marks:', error);\r\n        this.$store.dispatch('showToast', {\r\n          message: `Error saving marks for ${student.name}: ${error.message}`,\r\n          type: 'error'\r\n        });\r\n        throw error; // Re-throw so saveAllMarks can handle it\r\n      }\r\n    },\r\n\r\n    async saveAllMarks() {\r\n      if (!this.unsavedChanges) {\r\n        this.$store.dispatch('showToast', {\r\n          message: 'No changes to save',\r\n          type: 'info'\r\n        });\r\n        return;\r\n      }\r\n\r\n      this.isLoading = true;\r\n      try {\r\n        // Save all student marks to API\r\n        for (const student of this.students) {\r\n          await this.saveStudentMarks(student);\r\n        }\r\n        \r\n        this.unsavedChanges = false;\r\n        this.$store.dispatch('showToast', {\r\n          message: 'All marks saved successfully',\r\n          type: 'success'\r\n        });\r\n      } catch (error) {\r\n        console.error('Error saving all marks:', error);\r\n        this.$store.dispatch('showToast', {\r\n          message: 'Error saving marks',\r\n          type: 'error'\r\n        });\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n\r\n    exportMarks() {\r\n      if (!this.students.length) {\r\n        this.$store.dispatch('showToast', {\r\n          message: 'No marks to export',\r\n          type: 'warning'\r\n        });\r\n        return;\r\n      }\r\n\r\n      // Helper function to escape CSV values\r\n      const escapeCSV = (value) => {\r\n        if (value === null || value === undefined) return '';\r\n        const stringValue = String(value);\r\n        if (stringValue.includes(',') || stringValue.includes('\"') || stringValue.includes('\\n')) {\r\n          return '\"' + stringValue.replace(/\"/g, '\"\"') + '\"';\r\n        }\r\n        return stringValue;\r\n      };\r\n\r\n      // Create CSV data with course info header\r\n      const courseInfo = [\r\n        ['Course Code', this.course?.code || ''],\r\n        ['Course Name', this.course?.name || ''],\r\n        ['Academic Year', this.course?.academic_year || ''],\r\n        ['Semester', this.course?.semester || ''],\r\n        ['Export Date', new Date().toLocaleDateString()],\r\n        ['Export Time', new Date().toLocaleTimeString()],\r\n        [''], // Empty row for separation\r\n      ];\r\n\r\n      // Add headers for student marks\r\n      const headers = ['Student Name', 'Matric Number', 'Assignment (25%)', 'Quiz (20%)', 'Test (25%)', 'Final Exam (30%)', 'Final Mark', 'Letter Grade'];\r\n      \r\n      const csvData = [...courseInfo, headers];\r\n      \r\n      // Add student data\r\n      this.students.forEach(student => {\r\n        const row = [\r\n          escapeCSV(student.name),\r\n          escapeCSV(student.matric_number || 'N/A'),\r\n          student.marks.assignment || '',\r\n          student.marks.quiz || '',\r\n          student.marks.test || '',\r\n          student.marks.final_exam || '',\r\n          student.marks.final_mark ? student.marks.final_mark.toFixed(2) : '',\r\n          escapeCSV(student.marks.grade || '')\r\n        ];\r\n        csvData.push(row);\r\n      });\r\n\r\n      // Add summary statistics\r\n      if (this.students.length > 0) {\r\n        const validFinalMarks = this.students\r\n          .map(s => s.marks.final_mark)\r\n          .filter(mark => mark !== null && mark !== undefined && !isNaN(mark));\r\n        \r\n        if (validFinalMarks.length > 0) {\r\n          const average = validFinalMarks.reduce((sum, mark) => sum + mark, 0) / validFinalMarks.length;\r\n          const highest = Math.max(...validFinalMarks);\r\n          const lowest = Math.min(...validFinalMarks);\r\n          \r\n          csvData.push(\r\n            [''], // Empty row\r\n            ['SUMMARY STATISTICS'],\r\n            ['Number of Students', this.students.length],\r\n            ['Students with Marks', validFinalMarks.length],\r\n            ['Class Average', average.toFixed(2)],\r\n            ['Highest Mark', highest.toFixed(2)],\r\n            ['Lowest Mark', lowest.toFixed(2)]\r\n          );\r\n        }\r\n      }\r\n\r\n      // Convert to CSV string\r\n      const csvString = csvData.map(row => row.join(',')).join('\\n');\r\n      \r\n      // Download CSV\r\n      const blob = new Blob([csvString], { type: 'text/csv;charset=utf-8' });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      const filename = `${this.course?.code || 'Course'}_Marks_${new Date().toISOString().split('T')[0]}.csv`;\r\n      a.download = filename;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      window.URL.revokeObjectURL(url);\r\n      \r\n      this.$store.dispatch('showToast', {\r\n        message: `Marks exported successfully as ${filename}`,\r\n        type: 'success'\r\n      });\r\n    },\r\n\r\n    exportMarksServer() {\r\n      if (!this.courseId) {\r\n        this.$store.dispatch('showToast', {\r\n          message: 'Please select a course first',\r\n          type: 'warning'\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (!this.userId) {\r\n        this.$store.dispatch('showToast', {\r\n          message: 'User authentication required',\r\n          type: 'error'\r\n        });\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Create URL for server-side CSV export\r\n        const exportUrl = `http://localhost/marks-api.php?action=export_marks_csv&course_id=${this.courseId}&lecturer_id=${this.userId}`;\r\n        \r\n        // Create a temporary link and trigger download\r\n        const a = document.createElement('a');\r\n        a.href = exportUrl;\r\n        a.style.display = 'none';\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n        \r\n        this.$store.dispatch('showToast', {\r\n          message: 'Detailed marks export initiated. Download should start shortly.',\r\n          type: 'success'\r\n        });\r\n      } catch (error) {\r\n        console.error('Error exporting marks:', error);\r\n        this.$store.dispatch('showToast', {\r\n          message: 'Error exporting marks: ' + error.message,\r\n          type: 'error'\r\n        });\r\n      }\r\n    },\r\n\r\n    showMarkingGuide() {\r\n      const modal = new bootstrap.Modal(document.getElementById('markingGuideModal'));\r\n      modal.show();\r\n    },\r\n\r\n    viewStudentDetails(student) {\r\n      this.$router.push(`/lecturer/student/${student.id}`);\r\n    },\r\n\r\n    getStudentInitials(name) {\r\n      return name.split(' ').map(n => n.charAt(0)).join('').toUpperCase();\r\n    },\r\n\r\n    getGradeBadgeClass(grade) {\r\n      const gradeClasses = {\r\n        'A': 'bg-success',\r\n        'B': 'bg-info',\r\n        'C': 'bg-warning text-dark',\r\n        'D': 'bg-secondary',\r\n        'F': 'bg-danger'\r\n      };\r\n      return gradeClasses[grade] || 'bg-light text-dark';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.marks-management h1 {\r\n  color: #2c3e50;\r\n  font-weight: 700;\r\n}\r\n\r\n.avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  background: linear-gradient(45deg, #007bff, #0056b3);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.table input.form-control-sm {\r\n  width: 80px;\r\n  text-align: center;\r\n}\r\n\r\n.table th {\r\n  font-weight: 600;\r\n  border-top: none;\r\n}\r\n\r\n.table td {\r\n  vertical-align: middle;\r\n}\r\n\r\n.card {\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  border: none;\r\n  border-radius: 10px;\r\n}\r\n\r\n.breadcrumb-item a {\r\n  text-decoration: none;\r\n  color: #007bff;\r\n}\r\n\r\n.breadcrumb-item a:hover {\r\n  color: #0056b3;\r\n}\r\n\r\n.badge.fs-6 {\r\n  font-size: 0.9rem !important;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}