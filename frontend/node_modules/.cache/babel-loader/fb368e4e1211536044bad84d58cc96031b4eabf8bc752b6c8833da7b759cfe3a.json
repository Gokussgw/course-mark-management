{"ast":null,"code":"import _toConsumableArray from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"advisee-list-container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"card mb-4\"\n};\nvar _hoisted_3 = {\n  \"class\": \"card-body\"\n};\nvar _hoisted_4 = {\n  \"class\": \"d-flex justify-content-between align-items-center mb-3\"\n};\nvar _hoisted_5 = {\n  \"class\": \"search-wrapper\"\n};\nvar _hoisted_6 = {\n  \"class\": \"filter-wrapper\"\n};\nvar _hoisted_7 = [\"value\"];\nvar _hoisted_8 = {\n  key: 0,\n  \"class\": \"text-center my-5\"\n};\nvar _hoisted_9 = {\n  key: 1,\n  \"class\": \"alert alert-danger\"\n};\nvar _hoisted_10 = {\n  key: 2,\n  \"class\": \"alert alert-info\"\n};\nvar _hoisted_11 = {\n  key: 3,\n  \"class\": \"alert alert-warning\"\n};\nvar _hoisted_12 = {\n  key: 4,\n  \"class\": \"row\"\n};\nvar _hoisted_13 = {\n  \"class\": \"card h-100\"\n};\nvar _hoisted_14 = {\n  \"class\": \"card-body\"\n};\nvar _hoisted_15 = {\n  \"class\": \"card-title\"\n};\nvar _hoisted_16 = {\n  \"class\": \"card-text text-muted\"\n};\nvar _hoisted_17 = {\n  \"class\": \"mb-2\"\n};\nvar _hoisted_18 = {\n  \"class\": \"badge bg-secondary\"\n};\nvar _hoisted_19 = {\n  \"class\": \"card-text\"\n};\nvar _hoisted_20 = {\n  \"class\": \"text-muted\"\n};\nvar _hoisted_21 = {\n  \"class\": \"card-footer bg-white border-0\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[8] || (_cache[8] = _createElementVNode(\"h1\", {\n    \"class\": \"mb-4\"\n  }, \"My Advisees\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"class\": \"form-control\",\n    placeholder: \"Search advisees...\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.searchQuery = $event;\n    })\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchQuery]])]), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"select\", {\n    \"class\": \"form-select\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $data.programFilter = $event;\n    })\n  }, [_cache[2] || (_cache[2] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"All Programs\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.programs, function (program) {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: program,\n      value: program\n    }, _toDisplayString(program), 9 /* TEXT, PROPS */, _hoisted_7);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.programFilter]])])])])]), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, _cache[3] || (_cache[3] = [_createElementVNode(\"div\", {\n    \"class\": \"spinner-border text-primary\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    \"class\": \"visually-hidden\"\n  }, \"Loading...\")], -1 /* CACHED */), _createElementVNode(\"p\", {\n    \"class\": \"mt-2\"\n  }, \"Loading your advisees...\", -1 /* CACHED */)]))) : _ctx.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_cache[4] || (_cache[4] = _createElementVNode(\"i\", {\n    \"class\": \"fas fa-exclamation-triangle me-2\"\n  }, null, -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString(_ctx.error), 1 /* TEXT */)])) : $options.filteredAdvisees.length === 0 && _ctx.advisees.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _cache[5] || (_cache[5] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-info-circle me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" No advisees have been assigned to you yet. \")]))) : $options.filteredAdvisees.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _cache[6] || (_cache[6] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-search me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" No advisees match your current search criteria. \")]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredAdvisees, function (advisee) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: advisee.id,\n      \"class\": \"col-md-6 col-lg-4 mb-4\"\n    }, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"h5\", _hoisted_15, _toDisplayString(advisee.fullName), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_16, _toDisplayString(advisee.studentId), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"span\", _hoisted_18, _toDisplayString(advisee.program), 1 /* TEXT */)]), _createElementVNode(\"p\", _hoisted_19, [_createElementVNode(\"small\", _hoisted_20, _toDisplayString(advisee.email), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_21, [_createVNode(_component_router_link, {\n      to: \"/advisor/advisee/\".concat(advisee.id),\n      \"class\": \"btn btn-primary btn-sm w-100\"\n    }, {\n      \"default\": _withCtx(function () {\n        return _toConsumableArray(_cache[7] || (_cache[7] = [_createTextVNode(\" View Details \")]));\n      }),\n      _: 2 /* DYNAMIC */,\n      __: [7]\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])])])]);\n  }), 128 /* KEYED_FRAGMENT */))]))]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","type","placeholder","$data","searchQuery","$event","_hoisted_6","programFilter","value","_Fragment","_renderList","$options","programs","program","key","_hoisted_7","loading","_hoisted_8","_cache","role","_ctx","error","_hoisted_9","_toDisplayString","filteredAdvisees","length","advisees","_hoisted_10","_hoisted_11","_hoisted_12","advisee","id","_hoisted_13","_hoisted_14","_hoisted_15","fullName","_hoisted_16","studentId","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","email","_hoisted_21","_createVNode","_component_router_link","to","concat","_toConsumableArray"],"sources":["C:\\Users\\ansmu\\Desktop\\Web\\NEW\\course-mark-management\\frontend\\src\\views\\advisor\\AdviseeList.vue"],"sourcesContent":["<template>\r\n  <div class=\"advisee-list-container\">\r\n    <h1 class=\"mb-4\">My Advisees</h1>\r\n\r\n    <div class=\"card mb-4\">\r\n      <div class=\"card-body\">\r\n        <div class=\"d-flex justify-content-between align-items-center mb-3\">\r\n          <div class=\"search-wrapper\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Search advisees...\"\r\n              v-model=\"searchQuery\"\r\n            />\r\n          </div>\r\n          <div class=\"filter-wrapper\">\r\n            <select class=\"form-select\" v-model=\"programFilter\">\r\n              <option value=\"\">All Programs</option>\r\n              <option v-for=\"program in programs\" :key=\"program\" :value=\"program\">\r\n                {{ program }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"loading\" class=\"text-center my-5\">\r\n      <div class=\"spinner-border text-primary\" role=\"status\">\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n      <p class=\"mt-2\">Loading your advisees...</p>\r\n    </div>\r\n\r\n    <div v-else-if=\"error\" class=\"alert alert-danger\">\r\n      <i class=\"fas fa-exclamation-triangle me-2\"></i>\r\n      {{ error }}\r\n    </div>\r\n\r\n    <div v-else-if=\"filteredAdvisees.length === 0 && advisees.length === 0\" class=\"alert alert-info\">\r\n      <i class=\"fas fa-info-circle me-2\"></i>\r\n      No advisees have been assigned to you yet.\r\n    </div>\r\n\r\n    <div v-else-if=\"filteredAdvisees.length === 0\" class=\"alert alert-warning\">\r\n      <i class=\"fas fa-search me-2\"></i>\r\n      No advisees match your current search criteria.\r\n    </div>\r\n\r\n    <div v-else class=\"row\">\r\n      <div\r\n        v-for=\"advisee in filteredAdvisees\"\r\n        :key=\"advisee.id\"\r\n        class=\"col-md-6 col-lg-4 mb-4\"\r\n      >\r\n        <div class=\"card h-100\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">{{ advisee.fullName }}</h5>\r\n            <p class=\"card-text text-muted\">{{ advisee.studentId }}</p>\r\n            <div class=\"mb-2\">\r\n              <span class=\"badge bg-secondary\">{{ advisee.program }}</span>\r\n            </div>\r\n            <p class=\"card-text\">\r\n              <small class=\"text-muted\">{{ advisee.email }}</small>\r\n            </p>\r\n          </div>\r\n          <div class=\"card-footer bg-white border-0\">\r\n            <router-link\r\n              :to=\"`/advisor/advisee/${advisee.id}`\"\r\n              class=\"btn btn-primary btn-sm w-100\"\r\n            >\r\n              View Details\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'AdviseeList',\r\n  data() {\r\n    return {\r\n      searchQuery: '',\r\n      programFilter: '',\r\n      loading: true\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('users', ['advisees']),\r\n    programs() {\r\n      // Extract unique programs from advisees\r\n      if (!this.advisees || !Array.isArray(this.advisees)) return [];\r\n      return [...new Set(this.advisees.map(advisee => advisee.program).filter(Boolean))];\r\n    },\r\n    filteredAdvisees() {\r\n      if (!this.advisees || !Array.isArray(this.advisees)) return [];\r\n      return this.advisees.filter(advisee => {\r\n        const matchesSearch = advisee.fullName?.toLowerCase().includes(this.searchQuery.toLowerCase()) ||\r\n          advisee.studentId?.toLowerCase().includes(this.searchQuery.toLowerCase()) ||\r\n          advisee.email?.toLowerCase().includes(this.searchQuery.toLowerCase());\r\n        \r\n        const matchesProgram = this.programFilter === '' || advisee.program === this.programFilter;\r\n        \r\n        return matchesSearch && matchesProgram;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('users', ['fetchAdvisees'])\r\n  },\r\n  async created() {\r\n    try {\r\n      await this.fetchAdvisees();\r\n    } catch (error) {\r\n      this.$toast.error('Failed to load advisees.');\r\n      console.error('Error fetching advisees:', error);\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.advisee-list-container {\r\n  padding: 2rem 0;\r\n}\r\n\r\n.card {\r\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n  border: none;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.search-wrapper {\r\n  flex: 1;\r\n  max-width: 300px;\r\n  margin-right: 1rem;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .d-flex {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .search-wrapper,\r\n  .filter-wrapper {\r\n    width: 100%;\r\n    max-width: none;\r\n    margin-right: 0;\r\n    margin-bottom: 1rem;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}