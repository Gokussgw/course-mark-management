{"ast":null,"code":"import _regenerator from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.parse-float.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"CourseComparison\",\n  data: function data() {\n    return {\n      courses: [],\n      selectedCourseId: \"\",\n      comparisonData: null,\n      loading: false,\n      error: null\n    };\n  },\n  computed: {\n    assessmentData: function assessmentData() {\n      var _this$comparisonData;\n      if (!((_this$comparisonData = this.comparisonData) !== null && _this$comparisonData !== void 0 && (_this$comparisonData = _this$comparisonData.student) !== null && _this$comparisonData !== void 0 && _this$comparisonData.marks)) return {};\n      var marks = this.comparisonData.student.marks;\n      var assessments = {};\n      Object.keys(marks).forEach(function (key) {\n        if (key !== 'overall') {\n          var _assessment$class_sta;\n          var assessment = marks[key];\n          var studentPercentage = assessment.percentage || 0;\n          var classAverage = ((_assessment$class_sta = assessment.class_stats) === null || _assessment$class_sta === void 0 ? void 0 : _assessment$class_sta.class_average) || 0;\n          var difference = studentPercentage - classAverage;\n          assessments[key] = _objectSpread(_objectSpread({}, assessment), {}, {\n            comparison: {\n              above_average: difference > 0,\n              difference_from_average: difference.toFixed(1)\n            }\n          });\n        }\n      });\n      return assessments;\n    },\n    performanceComparisonClass: function performanceComparisonClass() {\n      var _this$comparisonData$, _this$comparisonData$2;\n      if (!this.comparisonData) return \"bg-secondary\";\n      var studentScore = ((_this$comparisonData$ = this.comparisonData.student) === null || _this$comparisonData$ === void 0 || (_this$comparisonData$ = _this$comparisonData$.marks) === null || _this$comparisonData$ === void 0 || (_this$comparisonData$ = _this$comparisonData$.overall) === null || _this$comparisonData$ === void 0 ? void 0 : _this$comparisonData$.final_grade) || 0;\n      var classAverage = ((_this$comparisonData$2 = this.comparisonData.student) === null || _this$comparisonData$2 === void 0 || (_this$comparisonData$2 = _this$comparisonData$2.marks) === null || _this$comparisonData$2 === void 0 || (_this$comparisonData$2 = _this$comparisonData$2.overall) === null || _this$comparisonData$2 === void 0 || (_this$comparisonData$2 = _this$comparisonData$2.class_stats) === null || _this$comparisonData$2 === void 0 ? void 0 : _this$comparisonData$2.class_average) || 0;\n      if (studentScore > classAverage + 10) return \"bg-success\";\n      if (studentScore > classAverage) return \"bg-primary\";\n      if (studentScore > classAverage - 10) return \"bg-warning\";\n      return \"bg-danger\";\n    },\n    performanceComparisonText: function performanceComparisonText() {\n      var _this$comparisonData$3, _this$comparisonData$4;\n      if (!this.comparisonData) return \"No data\";\n      var studentScore = ((_this$comparisonData$3 = this.comparisonData.student) === null || _this$comparisonData$3 === void 0 || (_this$comparisonData$3 = _this$comparisonData$3.marks) === null || _this$comparisonData$3 === void 0 || (_this$comparisonData$3 = _this$comparisonData$3.overall) === null || _this$comparisonData$3 === void 0 ? void 0 : _this$comparisonData$3.final_grade) || 0;\n      var classAverage = ((_this$comparisonData$4 = this.comparisonData.student) === null || _this$comparisonData$4 === void 0 || (_this$comparisonData$4 = _this$comparisonData$4.marks) === null || _this$comparisonData$4 === void 0 || (_this$comparisonData$4 = _this$comparisonData$4.overall) === null || _this$comparisonData$4 === void 0 || (_this$comparisonData$4 = _this$comparisonData$4.class_stats) === null || _this$comparisonData$4 === void 0 ? void 0 : _this$comparisonData$4.class_average) || 0;\n      var difference = studentScore - classAverage;\n      if (difference > 10) return \"Excellent (+\".concat(difference.toFixed(1), \" above average)\");\n      if (difference > 0) return \"Above Average (+\".concat(difference.toFixed(1), \")\");\n      if (difference > -10) return \"Below Average (\".concat(difference.toFixed(1), \")\");\n      return \"Needs Improvement (\".concat(difference.toFixed(1), \")\");\n    },\n    performanceInsights: function performanceInsights() {\n      var _this = this,\n        _this$comparisonData2,\n        _this$comparisonData3;\n      if (!this.comparisonData) return {\n        strengths: [],\n        improvements: []\n      };\n      var strengths = [];\n      var improvements = [];\n      Object.keys(this.assessmentData).forEach(function (key) {\n        var _assessment$class_sta2;\n        var assessment = _this.assessmentData[key];\n        var studentPercentage = parseFloat(assessment.percentage) || 0;\n        var classAverage = parseFloat((_assessment$class_sta2 = assessment.class_stats) === null || _assessment$class_sta2 === void 0 ? void 0 : _assessment$class_sta2.class_average) || 0;\n        var difference = studentPercentage - classAverage;\n        if (difference > 5) {\n          strengths.push(\"Strong performance in \".concat(_this.formatAssessmentName(key), \" (+\").concat(difference.toFixed(1), \"% above average)\"));\n        } else if (difference < -5) {\n          improvements.push(\"Focus needed on \".concat(_this.formatAssessmentName(key), \" (\").concat(difference.toFixed(1), \"% below average)\"));\n        }\n      });\n\n      // Overall performance insights based on rank\n      var studentRank = (_this$comparisonData2 = this.comparisonData) === null || _this$comparisonData2 === void 0 || (_this$comparisonData2 = _this$comparisonData2.student) === null || _this$comparisonData2 === void 0 ? void 0 : _this$comparisonData2.position;\n      var totalStudents = (_this$comparisonData3 = this.comparisonData) === null || _this$comparisonData3 === void 0 || (_this$comparisonData3 = _this$comparisonData3.student) === null || _this$comparisonData3 === void 0 ? void 0 : _this$comparisonData3.total_students;\n      if (studentRank && totalStudents) {\n        if (studentRank <= Math.ceil(totalStudents * 0.25)) {\n          strengths.push(\"Consistently high performer in class\");\n        } else if (studentRank > Math.ceil(totalStudents * 0.75)) {\n          improvements.push(\"Overall performance below class median\");\n        }\n      }\n      return {\n        strengths: strengths,\n        improvements: improvements\n      };\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n    return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n      return _regenerator().w(function (_context) {\n        while (1) switch (_context.n) {\n          case 0:\n            _context.n = 1;\n            return _this2.loadCourses();\n          case 1:\n            return _context.a(2);\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    loadCourses: function loadCourses() {\n      var _this3 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var isAuthenticated, currentUser, response, _currentUser, _error$response, _error$response2, _t;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              _context2.p = 0;\n              console.log(\"=== loadCourses called ===\");\n\n              // Check if user is authenticated first\n              isAuthenticated = _this3.$store.getters[\"auth/isAuthenticated\"];\n              console.log(\"Is authenticated:\", isAuthenticated);\n              if (isAuthenticated) {\n                _context2.n = 1;\n                break;\n              }\n              _this3.error = \"Please log in to view your courses\";\n              _this3.$router.push('/login');\n              return _context2.a(2);\n            case 1:\n              currentUser = _this3.$store.getters[\"auth/user\"];\n              console.log(\"Current user from store:\", currentUser);\n              console.log(\"LocalStorage token:\", localStorage.getItem('token'));\n              console.log(\"LocalStorage user:\", localStorage.getItem('user'));\n\n              // If store user is undefined but we have token, try to re-init from localStorage\n              if (!(!currentUser && localStorage.getItem('token') && localStorage.getItem('user'))) {\n                _context2.n = 3;\n                break;\n              }\n              console.log(\"Re-initializing auth from localStorage...\");\n              _context2.n = 2;\n              return _this3.$store.dispatch('auth/checkAuth');\n            case 2:\n              currentUser = _this3.$store.getters[\"auth/user\"];\n              console.log(\"Refreshed user:\", currentUser);\n            case 3:\n              // Final fallback: parse user directly from localStorage if store is still empty\n              if (!currentUser && localStorage.getItem('user')) {\n                try {\n                  console.log(\"Emergency fallback: parsing user from localStorage\");\n                  currentUser = JSON.parse(localStorage.getItem('user'));\n                  console.log(\"Emergency fallback user:\", currentUser);\n                } catch (e) {\n                  console.error(\"Failed to parse user from localStorage:\", e);\n                }\n              }\n              if (!(currentUser && currentUser.role === \"student\")) {\n                _context2.n = 5;\n                break;\n              }\n              console.log(\"Making API call to get courses...\"); // Debug log\n              // Get courses the student is enrolled in\n              _context2.n = 4;\n              return axios.get(\"/api/enrollments/student/courses\");\n            case 4:\n              response = _context2.v;\n              console.log(\"API Response:\", response.data); // Debug log\n              _this3.courses = response.data;\n              if (_this3.courses.length === 0) {\n                _this3.error = \"You are not enrolled in any courses yet\";\n              }\n              _context2.n = 6;\n              break;\n            case 5:\n              _this3.error = \"Access denied - Student role required. Current user role: \".concat(((_currentUser = currentUser) === null || _currentUser === void 0 ? void 0 : _currentUser.role) || 'undefined');\n            case 6:\n              _context2.n = 8;\n              break;\n            case 7:\n              _context2.p = 7;\n              _t = _context2.v;\n              console.error(\"Error loading courses:\", _t);\n              if (((_error$response = _t.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n                _this3.error = \"Authentication failed - please log in again\";\n                _this3.$router.push('/login');\n              } else {\n                _this3.error = ((_error$response2 = _t.response) === null || _error$response2 === void 0 || (_error$response2 = _error$response2.data) === null || _error$response2 === void 0 ? void 0 : _error$response2.error) || \"Failed to load courses\";\n              }\n            case 8:\n              return _context2.a(2);\n          }\n        }, _callee2, null, [[0, 7]]);\n      }))();\n    },\n    loadComparison: function loadComparison() {\n      var _this4 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3() {\n        var response, _error$response3, _t2;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.n) {\n            case 0:\n              if (_this4.selectedCourseId) {\n                _context3.n = 1;\n                break;\n              }\n              _this4.comparisonData = null;\n              return _context3.a(2);\n            case 1:\n              _this4.loading = true;\n              _this4.error = null;\n              _context3.p = 2;\n              _context3.n = 3;\n              return axios.get(\"/api/comparisons/coursemates/\".concat(_this4.selectedCourseId));\n            case 3:\n              response = _context3.v;\n              _this4.comparisonData = response.data;\n              _context3.n = 5;\n              break;\n            case 4:\n              _context3.p = 4;\n              _t2 = _context3.v;\n              console.error(\"Error loading comparison:\", _t2);\n              _this4.error = ((_error$response3 = _t2.response) === null || _error$response3 === void 0 || (_error$response3 = _error$response3.data) === null || _error$response3 === void 0 ? void 0 : _error$response3.error) || \"Failed to load comparison data\";\n            case 5:\n              _context3.p = 5;\n              _this4.loading = false;\n              return _context3.f(5);\n            case 6:\n              return _context3.a(2);\n          }\n        }, _callee3, null, [[2, 4, 5, 6]]);\n      }))();\n    },\n    getPerformanceBadgeClass: function getPerformanceBadgeClass(percentage) {\n      if (percentage >= 90) return \"bg-success\";\n      if (percentage >= 80) return \"bg-primary\";\n      if (percentage >= 70) return \"bg-info\";\n      if (percentage >= 60) return \"bg-warning\";\n      return \"bg-danger\";\n    },\n    formatAssessmentName: function formatAssessmentName(key) {\n      var names = {\n        assignment: 'Assignment',\n        quiz: 'Quiz',\n        test: 'Test',\n        final_exam: 'Final Exam'\n      };\n      return names[key] || key.replace('_', ' ').replace(/\\b\\w/g, function (l) {\n        return l.toUpperCase();\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","courses","selectedCourseId","comparisonData","loading","error","computed","assessmentData","_this$comparisonData","student","marks","assessments","Object","keys","forEach","key","_assessment$class_sta","assessment","studentPercentage","percentage","classAverage","class_stats","class_average","difference","_objectSpread","comparison","above_average","difference_from_average","toFixed","performanceComparisonClass","_this$comparisonData$","_this$comparisonData$2","studentScore","overall","final_grade","performanceComparisonText","_this$comparisonData$3","_this$comparisonData$4","concat","performanceInsights","_this","_this$comparisonData2","_this$comparisonData3","strengths","improvements","_assessment$class_sta2","parseFloat","push","formatAssessmentName","studentRank","position","totalStudents","total_students","Math","ceil","created","_this2","_asyncToGenerator","_regenerator","m","_callee","w","_context","n","loadCourses","a","methods","_this3","_callee2","isAuthenticated","currentUser","response","_currentUser","_error$response","_error$response2","_t","_context2","p","console","log","$store","getters","$router","localStorage","getItem","dispatch","JSON","parse","e","role","get","v","length","status","loadComparison","_this4","_callee3","_error$response3","_t2","_context3","f","getPerformanceBadgeClass","names","assignment","quiz","test","final_exam","replace","l","toUpperCase"],"sources":["C:\\Users\\ansmu\\Desktop\\Web\\NEW\\course-mark-management\\frontend\\src\\views\\student\\CourseComparison.vue"],"sourcesContent":["<template>\r\n  <div class=\"coursemate-comparison\">\r\n    <div class=\"container mt-4\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header bg-primary text-white\">\r\n              <h4 class=\"mb-0\">\r\n                <i class=\"fas fa-chart-line me-2\"></i>\r\n                Performance Comparison with Coursemates\r\n              </h4>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <!-- Course Selection -->\r\n              <div class=\"row mb-4\">\r\n                <div class=\"col-md-6\">\r\n                  <label for=\"courseSelect\" class=\"form-label\"\r\n                    >Select Course:</label\r\n                  >\r\n                  <select\r\n                    id=\"courseSelect\"\r\n                    v-model=\"selectedCourseId\"\r\n                    @change=\"loadComparison\"\r\n                    class=\"form-select\"\r\n                  >\r\n                    <option value=\"\">Choose a course...</option>\r\n                    <option\r\n                      v-for=\"course in courses\"\r\n                      :key=\"course.id\"\r\n                      :value=\"course.id\"\r\n                    >\r\n                      {{ course.code }} - {{ course.name }}\r\n                    </option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Loading State -->\r\n              <div v-if=\"loading\" class=\"text-center py-4\">\r\n                <div class=\"spinner-border text-primary\" role=\"status\">\r\n                  <span class=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n                <p class=\"mt-2\">Loading comparison data...</p>\r\n              </div>\r\n\r\n              <!-- Error State -->\r\n              <div v-if=\"error\" class=\"alert alert-danger\">\r\n                <i class=\"fas fa-exclamation-triangle me-2\"></i>\r\n                {{ error }}\r\n              </div>\r\n\r\n              <!-- Comparison Results -->\r\n              <div v-if=\"comparisonData && !loading\" class=\"comparison-results\">\r\n                <!-- Overall Performance Summary -->\r\n                <div class=\"row mb-4\">\r\n                  <div class=\"col-md-6\">\r\n                    <div class=\"card border-success\">\r\n                      <div class=\"card-header bg-light\">\r\n                        <h5 class=\"mb-0\">\r\n                          <i class=\"fas fa-user me-2\"></i>\r\n                          Your Performance\r\n                        </h5>\r\n                      </div>\r\n                      <div class=\"card-body\">\r\n                        <div class=\"row\">\r\n                          <div class=\"col-6\">\r\n                            <h3 class=\"text-success\">\r\n                              {{\r\n                                comparisonData?.student?.marks?.overall?.final_grade || 0\r\n                              }}%\r\n                            </h3>\r\n                            <small class=\"text-muted\">Overall Score</small>\r\n                          </div>\r\n                          <div class=\"col-6\">\r\n                            <h4 class=\"text-primary\">\r\n                              {{ comparisonData?.student?.position || 'N/A' }}\r\n                              <small class=\"text-muted\"\r\n                                >/\r\n                                {{\r\n                                  comparisonData?.student?.total_students || 0\r\n                                }}</small\r\n                              >\r\n                            </h4>\r\n                            <small class=\"text-muted\">Class Ranking</small>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-md-6\">\r\n                    <div class=\"card border-info\">\r\n                      <div class=\"card-header bg-light\">\r\n                        <h5 class=\"mb-0\">\r\n                          <i class=\"fas fa-users me-2\"></i>\r\n                          Class Performance\r\n                        </h5>\r\n                      </div>\r\n                      <div class=\"card-body\">\r\n                        <div class=\"row\">\r\n                          <div class=\"col-6\">\r\n                            <h3 class=\"text-info\">\r\n                              {{\r\n                                comparisonData?.student?.marks?.overall?.class_stats?.class_average || 0\r\n                              }}%\r\n                            </h3>\r\n                            <small class=\"text-muted\">Class Average</small>\r\n                          </div>\r\n                          <div class=\"col-6\">\r\n                            <h4 class=\"text-secondary\">\r\n                              {{\r\n                                comparisonData?.student?.total_students || 0\r\n                              }}\r\n                            </h4>\r\n                            <small class=\"text-muted\">Total Students</small>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"mt-2\">\r\n                          <span\r\n                            class=\"badge\"\r\n                            :class=\"performanceComparisonClass\"\r\n                          >\r\n                            {{ performanceComparisonText }}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- Assessment-wise Comparison -->\r\n                <div class=\"card\">\r\n                  <div class=\"card-header\">\r\n                    <h5 class=\"mb-0\">\r\n                      <i class=\"fas fa-clipboard-list me-2\"></i>\r\n                      Assessment-wise Comparison\r\n                    </h5>\r\n                  </div>\r\n                  <div class=\"card-body\">\r\n                    <div class=\"table-responsive\">\r\n                      <table class=\"table table-striped\">\r\n                        <thead class=\"table-dark\">\r\n                          <tr>\r\n                            <th>Assessment</th>\r\n                            <th>Type</th>\r\n                            <th>Your Score</th>\r\n                            <th>Your %</th>\r\n                            <th>Class Avg</th>\r\n                            <th>Class Avg %</th>\r\n                            <th>Highest</th>\r\n                            <th>Performance</th>\r\n                            <th>Percentile Range</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          <tr\r\n                            v-for=\"(assessment, key) in assessmentData\"\r\n                            :key=\"key\"\r\n                          >\r\n                            <td>\r\n                              <strong>{{ formatAssessmentName(key) }}</strong>\r\n                              <br />\r\n                              <small class=\"text-muted\">\r\n                                Component: {{ key }}\r\n                              </small>\r\n                            </td>\r\n                            <td>\r\n                              <span class=\"badge bg-secondary\">\r\n                                {{ key.replace('_', ' ') }}\r\n                              </span>\r\n                            </td>\r\n                            <td>\r\n                              {{ assessment.mark || 0 }} /\r\n                              100\r\n                            </td>\r\n                            <td>\r\n                              <span\r\n                                class=\"badge\"\r\n                                :class=\"\r\n                                  getPerformanceBadgeClass(\r\n                                    assessment.percentage\r\n                                  )\r\n                                \"\r\n                              >\r\n                                {{ assessment.percentage || 0 }}%\r\n                              </span>\r\n                            </td>\r\n                            <td>{{ assessment.class_stats?.class_average || 0 }}</td>\r\n                            <td>\r\n                              {{\r\n                                assessment.class_stats?.class_average || 0\r\n                              }}%\r\n                            </td>\r\n                            <td>{{ assessment.class_stats?.highest_mark || 0 }}</td>\r\n                            <td>\r\n                              <span\r\n                                class=\"badge\"\r\n                                :class=\"\r\n                                  assessment.comparison.above_average\r\n                                    ? 'bg-success'\r\n                                    : 'bg-warning'\r\n                                \"\r\n                              >\r\n                                {{\r\n                                  assessment.comparison.above_average\r\n                                    ? \"Above Average\"\r\n                                    : \"Below Average\"\r\n                                }}\r\n                              </span>\r\n                              <br />\r\n                              <small class=\"text-muted\">\r\n                                {{\r\n                                  assessment.comparison\r\n                                    .difference_from_average > 0\r\n                                    ? \"+\"\r\n                                    : \"\"\r\n                                }}{{\r\n                                  assessment.comparison.difference_from_average\r\n                                }}\r\n                                pts\r\n                              </small>\r\n                            </td>\r\n                            <td>\r\n                              <small class=\"text-muted\">\r\n                                25th:\r\n                                {{\r\n                                  assessment.class_stats?.percentiles?.[\r\n                                    \"25th\"\r\n                                  ] || 0\r\n                                }}<br />\r\n                                50th:\r\n                                {{\r\n                                  assessment.class_stats?.percentiles?.[\r\n                                    \"50th\"\r\n                                  ] || 0\r\n                                }}<br />\r\n                                75th:\r\n                                {{\r\n                                  assessment.class_stats?.percentiles?.[\r\n                                    \"75th\"\r\n                                  ] || 0\r\n                                }}\r\n                              </small>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- Performance Insights -->\r\n                <div class=\"row mt-4\">\r\n                  <div class=\"col-12\">\r\n                    <div class=\"card border-warning\">\r\n                      <div class=\"card-header bg-warning text-dark\">\r\n                        <h5 class=\"mb-0\">\r\n                          <i class=\"fas fa-lightbulb me-2\"></i>\r\n                          Performance Insights\r\n                        </h5>\r\n                      </div>\r\n                      <div class=\"card-body\">\r\n                        <div class=\"row\">\r\n                          <div class=\"col-md-6\">\r\n                            <h6>Strengths:</h6>\r\n                            <ul class=\"list-unstyled\">\r\n                              <li\r\n                                v-for=\"strength in performanceInsights.strengths\"\r\n                                :key=\"strength\"\r\n                                class=\"text-success\"\r\n                              >\r\n                                <i class=\"fas fa-check-circle me-2\"></i\r\n                                >{{ strength }}\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                          <div class=\"col-md-6\">\r\n                            <h6>Areas for Improvement:</h6>\r\n                            <ul class=\"list-unstyled\">\r\n                              <li\r\n                                v-for=\"improvement in performanceInsights.improvements\"\r\n                                :key=\"improvement\"\r\n                                class=\"text-warning\"\r\n                              >\r\n                                <i class=\"fas fa-exclamation-circle me-2\"></i\r\n                                >{{ improvement }}\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"CourseComparison\",\r\n  data() {\r\n    return {\r\n      courses: [],\r\n      selectedCourseId: \"\",\r\n      comparisonData: null,\r\n      loading: false,\r\n      error: null,\r\n    };\r\n  },\r\n  computed: {\r\n    assessmentData() {\r\n      if (!this.comparisonData?.student?.marks) return {};\r\n      const marks = this.comparisonData.student.marks;\r\n      const assessments = {};\r\n      Object.keys(marks).forEach(key => {\r\n        if (key !== 'overall') {\r\n          const assessment = marks[key];\r\n          const studentPercentage = assessment.percentage || 0;\r\n          const classAverage = assessment.class_stats?.class_average || 0;\r\n          const difference = studentPercentage - classAverage;\r\n          \r\n          assessments[key] = {\r\n            ...assessment,\r\n            comparison: {\r\n              above_average: difference > 0,\r\n              difference_from_average: difference.toFixed(1)\r\n            }\r\n          };\r\n        }\r\n      });\r\n      return assessments;\r\n    },\r\n    performanceComparisonClass() {\r\n      if (!this.comparisonData) return \"bg-secondary\";\r\n      const studentScore = this.comparisonData.student?.marks?.overall?.final_grade || 0;\r\n      const classAverage = this.comparisonData.student?.marks?.overall?.class_stats?.class_average || 0;\r\n\r\n      if (studentScore > classAverage + 10) return \"bg-success\";\r\n      if (studentScore > classAverage) return \"bg-primary\";\r\n      if (studentScore > classAverage - 10) return \"bg-warning\";\r\n      return \"bg-danger\";\r\n    },\r\n    performanceComparisonText() {\r\n      if (!this.comparisonData) return \"No data\";\r\n      const studentScore = this.comparisonData.student?.marks?.overall?.final_grade || 0;\r\n      const classAverage = this.comparisonData.student?.marks?.overall?.class_stats?.class_average || 0;\r\n      const difference = studentScore - classAverage;\r\n\r\n      if (difference > 10)\r\n        return `Excellent (+${difference.toFixed(1)} above average)`;\r\n      if (difference > 0) return `Above Average (+${difference.toFixed(1)})`;\r\n      if (difference > -10) return `Below Average (${difference.toFixed(1)})`;\r\n      return `Needs Improvement (${difference.toFixed(1)})`;\r\n    },\r\n    performanceInsights() {\r\n      if (!this.comparisonData) return { strengths: [], improvements: [] };\r\n\r\n      const strengths = [];\r\n      const improvements = [];\r\n\r\n      Object.keys(this.assessmentData).forEach((key) => {\r\n        const assessment = this.assessmentData[key];\r\n        const studentPercentage = parseFloat(assessment.percentage) || 0;\r\n        const classAverage = parseFloat(assessment.class_stats?.class_average) || 0;\r\n        const difference = studentPercentage - classAverage;\r\n        \r\n        if (difference > 5) {\r\n          strengths.push(\r\n            `Strong performance in ${this.formatAssessmentName(key)} (+${difference.toFixed(1)}% above average)`\r\n          );\r\n        } else if (difference < -5) {\r\n          improvements.push(\r\n            `Focus needed on ${this.formatAssessmentName(key)} (${difference.toFixed(1)}% below average)`\r\n          );\r\n        }\r\n      });\r\n\r\n      // Overall performance insights based on rank\r\n      const studentRank = this.comparisonData?.student?.position;\r\n      const totalStudents = this.comparisonData?.student?.total_students;\r\n      if (studentRank && totalStudents) {\r\n        if (studentRank <= Math.ceil(totalStudents * 0.25)) {\r\n          strengths.push(\"Consistently high performer in class\");\r\n        } else if (studentRank > Math.ceil(totalStudents * 0.75)) {\r\n          improvements.push(\"Overall performance below class median\");\r\n        }\r\n      }\r\n\r\n      return { strengths, improvements };\r\n    },\r\n  },\r\n  async created() {\r\n    await this.loadCourses();\r\n  },\r\n  methods: {\r\n    async loadCourses() {\r\n      try {\r\n        console.log(\"=== loadCourses called ===\");\r\n        \r\n        // Check if user is authenticated first\r\n        const isAuthenticated = this.$store.getters[\"auth/isAuthenticated\"];\r\n        console.log(\"Is authenticated:\", isAuthenticated);\r\n        \r\n        if (!isAuthenticated) {\r\n          this.error = \"Please log in to view your courses\";\r\n          this.$router.push('/login');\r\n          return;\r\n        }\r\n\r\n        let currentUser = this.$store.getters[\"auth/user\"];\r\n        console.log(\"Current user from store:\", currentUser);\r\n        console.log(\"LocalStorage token:\", localStorage.getItem('token'));\r\n        console.log(\"LocalStorage user:\", localStorage.getItem('user'));\r\n        \r\n        // If store user is undefined but we have token, try to re-init from localStorage\r\n        if (!currentUser && localStorage.getItem('token') && localStorage.getItem('user')) {\r\n          console.log(\"Re-initializing auth from localStorage...\");\r\n          await this.$store.dispatch('auth/checkAuth');\r\n          currentUser = this.$store.getters[\"auth/user\"];\r\n          console.log(\"Refreshed user:\", currentUser);\r\n        }\r\n        \r\n        // Final fallback: parse user directly from localStorage if store is still empty\r\n        if (!currentUser && localStorage.getItem('user')) {\r\n          try {\r\n            console.log(\"Emergency fallback: parsing user from localStorage\");\r\n            currentUser = JSON.parse(localStorage.getItem('user'));\r\n            console.log(\"Emergency fallback user:\", currentUser);\r\n          } catch (e) {\r\n            console.error(\"Failed to parse user from localStorage:\", e);\r\n          }\r\n        }\r\n\r\n        if (currentUser && currentUser.role === \"student\") {\r\n          console.log(\"Making API call to get courses...\"); // Debug log\r\n          // Get courses the student is enrolled in\r\n          const response = await axios.get(\"/api/enrollments/student/courses\");\r\n          console.log(\"API Response:\", response.data); // Debug log\r\n          this.courses = response.data;\r\n          \r\n          if (this.courses.length === 0) {\r\n            this.error = \"You are not enrolled in any courses yet\";\r\n          }\r\n        } else {\r\n          this.error = `Access denied - Student role required. Current user role: ${currentUser?.role || 'undefined'}`;\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error loading courses:\", error);\r\n        if (error.response?.status === 401) {\r\n          this.error = \"Authentication failed - please log in again\";\r\n          this.$router.push('/login');\r\n        } else {\r\n          this.error = error.response?.data?.error || \"Failed to load courses\";\r\n        }\r\n      }\r\n    },\r\n    async loadComparison() {\r\n      if (!this.selectedCourseId) {\r\n        this.comparisonData = null;\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      this.error = null;\r\n\r\n      try {\r\n        const response = await axios.get(\r\n          `/api/comparisons/coursemates/${this.selectedCourseId}`\r\n        );\r\n        this.comparisonData = response.data;\r\n      } catch (error) {\r\n        console.error(\"Error loading comparison:\", error);\r\n        this.error =\r\n          error.response?.data?.error || \"Failed to load comparison data\";\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    getPerformanceBadgeClass(percentage) {\r\n      if (percentage >= 90) return \"bg-success\";\r\n      if (percentage >= 80) return \"bg-primary\";\r\n      if (percentage >= 70) return \"bg-info\";\r\n      if (percentage >= 60) return \"bg-warning\";\r\n      return \"bg-danger\";\r\n    },\r\n    formatAssessmentName(key) {\r\n      const names = {\r\n        assignment: 'Assignment',\r\n        quiz: 'Quiz',\r\n        test: 'Test',\r\n        final_exam: 'Final Exam'\r\n      };\r\n      return names[key] || key.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase());\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.coursemate-comparison {\r\n  min-height: 100vh;\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.card {\r\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\r\n  border: 1px solid rgba(0, 0, 0, 0.125);\r\n}\r\n\r\n.table th {\r\n  font-weight: 600;\r\n  border-top: none;\r\n}\r\n\r\n.badge {\r\n  font-size: 0.8em;\r\n}\r\n\r\n.performance-metric {\r\n  font-size: 1.2em;\r\n  font-weight: 600;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}