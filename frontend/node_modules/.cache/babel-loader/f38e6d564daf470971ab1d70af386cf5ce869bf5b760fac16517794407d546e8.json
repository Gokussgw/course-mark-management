{"ast":null,"code":"import _regenerator from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"C:/Users/ansmu/Desktop/Web/NEW/course-mark-management/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from \"axios\";\nimport { Modal } from \"bootstrap\";\nexport default {\n  name: \"AdvisorComparisons\",\n  data: function data() {\n    return {\n      advisorData: null,\n      advisees: [],\n      loading: false,\n      error: null,\n      selectedAdvisee: null,\n      selectedCourseForComparison: \"\",\n      detailedComparison: null,\n      detailedLoading: false,\n      comparisonModal: null\n    };\n  },\n  computed: {\n    performingSatisfactorily: function performingSatisfactorily() {\n      var _this = this;\n      return this.advisees.filter(function (advisee) {\n        var avgPerformance = _this.getOverallPerformance(advisee);\n        return avgPerformance >= 70;\n      }).length;\n    },\n    needingAttention: function needingAttention() {\n      var _this2 = this;\n      return this.advisees.filter(function (advisee) {\n        var avgPerformance = _this2.getOverallPerformance(advisee);\n        return avgPerformance < 70 && avgPerformance > 0;\n      }).length;\n    }\n  },\n  created: function created() {\n    var _this3 = this;\n    return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n      return _regenerator().w(function (_context) {\n        while (1) switch (_context.n) {\n          case 0:\n            _context.n = 1;\n            return _this3.loadAdvisees();\n          case 1:\n            return _context.a(2);\n        }\n      }, _callee);\n    }))();\n  },\n  mounted: function mounted() {\n    this.comparisonModal = new Modal(document.getElementById(\"comparisonModal\"));\n  },\n  methods: {\n    loadAdvisees: function loadAdvisees() {\n      var _this4 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2() {\n        var response, _error$response, _t;\n        return _regenerator().w(function (_context2) {\n          while (1) switch (_context2.n) {\n            case 0:\n              _this4.loading = true;\n              _this4.error = null;\n              _context2.p = 1;\n              _context2.n = 2;\n              return axios.get(\"/api/comparisons/advisor/students\");\n            case 2:\n              response = _context2.v;\n              _this4.advisorData = response.data.advisor;\n              _this4.advisees = response.data.advisees;\n              _context2.n = 4;\n              break;\n            case 3:\n              _context2.p = 3;\n              _t = _context2.v;\n              console.error(\"Error loading advisees:\", _t);\n              _this4.error = ((_error$response = _t.response) === null || _error$response === void 0 || (_error$response = _error$response.data) === null || _error$response === void 0 ? void 0 : _error$response.error) || \"Failed to load advisee data\";\n            case 4:\n              _context2.p = 4;\n              _this4.loading = false;\n              return _context2.f(4);\n            case 5:\n              return _context2.a(2);\n          }\n        }, _callee2, null, [[1, 3, 4, 5]]);\n      }))();\n    },\n    getOverallPerformance: function getOverallPerformance(advisee) {\n      if (!advisee.courses || advisee.courses.length === 0) return 0;\n      var validCourses = advisee.courses.filter(function (course) {\n        return course.average_percentage !== null;\n      });\n      if (validCourses.length === 0) return 0;\n      var total = validCourses.reduce(function (sum, course) {\n        return sum + course.average_percentage;\n      }, 0);\n      return total / validCourses.length;\n    },\n    getPerformanceBadgeClass: function getPerformanceBadgeClass(percentage) {\n      if (!percentage) return \"bg-secondary\";\n      if (percentage >= 90) return \"bg-success\";\n      if (percentage >= 80) return \"bg-primary\";\n      if (percentage >= 70) return \"bg-info\";\n      if (percentage >= 60) return \"bg-warning\";\n      return \"bg-danger\";\n    },\n    getPerformanceProgressClass: function getPerformanceProgressClass(percentage) {\n      if (!percentage) return \"bg-secondary\";\n      if (percentage >= 90) return \"bg-success\";\n      if (percentage >= 80) return \"bg-primary\";\n      if (percentage >= 70) return \"bg-info\";\n      if (percentage >= 60) return \"bg-warning\";\n      return \"bg-danger\";\n    },\n    getComparisonBadgeClass: function getComparisonBadgeClass(studentScore, classAverage) {\n      var difference = studentScore - classAverage;\n      if (difference > 10) return \"bg-success\";\n      if (difference > 0) return \"bg-primary\";\n      if (difference > -10) return \"bg-warning\";\n      return \"bg-danger\";\n    },\n    getComparisonText: function getComparisonText(studentScore, classAverage) {\n      var difference = studentScore - classAverage;\n      if (difference > 10) return \"Excellent (+\".concat(difference.toFixed(1), \")\");\n      if (difference > 0) return \"Above Average (+\".concat(difference.toFixed(1), \")\");\n      if (difference > -10) return \"Below Average (\".concat(difference.toFixed(1), \")\");\n      return \"Needs Support (\".concat(difference.toFixed(1), \")\");\n    },\n    viewDetailedComparison: function viewDetailedComparison(advisee) {\n      this.selectedAdvisee = advisee;\n      this.selectedCourseForComparison = \"\";\n      this.detailedComparison = null;\n      this.comparisonModal.show();\n    },\n    loadDetailedComparison: function loadDetailedComparison() {\n      var _this5 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3() {\n        var response, _t2;\n        return _regenerator().w(function (_context3) {\n          while (1) switch (_context3.n) {\n            case 0:\n              if (!(!_this5.selectedCourseForComparison || !_this5.selectedAdvisee)) {\n                _context3.n = 1;\n                break;\n              }\n              return _context3.a(2);\n            case 1:\n              _this5.detailedLoading = true;\n              _context3.p = 2;\n              _context3.n = 3;\n              return axios.get(\"/api/comparisons/coursemates/\".concat(_this5.selectedCourseForComparison), {\n                params: {\n                  student_id: _this5.selectedAdvisee.id\n                }\n              });\n            case 3:\n              response = _context3.v;\n              _this5.detailedComparison = response.data;\n              _context3.n = 5;\n              break;\n            case 4:\n              _context3.p = 4;\n              _t2 = _context3.v;\n              console.error(\"Error loading detailed comparison:\", _t2);\n              _this5.error = \"Failed to load detailed comparison\";\n            case 5:\n              _context3.p = 5;\n              _this5.detailedLoading = false;\n              return _context3.f(5);\n            case 6:\n              return _context3.a(2);\n          }\n        }, _callee3, null, [[2, 4, 5, 6]]);\n      }))();\n    },\n    scheduleOneOnOne: function scheduleOneOnOne(advisee) {\n      // Placeholder for scheduling functionality\n      alert(\"Scheduling one-on-one meeting with \".concat(advisee.name, \". This feature would integrate with a calendar system.\"));\n    },\n    exportComparison: function exportComparison() {\n      // Placeholder for export functionality\n      alert(\"Export functionality would generate a PDF or Excel report of the comparison data.\");\n    }\n  }\n};","map":{"version":3,"names":["axios","Modal","name","data","advisorData","advisees","loading","error","selectedAdvisee","selectedCourseForComparison","detailedComparison","detailedLoading","comparisonModal","computed","performingSatisfactorily","_this","filter","advisee","avgPerformance","getOverallPerformance","length","needingAttention","_this2","created","_this3","_asyncToGenerator","_regenerator","m","_callee","w","_context","n","loadAdvisees","a","mounted","document","getElementById","methods","_this4","_callee2","response","_error$response","_t","_context2","p","get","v","advisor","console","f","courses","validCourses","course","average_percentage","total","reduce","sum","getPerformanceBadgeClass","percentage","getPerformanceProgressClass","getComparisonBadgeClass","studentScore","classAverage","difference","getComparisonText","concat","toFixed","viewDetailedComparison","show","loadDetailedComparison","_this5","_callee3","_t2","_context3","params","student_id","id","scheduleOneOnOne","alert","exportComparison"],"sources":["C:\\Users\\ansmu\\Desktop\\Web\\NEW\\course-mark-management\\frontend\\src\\views\\advisor\\AdvisorComparisons.vue"],"sourcesContent":["<template>\r\n  <div class=\"advisor-comparisons\">\r\n    <div class=\"container mt-4\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header bg-success text-white\">\r\n              <h4 class=\"mb-0\">\r\n                <i class=\"fas fa-user-graduate me-2\"></i>\r\n                Advisee Performance Monitoring\r\n              </h4>\r\n              <small v-if=\"advisorData\">\r\n                Managing {{ advisorData.total_advisees }} student{{\r\n                  advisorData.total_advisees !== 1 ? \"s\" : \"\"\r\n                }}\r\n              </small>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <!-- Loading State -->\r\n              <div v-if=\"loading\" class=\"text-center py-4\">\r\n                <div class=\"spinner-border text-success\" role=\"status\">\r\n                  <span class=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n                <p class=\"mt-2\">Loading advisee data...</p>\r\n              </div>\r\n\r\n              <!-- Error State -->\r\n              <div v-if=\"error\" class=\"alert alert-danger\">\r\n                <i class=\"fas fa-exclamation-triangle me-2\"></i>\r\n                {{ error }}\r\n              </div>\r\n\r\n              <!-- Advisees List -->\r\n              <div v-if=\"advisees && !loading\" class=\"advisees-section\">\r\n                <!-- Summary Cards -->\r\n                <div class=\"row mb-4\">\r\n                  <div class=\"col-md-4\">\r\n                    <div class=\"card bg-primary text-white\">\r\n                      <div class=\"card-body text-center\">\r\n                        <h3>{{ advisees.length }}</h3>\r\n                        <p class=\"mb-0\">Total Advisees</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-md-4\">\r\n                    <div class=\"card bg-success text-white\">\r\n                      <div class=\"card-body text-center\">\r\n                        <h3>{{ performingSatisfactorily }}</h3>\r\n                        <p class=\"mb-0\">Performing Well</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-md-4\">\r\n                    <div class=\"card bg-warning text-dark\">\r\n                      <div class=\"card-body text-center\">\r\n                        <h3>{{ needingAttention }}</h3>\r\n                        <p class=\"mb-0\">Need Attention</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- Advisees Table -->\r\n                <div class=\"card\">\r\n                  <div class=\"card-header\">\r\n                    <h5 class=\"mb-0\">\r\n                      <i class=\"fas fa-table me-2\"></i>\r\n                      Advisee Performance Overview\r\n                    </h5>\r\n                  </div>\r\n                  <div class=\"card-body\">\r\n                    <div class=\"table-responsive\">\r\n                      <table class=\"table table-striped\">\r\n                        <thead class=\"table-dark\">\r\n                          <tr>\r\n                            <th>Student</th>\r\n                            <th>Matric Number</th>\r\n                            <th>Courses</th>\r\n                            <th>Overall Performance</th>\r\n                            <th>Actions</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          <tr v-for=\"advisee in advisees\" :key=\"advisee.id\">\r\n                            <td>\r\n                              <strong>{{ advisee.name }}</strong>\r\n                            </td>\r\n                            <td>{{ advisee.matric_number }}</td>\r\n                            <td>\r\n                              <span class=\"badge bg-info\">\r\n                                {{ advisee.total_courses }} course{{\r\n                                  advisee.total_courses !== 1 ? \"s\" : \"\"\r\n                                }}\r\n                              </span>\r\n                            </td>\r\n                            <td>\r\n                              <div v-if=\"advisee.courses.length > 0\">\r\n                                <div class=\"row\">\r\n                                  <div class=\"col-12\">\r\n                                    <small class=\"text-muted\"\r\n                                      >Course Performance:</small\r\n                                    >\r\n                                  </div>\r\n                                </div>\r\n                                <div\r\n                                  v-for=\"course in advisee.courses\"\r\n                                  :key=\"course.course_id\"\r\n                                  class=\"mb-1\"\r\n                                >\r\n                                  <div\r\n                                    class=\"d-flex justify-content-between align-items-center\"\r\n                                  >\r\n                                    <small\r\n                                      ><strong\r\n                                        >{{ course.code }}:</strong\r\n                                      ></small\r\n                                    >\r\n                                    <span\r\n                                      class=\"badge ms-1\"\r\n                                      :class=\"\r\n                                        getPerformanceBadgeClass(\r\n                                          course.average_percentage\r\n                                        )\r\n                                      \"\r\n                                    >\r\n                                      {{ course.average_percentage || \"N/A\" }}%\r\n                                    </span>\r\n                                  </div>\r\n                                  <div\r\n                                    class=\"progress mb-1\"\r\n                                    style=\"height: 5px\"\r\n                                  >\r\n                                    <div\r\n                                      class=\"progress-bar\"\r\n                                      :class=\"\r\n                                        getPerformanceProgressClass(\r\n                                          course.average_percentage\r\n                                        )\r\n                                      \"\r\n                                      :style=\"{\r\n                                        width:\r\n                                          (course.average_percentage || 0) +\r\n                                          '%',\r\n                                      }\"\r\n                                    ></div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              <div v-else class=\"text-muted\">\r\n                                No assessment data available\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div class=\"btn-group\" role=\"group\">\r\n                                <button\r\n                                  class=\"btn btn-sm btn-outline-primary\"\r\n                                  @click=\"viewDetailedComparison(advisee)\"\r\n                                  :disabled=\"advisee.courses.length === 0\"\r\n                                >\r\n                                  <i class=\"fas fa-chart-line me-1\"></i>\r\n                                  View Details\r\n                                </button>\r\n                                <button\r\n                                  class=\"btn btn-sm btn-outline-success\"\r\n                                  @click=\"scheduleOneOnOne(advisee)\"\r\n                                >\r\n                                  <i class=\"fas fa-calendar me-1\"></i>\r\n                                  Schedule\r\n                                </button>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Detailed Comparison Modal -->\r\n              <div\r\n                class=\"modal fade\"\r\n                id=\"comparisonModal\"\r\n                tabindex=\"-1\"\r\n                aria-hidden=\"true\"\r\n              >\r\n                <div class=\"modal-dialog modal-xl\">\r\n                  <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                      <h5 class=\"modal-title\">\r\n                        <i class=\"fas fa-chart-bar me-2\"></i>\r\n                        Detailed Performance Comparison -\r\n                        {{ selectedAdvisee?.name }}\r\n                      </h5>\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"btn-close\"\r\n                        data-bs-dismiss=\"modal\"\r\n                      ></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                      <!-- Course Selection for Detailed View -->\r\n                      <div class=\"row mb-3\">\r\n                        <div class=\"col-md-6\">\r\n                          <label for=\"modalCourseSelect\" class=\"form-label\"\r\n                            >Select Course:</label\r\n                          >\r\n                          <select\r\n                            id=\"modalCourseSelect\"\r\n                            v-model=\"selectedCourseForComparison\"\r\n                            @change=\"loadDetailedComparison\"\r\n                            class=\"form-select\"\r\n                          >\r\n                            <option value=\"\">Choose a course...</option>\r\n                            <option\r\n                              v-for=\"course in selectedAdvisee?.courses\"\r\n                              :key=\"course.course_id\"\r\n                              :value=\"course.course_id\"\r\n                            >\r\n                              {{ course.code }} - {{ course.course_name }}\r\n                            </option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <!-- Detailed Comparison Loading -->\r\n                      <div v-if=\"detailedLoading\" class=\"text-center py-4\">\r\n                        <div class=\"spinner-border text-primary\" role=\"status\">\r\n                          <span class=\"visually-hidden\"\r\n                            >Loading detailed comparison...</span\r\n                          >\r\n                        </div>\r\n                      </div>\r\n\r\n                      <!-- Detailed Comparison Results -->\r\n                      <div v-if=\"detailedComparison && !detailedLoading\">\r\n                        <!-- Student vs Class Performance -->\r\n                        <div class=\"row mb-4\">\r\n                          <div class=\"col-md-6\">\r\n                            <div class=\"card border-primary\">\r\n                              <div class=\"card-header bg-primary text-white\">\r\n                                <h6 class=\"mb-0\">\r\n                                  {{ selectedAdvisee.name }}'s Performance\r\n                                </h6>\r\n                              </div>\r\n                              <div class=\"card-body\">\r\n                                <h4 class=\"text-primary\">\r\n                                  {{\r\n                                    detailedComparison.student_performance\r\n                                      .total_score\r\n                                  }}%\r\n                                </h4>\r\n                                <p class=\"mb-1\">\r\n                                  <strong>Rank:</strong>\r\n                                  {{\r\n                                    detailedComparison.student_performance.rank\r\n                                  }}\r\n                                  /\r\n                                  {{\r\n                                    detailedComparison.student_performance\r\n                                      .total_students\r\n                                  }}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"col-md-6\">\r\n                            <div class=\"card border-info\">\r\n                              <div class=\"card-header bg-info text-white\">\r\n                                <h6 class=\"mb-0\">Class Average</h6>\r\n                              </div>\r\n                              <div class=\"card-body\">\r\n                                <h4 class=\"text-info\">\r\n                                  {{\r\n                                    detailedComparison.class_performance\r\n                                      .average_score\r\n                                  }}%\r\n                                </h4>\r\n                                <p class=\"mb-1\">\r\n                                  <strong>Total Students:</strong>\r\n                                  {{\r\n                                    detailedComparison.class_performance\r\n                                      .total_enrolled\r\n                                  }}\r\n                                </p>\r\n                                <span\r\n                                  class=\"badge\"\r\n                                  :class=\"\r\n                                    getComparisonBadgeClass(\r\n                                      detailedComparison.student_performance\r\n                                        .total_score,\r\n                                      detailedComparison.class_performance\r\n                                        .average_score\r\n                                    )\r\n                                  \"\r\n                                >\r\n                                  {{\r\n                                    getComparisonText(\r\n                                      detailedComparison.student_performance\r\n                                        .total_score,\r\n                                      detailedComparison.class_performance\r\n                                        .average_score\r\n                                    )\r\n                                  }}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <!-- Assessment Details Table -->\r\n                        <div class=\"table-responsive\">\r\n                          <table class=\"table table-sm\">\r\n                            <thead class=\"table-light\">\r\n                              <tr>\r\n                                <th>Assessment</th>\r\n                                <th>Student Score</th>\r\n                                <th>Class Average</th>\r\n                                <th>Comparison</th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                              <tr\r\n                                v-for=\"assessment in detailedComparison.assessments\"\r\n                                :key=\"assessment.assessment.name\"\r\n                              >\r\n                                <td>\r\n                                  <strong>{{\r\n                                    assessment.assessment.name\r\n                                  }}</strong\r\n                                  ><br />\r\n                                  <small class=\"text-muted\">{{\r\n                                    assessment.assessment.type\r\n                                  }}</small>\r\n                                </td>\r\n                                <td>\r\n                                  {{ assessment.student_performance.mark }} /\r\n                                  {{ assessment.assessment.max_mark }}\r\n                                  <br />\r\n                                  <span\r\n                                    class=\"badge\"\r\n                                    :class=\"\r\n                                      getPerformanceBadgeClass(\r\n                                        assessment.student_performance\r\n                                          .percentage\r\n                                      )\r\n                                    \"\r\n                                  >\r\n                                    {{\r\n                                      assessment.student_performance.percentage\r\n                                    }}%\r\n                                  </span>\r\n                                </td>\r\n                                <td>\r\n                                  {{ assessment.class_statistics.average }}\r\n                                  <br />\r\n                                  <small class=\"text-muted\"\r\n                                    >{{\r\n                                      assessment.class_statistics\r\n                                        .average_percentage\r\n                                    }}%</small\r\n                                  >\r\n                                </td>\r\n                                <td>\r\n                                  <span\r\n                                    class=\"badge\"\r\n                                    :class=\"\r\n                                      assessment.comparison.above_average\r\n                                        ? 'bg-success'\r\n                                        : 'bg-warning'\r\n                                    \"\r\n                                  >\r\n                                    {{\r\n                                      assessment.comparison.above_average\r\n                                        ? \"Above\"\r\n                                        : \"Below\"\r\n                                    }}\r\n                                    Average\r\n                                  </span>\r\n                                  <br />\r\n                                  <small class=\"text-muted\">\r\n                                    {{\r\n                                      assessment.comparison\r\n                                        .difference_from_average > 0\r\n                                        ? \"+\"\r\n                                        : \"\"\r\n                                    }}{{\r\n                                      assessment.comparison\r\n                                        .difference_from_average\r\n                                    }}\r\n                                  </small>\r\n                                </td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-secondary\"\r\n                        data-bs-dismiss=\"modal\"\r\n                      >\r\n                        Close\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-primary\"\r\n                        @click=\"exportComparison\"\r\n                      >\r\n                        <i class=\"fas fa-download me-1\"></i>Export Report\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { Modal } from \"bootstrap\";\r\n\r\nexport default {\r\n  name: \"AdvisorComparisons\",\r\n  data() {\r\n    return {\r\n      advisorData: null,\r\n      advisees: [],\r\n      loading: false,\r\n      error: null,\r\n      selectedAdvisee: null,\r\n      selectedCourseForComparison: \"\",\r\n      detailedComparison: null,\r\n      detailedLoading: false,\r\n      comparisonModal: null,\r\n    };\r\n  },\r\n  computed: {\r\n    performingSatisfactorily() {\r\n      return this.advisees.filter((advisee) => {\r\n        const avgPerformance = this.getOverallPerformance(advisee);\r\n        return avgPerformance >= 70;\r\n      }).length;\r\n    },\r\n    needingAttention() {\r\n      return this.advisees.filter((advisee) => {\r\n        const avgPerformance = this.getOverallPerformance(advisee);\r\n        return avgPerformance < 70 && avgPerformance > 0;\r\n      }).length;\r\n    },\r\n  },\r\n  async created() {\r\n    await this.loadAdvisees();\r\n  },\r\n  mounted() {\r\n    this.comparisonModal = new Modal(\r\n      document.getElementById(\"comparisonModal\")\r\n    );\r\n  },\r\n  methods: {\r\n    async loadAdvisees() {\r\n      this.loading = true;\r\n      this.error = null;\r\n\r\n      try {\r\n        const response = await axios.get(\"/api/comparisons/advisor/students\");\r\n        this.advisorData = response.data.advisor;\r\n        this.advisees = response.data.advisees;\r\n      } catch (error) {\r\n        console.error(\"Error loading advisees:\", error);\r\n        this.error =\r\n          error.response?.data?.error || \"Failed to load advisee data\";\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    getOverallPerformance(advisee) {\r\n      if (!advisee.courses || advisee.courses.length === 0) return 0;\r\n\r\n      const validCourses = advisee.courses.filter(\r\n        (course) => course.average_percentage !== null\r\n      );\r\n      if (validCourses.length === 0) return 0;\r\n\r\n      const total = validCourses.reduce(\r\n        (sum, course) => sum + course.average_percentage,\r\n        0\r\n      );\r\n      return total / validCourses.length;\r\n    },\r\n    getPerformanceBadgeClass(percentage) {\r\n      if (!percentage) return \"bg-secondary\";\r\n      if (percentage >= 90) return \"bg-success\";\r\n      if (percentage >= 80) return \"bg-primary\";\r\n      if (percentage >= 70) return \"bg-info\";\r\n      if (percentage >= 60) return \"bg-warning\";\r\n      return \"bg-danger\";\r\n    },\r\n    getPerformanceProgressClass(percentage) {\r\n      if (!percentage) return \"bg-secondary\";\r\n      if (percentage >= 90) return \"bg-success\";\r\n      if (percentage >= 80) return \"bg-primary\";\r\n      if (percentage >= 70) return \"bg-info\";\r\n      if (percentage >= 60) return \"bg-warning\";\r\n      return \"bg-danger\";\r\n    },\r\n    getComparisonBadgeClass(studentScore, classAverage) {\r\n      const difference = studentScore - classAverage;\r\n      if (difference > 10) return \"bg-success\";\r\n      if (difference > 0) return \"bg-primary\";\r\n      if (difference > -10) return \"bg-warning\";\r\n      return \"bg-danger\";\r\n    },\r\n    getComparisonText(studentScore, classAverage) {\r\n      const difference = studentScore - classAverage;\r\n      if (difference > 10) return `Excellent (+${difference.toFixed(1)})`;\r\n      if (difference > 0) return `Above Average (+${difference.toFixed(1)})`;\r\n      if (difference > -10) return `Below Average (${difference.toFixed(1)})`;\r\n      return `Needs Support (${difference.toFixed(1)})`;\r\n    },\r\n    viewDetailedComparison(advisee) {\r\n      this.selectedAdvisee = advisee;\r\n      this.selectedCourseForComparison = \"\";\r\n      this.detailedComparison = null;\r\n      this.comparisonModal.show();\r\n    },\r\n    async loadDetailedComparison() {\r\n      if (!this.selectedCourseForComparison || !this.selectedAdvisee) return;\r\n\r\n      this.detailedLoading = true;\r\n\r\n      try {\r\n        const response = await axios.get(\r\n          `/api/comparisons/coursemates/${this.selectedCourseForComparison}`,\r\n          {\r\n            params: { student_id: this.selectedAdvisee.id },\r\n          }\r\n        );\r\n        this.detailedComparison = response.data;\r\n      } catch (error) {\r\n        console.error(\"Error loading detailed comparison:\", error);\r\n        this.error = \"Failed to load detailed comparison\";\r\n      } finally {\r\n        this.detailedLoading = false;\r\n      }\r\n    },\r\n    scheduleOneOnOne(advisee) {\r\n      // Placeholder for scheduling functionality\r\n      alert(\r\n        `Scheduling one-on-one meeting with ${advisee.name}. This feature would integrate with a calendar system.`\r\n      );\r\n    },\r\n    exportComparison() {\r\n      // Placeholder for export functionality\r\n      alert(\r\n        \"Export functionality would generate a PDF or Excel report of the comparison data.\"\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.advisor-comparisons {\r\n  min-height: 100vh;\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.card {\r\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\r\n  border: 1px solid rgba(0, 0, 0, 0.125);\r\n}\r\n\r\n.progress {\r\n  height: 5px;\r\n}\r\n\r\n.btn-group .btn {\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.modal-xl {\r\n  max-width: 1200px;\r\n}\r\n\r\n.table th {\r\n  font-weight: 600;\r\n  border-top: none;\r\n}\r\n\r\n.badge {\r\n  font-size: 0.8em;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}