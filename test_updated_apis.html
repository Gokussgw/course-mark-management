<!DOCTYPE html>
<html>
  <head>
    <title>Test Updated APIs</title>
  </head>
  <body>
    <h1>Test Updated Marks APIs</h1>

    <div>
      <h2>Test Ranking API</h2>
      <button onclick="testStudentRanking()">Test Student Ranking</button>
      <div id="ranking-results"></div>
    </div>

    <div>
      <h2>Test Comparisons API</h2>
      <button onclick="testComparisons()">Test Coursemate Comparison</button>
      <div id="comparison-results"></div>
    </div>

    <script>
      function testStudentRanking() {
        fetch(
          "http://localhost:8000/ranking-api.php?action=student_ranking&student_id=4"
        )
          .then((response) => response.json())
          .then((data) => {
            document.getElementById("ranking-results").innerHTML =
              "<pre>" + JSON.stringify(data, null, 2) + "</pre>";
          })
          .catch((error) => {
            document.getElementById("ranking-results").innerHTML =
              "Error: " + error;
          });
      }

      function testComparisons() {
        // Test with coursemate comparison - need to simulate being logged in as a student
        // This might not work without proper authentication, but we can see the error
        fetch("http://localhost:8000/api/comparisons/coursemates/1")
          .then((response) => response.json())
          .then((data) => {
            document.getElementById("comparison-results").innerHTML =
              "<pre>" + JSON.stringify(data, null, 2) + "</pre>";
          })
          .catch((error) => {
            document.getElementById("comparison-results").innerHTML =
              "Error: " + error;
          });
      }
    </script>
  </body>
</html>
